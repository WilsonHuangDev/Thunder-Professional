module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=62)}([function(t,e){t.exports=require("path")},function(t,e,n){var r=n(9),i=n(86),o=n(88),s=n(89),a=[],u=n(11);var c,l,f=function(){};function p(t){i(t),t.gracefulify=p,t.FileReadStream=f,t.FileWriteStream=m,t.createReadStream=function(t,e){return new f(t,e)},t.createWriteStream=function(t,e){return new m(t,e)};var e=t.readFile;t.readFile=function(t,n,r){"function"==typeof n&&(r=n,n=null);return function t(n,r,i){return e(n,r,function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof i&&i.apply(this,arguments),d()):h([t,[n,r,i]])})}(t,n,r)};var n=t.writeFile;t.writeFile=function(t,e,r,i){"function"==typeof r&&(i=r,r=null);return function t(e,r,i,o){return n(e,r,i,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof o&&o.apply(this,arguments),d()):h([t,[e,r,i,o]])})}(t,e,r,i)};var r=t.appendFile;r&&(t.appendFile=function(t,e,n,i){"function"==typeof n&&(i=n,n=null);return function t(e,n,i,o){return r(e,n,i,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof o&&o.apply(this,arguments),d()):h([t,[e,n,i,o]])})}(t,e,n,i)});var s=t.readdir;function a(e){return s.apply(t,e)}if(t.readdir=function(t,e,n){var r=[t];"function"!=typeof e?r.push(e):n=e;return r.push(function(t,e){e&&e.sort&&e.sort(),!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof n&&n.apply(this,arguments),d()):h([a,[r]])}),a(r)},"v0.8"===process.version.substr(0,4)){var u=o(t);f=u.ReadStream,m=u.WriteStream}var c=t.ReadStream;c&&(f.prototype=Object.create(c.prototype),f.prototype.open=function(){var t=this;g(t.path,t.flags,t.mode,function(e,n){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n),t.read())})});var l=t.WriteStream;function f(t,e){return this instanceof f?(c.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}function m(t,e){return this instanceof m?(l.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}l&&(m.prototype=Object.create(l.prototype),m.prototype.open=function(){var t=this;g(t.path,t.flags,t.mode,function(e,n){e?(t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n))})}),t.ReadStream=f,t.WriteStream=m;var v=t.open;function g(t,e,n,r){return"function"==typeof n&&(r=n,n=null),function t(e,n,r,i){return v(e,n,r,function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof i&&i.apply(this,arguments),d()):h([t,[e,n,r,i]])})}(t,e,n,r)}return t.open=g,t}function h(t){f("ENQUEUE",t[0].name,t[1]),a.push(t)}function d(){var t=a.shift();t&&(f("RETRY",t[0].name,t[1]),t[0].apply(null,t[1]))}u.debuglog?f=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(f=function(){var t=u.format.apply(u,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){f(a),n(21).equal(a.length,0)}),t.exports=p(s(r)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!r.__patched&&(t.exports=p(r),r.__patched=!0),t.exports.close=(c=r.close,function(t,e){return c.call(r,t,function(t){t||d(),"function"==typeof e&&e.apply(this,arguments)})}),t.exports.closeSync=(l=r.closeSync,function(t){var e=l.apply(r,arguments);return d(),e}),/\bgraceful-fs\b/.test(r.closeSync.toString())||(r.closeSync=t.exports.closeSync,r.close=t.exports.close)},function(t,e,n){"use strict";e.fromCallback=function(t){return Object.defineProperty(function(){if("function"!=typeof arguments[arguments.length-1])return new Promise((e,n)=>{arguments[arguments.length]=((t,r)=>{if(t)return n(t);e(r)}),arguments.length++,t.apply(this,arguments)});t.apply(this,arguments)},"name",{value:t.name})},e.fromPromise=function(t){return Object.defineProperty(function(){const e=arguments[arguments.length-1];if("function"!=typeof e)return t.apply(this,arguments);t.apply(this,arguments).then(t=>e(null,t),e)},"name",{value:t.name})}},function(t,e,n){"use strict";var r=n(52),i=n(121),o=Object.prototype.toString;function s(t){return"[object Array]"===o.call(t)}function a(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function c(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),s(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";const r=(0,n(2).fromCallback)(n(91)),i=n(92);t.exports={mkdirs:r,mkdirsSync:i,mkdirp:r,mkdirpSync:i,ensureDir:r,ensureDirSync:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(12),i=n(9),o=n(0);class s{constructor(t){this.keyword="",this.keyword=t}static start(){s.started||(s.started=!0,s.mkDir(),s.configure())}static getLogger(t){return new s(t)}information(...t){s.logger&&s.logger.info(`[${this.keyword}]`,...t)}warning(...t){s.logger&&s.logger.warn(`[${this.keyword}]`,...t)}error(...t){s.logger&&s.logger.error(`[${this.keyword}]`,...t)}static mkDir(){let t=!1;try{i.mkdirSync(s.logDir),t=!0}catch(t){}return t}static configure(){const t=n(69);s.logger=t.getLogger(r.default.binName),t.configure({appenders:{cheese:{type:"file",filename:s.logName,maxLogSize:104857600,backups:10}},categories:{default:{appenders:["cheese"],level:"info"}}})}static get logName(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),i=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),u=e+"-";return n<10&&(u+="0"),u+=n+"-",r<10&&(u+="0"),u+=r+"-[",i<10&&(u+="0"),u+=i+"-",o<10&&(u+="0"),u+=o+"-",a<10&&(u+="0"),u+=a,u+="]",`${s.logDir}//${u}.log`}}s.logDir=o.join(__dirname,"log"),s.started=!1,s.logger=null,e.Logger=s},function(t,e,n){"use strict";const r=n(2).fromPromise,i=n(43);t.exports={pathExists:r(function(t){return i.access(t).then(()=>!0).catch(()=>!1)}),pathExistsSync:i.existsSync}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(15),o=n(65),s=n(30),a=n(29);function u(t){a.information("on object freeer"),global.__xdasIPCClienInstance.notifyFreer(t.remoteId,t.callbackId)}let c=void 0;global.__xdasIPCClienInstance||(global.__xdasIPCClienInstance=new class extends i.EventEmitter{constructor(){super(),this.rid=0,this.apis={},this.singletonMap={},this.connectedMap={},this.retCallbackMap={},this.eventCallbackMaps={},this.contextCallbackMap={}}start(t,e,n,r){do{if(e||(e=s.getDefaultPrex()),this.singletonMap.hasOwnProperty(e.toLowerCase())){if(r)if(this.connectedMap.hasOwnProperty(e.toLowerCase()))r("connect");else{let t=this.singletonMap[e.toLowerCase()];t.on("error",t=>{r("error",t)}),t.on("connect",()=>{r("connect")}),t.on("end",()=>{let e=t.isInprocess();r("end",t.getContext(),n,e)})}break}if(global.__xdasPluginConfig&&global.__xdasPluginConfig.name?t={name:global.__xdasPluginConfig.name,version:global.__xdasPluginConfig.version}:void 0!==t&&null!==t||(t=this.parseContext()),!t){if(!this.client||!this.client.getContext())throw new Error("no suitable context for client, please specify context with start function");t={name:this.client.getContext().name,version:this.client.getContext().version}}if(t.name===s.serverContextName)throw new Error("client context must difference from server");if(n&&!this.client)throw new Error("connect to other product must start self firstly");global.__xdasPluginConfig||(global.__xdasPluginConfig=t);let i=new o.Client({context:t,socketPrex:e});this.singletonMap[e.toLowerCase()]=i,n||(this.client=i),i.on("message",t=>{if("fire_event"===t.action)this.fireServerEvent(i,t.name,[t.__context].concat(t.args));else if("client_context_freer"===t.action)do{let e=t.rid;if(e){if(!this.contextCallbackMap[e])break;delete this.contextCallbackMap[e]}}while(0);else if("call_client_by_id"===t.action)this.callFunctionById(i,t.rid,t.s_rid,t.args);else if("call_client_api"===t.action)this.callRegisterFunction(i,t);else if("check_client_function"===t.action){let e=t.method,n=!0;e&&this.apis&&this.apis[e]||(n=!1),this.sendAdapter(i,{s_rid:t.s_rid,action:"check_client_function_callback",success:!0,data:n})}else if(void 0!==t.success&&null!==t.success){let e=t;this.client===i&&this.emit("stat_call_function_back",i.getContext(),t);const n=this.retCallbackMap[e.rid].callback;if(n)if(e.success)do{if("remote_client_callback"===t.action&&t.__context&&t.__context.name&&t.__context.productId){let r=`${t.__context.productId}-${t.__context.name}`.toLowerCase();n(null,this.decodeParameter(e.data,r));break}n(null,e.data)}while(0);else n(e.error,e.data);delete this.retCallbackMap[e.rid]}}),i.on("error",t=>{r&&r("error",t),this.emit("socket-error",t,i.getContext(),n,i.isInprocess()),delete this.singletonMap[e.toLowerCase()],delete this.connectedMap[e.toLowerCase()],n||(this.client=null)}),i.isInprocess()?(this.connectedMap[e.toLowerCase()]=i,r&&r("connect"),this.emit("connect",i.getContext(),n,!0)):i.on("connect",()=>{this.connectedMap[e.toLowerCase()]=i,r&&r("connect"),this.emit("connect",i.getContext(),n,!1)}),i.on("end",()=>{let t=i.isInprocess();a.information("server is ended, and this client emit end",e,n,t),r&&r("end",i.getContext(),n,t),this.emit("end",i.getContext(),n,t),delete this.singletonMap[e.toLowerCase()],delete this.connectedMap[e.toLowerCase()],n||(this.client=null)}),this.registry(i)}while(0)}registerFunctions(t){do{if(!t)break;let e=void 0;for(let n in t)if(this.apis.hasOwnProperty(n)){e=n;break}if(e)throw new Error(`try to coverd function ${e}`);this.apis=Object.assign({},this.apis,t)}while(0)}checkServerFunction(t){return r(this,void 0,void 0,function*(){return this.internalCheckServerFunction(this.client,t)})}callServerFunction(t,...e){return r(this,void 0,void 0,function*(){let n=null,r=yield this.callServerFunctionEx(t,...e);return r&&(n=r[0]),n})}callServerFunctionEx(t,...e){return this.internalCallServerFunctionEx(this.client,t,...e)}isRemoteClientExist(t){return this.internalIsRemoteClientExist(this.client,t)}checkRemoteFunction(t,e){return this.internalCheckRemoteFunction(this.client,t,e)}callRemoteClientFunction(t,e,...n){return this.internalCallRemoteClientFunction(this.client,t,e,...n)}notifyFreer(t,e){this.sendAdapter(this.client,{action:"client_context_freer",dst:t,rid:e})}callRemoteContextById(t,e,...n){this.sendAdapter(this.client,{dst:t,action:"call_remote_context_by_id",rid:e,args:n})}attachServerEvent(t,e){return this.internalAttachServerEvent(this.client,t,e)}detachServerEvent(t,e){this.internalDetachServerEvent(this.client,t,e)}broadcastEvent(t,...e){this.sendAdapter(this.client,{action:"broadcast",name:t,args:e})}crossCheckServerFunction(t,e){return r(this,void 0,void 0,function*(){{if(!t)throw new Error("An argument for 'productId' was not provided");let n=this.singletonMap[t.toLowerCase()];if(!n)throw new Error("Please call the 'start' interface first");return this.internalCheckServerFunction(n,e)}})}crossCallServerFunction(t,e,...n){return r(this,void 0,void 0,function*(){let r=null,i=yield this.crossCallServerFunctionEx(t,e,...n);return i&&(r=i[0]),r})}crossCallServerFunctionEx(t,e,...n){{if(!t)throw new Error("An argument for 'productId' was not provided");let r=this.singletonMap[t.toLowerCase()];if(!r)throw new Error("Please call the 'start' interface first");if(!e)throw new Error("An argument for 'funcName' was not provided");return this.internalCallServerFunctionEx(r,e,...n)}}crossIsRemoteClientExist(t,e){return r(this,void 0,void 0,function*(){{if(!t)throw new Error("An argument for 'productId' was not provided");let n=this.singletonMap[t.toLowerCase()];if(!n)throw new Error("Please call the 'start' interface first");return this.internalIsRemoteClientExist(n,e)}})}crossCheckRemoteFunction(t,e,n){return r(this,void 0,void 0,function*(){{if(!t)throw new Error("An argument for 'productId' was not provided");let r=this.singletonMap[t.toLowerCase()];if(!r)throw new Error("Please call the 'start' interface first");if(!e)throw new Error("An argument for 'remoteId' was not provided");if(!n)throw new Error("An argument for 'funcName' was not provided");return this.internalCheckRemoteFunction(r,e,n)}})}crossCallRemoteClientFunction(t,e,n,...r){{if(!t)throw new Error("An argument for 'productId' was not provided");let i=this.singletonMap[t.toLowerCase()];if(!i)throw new Error("Please call the 'start' interface first");if(!e)throw new Error("An argument for 'remoteId' was not provided");if(!n)throw new Error("An argument for 'funcName' was not provided");return this.internalCallRemoteClientFunction(i,e,n,...r)}}crossAttachServerEvent(t,e,n){let r=void 0;{if(!t)throw new Error("An argument for 'productId' was not provided");let i=this.singletonMap[t.toLowerCase()];if(!i)throw new Error("Please call the 'start' interface first");if(!e)throw new Error("An argument for 'eventName' was not provided");r=this.internalAttachServerEvent(i,e,n)}return r}crossDetachServerEvent(t,e,n){{if(!t)throw new Error("An argument for 'productId' was not provided");let r=this.singletonMap[t.toLowerCase()];if(!r)throw new Error("Please call the 'start' interface first");if(!e)throw new Error("An argument for 'eventName' was not provided");this.internalDetachServerEvent(r,e,n)}}crossBroadcastEvent(t,e,...n){{if(!t)throw new Error("An argument for 'productId' was not provided");let r=this.singletonMap[t.toLowerCase()];if(!r)throw new Error("Please call the 'start' interface first");if(!e)throw new Error("An argument for 'eventName' was not provided");this.sendAdapter(r,{action:"broadcast",name:e,args:n,__context:Object.assign({},this.client.getContext())})}}registry(t){let e=this.getFullContextName(this.client);return new Promise((n,r)=>{do{if(!e){n(!1);break}let r=this.generateId();const i={alias:e,action:"register",rid:r};let o=(t,r)=>{t?(a.error("register error",t.message),n(r)):n(e)};this.retCallbackMap[r]=Object.assign({callback:o},i),this.sendAdapter(t,i)}while(0)})}getNow(){return Date.now()}sendAdapter(t,e){do{if(!e)break;let n=this.getNow();if(e.timestamp?e.timestamp=[...e.timestamp].concat(n):e.timestamp=[].concat(n),!e.__context){let n=t.getContext();n&&(e=Object.assign({__context:n},e))}t.isInprocess()?(a.information("send to server in process"),global.__xdasIPCServer.emit("message",e,t)):t.send(e)}while(0)}parseContext(){let t=void 0;do{let e="";for(let t=0;t<process.argv.length;t++){let n=process.argv[t];if(0===n.indexOf("--xdas-plugin-name=",0)){e=n.substr("--xdas-plugin-name=".length);break}}if(!e)break;t={name:e}}while(0);return t}generateId(){return this.rid++}getFullContextName(t,e){let n="";do{if(e===s.serverContextName){n=e;break}if(void 0===e){n=`${t.getContext().productId}-${t.getContext().name}`.toLowerCase();break}n=`${t.getContext().productId}-${e}`.toLowerCase()}while(0);return n}internalCheckServerFunction(t,e){return new Promise((n,r)=>{do{if(!t){n(!1);break}if(!e){n(!1);break}let r=this.generateId();const i={action:"check_server_function_exist",method:e,rid:r};let o=(t,e)=>{n(!t&&e)};this.retCallbackMap[r]=Object.assign({callback:o},i),this.sendAdapter(t,i)}while(0)})}internalCallServerFunctionEx(t,e,...n){return new Promise((r,i)=>{do{if(!t){r([null,"client doesn't ready"]);break}if(!e){r([null,"funcName is not specifed"]);break}t===this.client&&this.emit("stat_call_function",this.client.getContext(),e);let i=this.generateId();if(n)for(let t=0;t<n.length;t++)n[t]=this.convertFunction2IdEx(n[t]);const o={rid:i,method:e,args:n};let s=(e,n)=>{e?(a.error("callServerFunction error",e,t.getContext()),r([null,e])):r([n,void 0])};this.retCallbackMap[i]=Object.assign({callback:s},o),this.sendAdapter(t,o)}while(0)})}internalIsRemoteClientExist(t,e){return new Promise((n,r)=>{do{if(!e){n([!1,"remote client alias is not specifed"]);break}if(t===this.client&&e.toLowerCase()===t.getContext().name.toLowerCase()){n([!0,"self is exist"]);break}let r=this.generateId();const i={dst:this.getFullContextName(t,e),action:"check_client_exist",rid:r};let o=(t,e)=>{n(t?[!1,t]:[e,"success"])};this.retCallbackMap[r]=Object.assign({callback:o},i),this.sendAdapter(t,i)}while(0)})}internalCheckRemoteFunction(t,e,n){return new Promise((r,i)=>{do{if(!t){r(!1);break}if(!e){r(!1);break}if(!n){r(!1);break}if(t===this.client&&e.toLowerCase()===t.getContext().name.toLowerCase()){r(!(!this.apis||!this.apis[n]));break}let i=this.generateId();const o={action:"check_client_function_exist",method:n,rid:i,src:this.getFullContextName(this.client),dst:this.getFullContextName(t,e)};let s=(t,e)=>{r(!t&&e)};this.retCallbackMap[i]=Object.assign({callback:s},o),this.sendAdapter(t,o)}while(0)})}internalCallRemoteClientFunction(t,e,n,...r){return new Promise((i,o)=>{do{if(!t){i([null,"client doesn't ready"]);break}if(!e){i([null,"remote client alias is not specifed"]);break}if(!n){i([null,"funcName is not specifed"]);break}let o=(t,e)=>{t?(a.information("callRemoteClientFunction",t.message),i([null,t])):i([e,void 0])};if(r)for(let t=0;t<r.length;t++)r[t]=this.convertFunction2IdEx(r[t]);let s=this.generateId();const u={src:this.getFullContextName(this.client),dst:this.getFullContextName(t,e),action:"call_remote_client_api",method:n,args:r,rid:s};this.retCallbackMap[s]=Object.assign({callback:o},u),this.sendAdapter(t,u)}while(0)})}internalAttachServerEvent(t,e,n){let r=t.getContext().productId.toLowerCase();this.eventCallbackMaps.hasOwnProperty(r)||(this.eventCallbackMaps[r]={}),this.eventCallbackMaps[r].hasOwnProperty(e)||(this.eventCallbackMaps[r][e]={}),s.isObjectEmpty(this.eventCallbackMaps[r][e])&&this.sendAdapter(t,{action:"attach_event",name:e});let i=this.generateId();return this.eventCallbackMaps[r][e][i]=n,i}internalDetachServerEvent(t,e,n){let r=t.getContext().productId.toLowerCase();do{if(!this.eventCallbackMaps.hasOwnProperty(r))break;if(!this.eventCallbackMaps[r].hasOwnProperty(e))break;delete this.eventCallbackMaps[r][e][n],s.isObjectEmpty(this.eventCallbackMaps[r][e])&&this.sendAdapter(t,{action:"detach_event",name:e})}while(0)}fireServerEvent(t,e,...n){let r=t.getContext().productId.toLowerCase();do{if(!this.eventCallbackMaps.hasOwnProperty(r))break;if(!this.eventCallbackMaps[r].hasOwnProperty(e))break;let t=this.eventCallbackMaps[r][e];for(let e in t){let r=t[e];r&&r.apply(null,...n)}}while(0)}callFunctionById(t,e,n,...r){let i=void 0,o=!1;do{const s=this.contextCallbackMap[e];if(!s){a.error("the context function has been freeer",e),i={s_rid:n,action:"call_client_by_id_callback",success:!1,error:"the context function has been freeer"};break}let u=void 0,c=void 0;try{u=s.apply(null,...r)}catch(t){c=t.message;break}if(void 0===n||null===n)break;if(i={s_rid:n,action:"call_client_by_id_callback",success:!1},void 0!==c){i.error=c;break}if(u&&u.then){u.then(e=>{i.data=this.convertFunction2IdEx(e),i.success=!0,this.sendAdapter(t,i)}).catch(e=>{i.error=e instanceof Error?e.message:e,this.sendAdapter(t,i)}),o=!0;break}i.success=!0,i.data=this.convertFunction2IdEx(u)}while(0);!o&&i&&this.sendAdapter(t,i)}convertFunction2IdEx(t){let e=t;if("function"==typeof t){let n=this.generateId();this.contextCallbackMap[n]=t,e={"__nodeipc_callback_id__{A9C9D760-14E8-42CB-A3CB-9C0A0DDFD732}":n}}else if(t&&"object"==typeof t){e=Array.isArray(t)?[...t]:Object.assign({},t);for(let t in e){let n=e[t];if("function"==typeof n){let r=this.generateId();this.contextCallbackMap[r]=n,e[t]={"__nodeipc_callback_id__{A9C9D760-14E8-42CB-A3CB-9C0A0DDFD732}":r}}else n&&"object"==typeof n&&(e[t]=this.convertFunction2IdEx(n))}}return e}decodeParameter(t,e){let n=t;do{if(!t)break;if(!e)break;if("object"!=typeof t)break;let r=t["__nodeipc_callback_id__{A9C9D760-14E8-42CB-A3CB-9C0A0DDFD732}"];if(r){n=((...t)=>{this.callRemoteContextById(e,r,...t)}),global.__xdasObjectLiftMonitor&&global.__xdasObjectLiftMonitor.setObjectFreer(n,{remoteId:e,callbackId:r},u);break}for(let n in t){let r=t[n];t[n]=this.decodeParameter(r,e)}}while(0);return n}callRegisterFunction(t,e){let n=void 0,r=!1;do{if(!e)break;let i=e.method;if(!i)break;let o=this.getNow();if(n={s_rid:e.s_rid,action:"remote_client_callback",success:!1,rid:e.rid,method:e.method,src:e.src,timestamp:e.timestamp?e.timestamp.concat(o):[].concat(o)},!this.apis||!this.apis[i]){n.error=`callRegisterFunction ${i} is undefined`;break}let s=void 0,a=this.decodeParameter(e.args,e.src);try{s=this.apis[i].apply(null,[e.src].concat(a))}catch(t){n.error=t.message;break}if(s&&s.then){s.then(e=>{n.data=this.convertFunction2IdEx(e),n.success=!0,this.sendAdapter(t,n)}).catch(e=>{n.error=e instanceof Error?e.message:e,this.sendAdapter(t,n)}),r=!0;break}n.success=!0,n.data=this.convertFunction2IdEx(s)}while(0);a.information("callRegisterFunction",n),!r&&n&&this.sendAdapter(t,n)}}),c=global.__xdasIPCClienInstance,e.client=c},function(t,e){t.exports=require("os")},function(t,e){t.exports=require("fs")},function(t,e,n){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?t.exports=n(70):t.exports=n(71)},function(t,e){t.exports=require("util")},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(64);class o{constructor(){this.mThunderVersionStr=void 0,this.mThunderVersionNumber=void 0}init(){return r(this,void 0,void 0,function*(){yield this.loadThunderVersion().catch()})}get pluginName(){return i.name}get binName(){return"VipRenewButton"}get pluginVersion(){return i.version}get thunderVersionNumber(){return this.mThunderVersionNumber}get thunderVersionString(){return this.mThunderVersionStr}get currentTime(){return Math.floor((new Date).getTime()/1e3)}loadThunderVersion(){return r(this,void 0,void 0,function*(){const{client:t}=yield Promise.resolve().then(()=>n(7)),e=yield t.callServerFunction("GetThunderVersion");this.mThunderVersionStr=e,this.mThunderVersionNumber=0;let r=this.mThunderVersionStr.split(".");if(r&&4===r.length){let t=Number(r[0]).valueOf(),e=Number(r[1]).valueOf(),n=Number(r[2]).valueOf(),i=128;this.mThunderVersionNumber=i*Math.pow(2,24)+t*Math.pow(2,16)+e*Math.pow(2,8)+n}})}}e.PluginHelper=o,e.default=new o},function(t,e,n){"use strict";const r=n(11),i=n(10)("log4js:configuration"),o=[],s=t=>!t,a=t=>t&&"object"==typeof t&&!Array.isArray(t),u=(t,e,n)=>{(Array.isArray(e)?e:[e]).forEach(e=>{if(e)throw new Error(`Problem with log4js configuration: (${r.inspect(t,{depth:5})})`+` - ${n}`)})};t.exports={configure:t=>{i("New configuration to be validated: ",t),u(t,s(a(t)),"must be an object."),i(`Calling configuration listeners (${o.length})`),o.forEach(e=>e(t)),i("Configuration finished.")},addListener:t=>{o.push(t),i(`Added listener, listeners now ${o.length}`)},throwExceptionIf:u,anObject:a,anInteger:t=>t&&"number"==typeof t&&Number.isInteger(t),validIdentifier:t=>/^[A-Za-z][A-Za-z0-9_]*$/g.test(t),not:s}},function(t,e,n){"use strict";const r=n(13),i=["white","grey","black","blue","cyan","green","magenta","red","yellow"];class o{constructor(t,e,n){this.level=t,this.levelStr=e,this.colour=n}toString(){return this.levelStr}static getLevel(t,e){return t?t instanceof o?t:(t instanceof Object&&t.levelStr&&(t=t.levelStr),"string"==typeof t?o[t.toUpperCase()]||e:o.getLevel(t.toString())):e}static addLevels(t){if(t){Object.keys(t).forEach(e=>{const n=e.toUpperCase();o[n]=new o(t[e].value,n,t[e].colour);const r=o.levels.findIndex(t=>t.levelStr===n);r>-1?o.levels[r]=o[n]:o.levels.push(o[n])}),o.levels.sort((t,e)=>t.level-e.level)}}isLessThanOrEqualTo(t){return"string"==typeof t&&(t=o.getLevel(t)),this.level<=t.level}isGreaterThanOrEqualTo(t){return"string"==typeof t&&(t=o.getLevel(t)),this.level>=t.level}isEqualTo(t){return"string"==typeof t&&(t=o.getLevel(t)),this.level===t.level}}o.levels=[],o.addLevels({ALL:{value:Number.MIN_VALUE,colour:"grey"},TRACE:{value:5e3,colour:"blue"},DEBUG:{value:1e4,colour:"cyan"},INFO:{value:2e4,colour:"green"},WARN:{value:3e4,colour:"yellow"},ERROR:{value:4e4,colour:"red"},FATAL:{value:5e4,colour:"magenta"},MARK:{value:9007199254740992,colour:"grey"},OFF:{value:Number.MAX_VALUE,colour:"grey"}}),r.addListener(t=>{const e=t.levels;if(e){r.throwExceptionIf(t,r.not(r.anObject(e)),"levels must be an object"),Object.keys(e).forEach(n=>{r.throwExceptionIf(t,r.not(r.validIdentifier(n)),`level name "${n}" is not a valid identifier (must start with a letter, only contain A-Z,a-z,0-9,_)`),r.throwExceptionIf(t,r.not(r.anObject(e[n])),`level "${n}" must be an object`),r.throwExceptionIf(t,r.not(e[n].value),`level "${n}" must have a 'value' property`),r.throwExceptionIf(t,r.not(r.anInteger(e[n].value)),`level "${n}".value must have an integer value`),r.throwExceptionIf(t,r.not(e[n].colour),`level "${n}" must have a 'colour' property`),r.throwExceptionIf(t,r.not(i.indexOf(e[n].colour)>-1),`level "${n}".colour must be one of ${i.join(", ")}`)})}}),r.addListener(t=>{o.addLevels(t.levels)}),t.exports=o},function(t,e){t.exports=require("events")},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(95);t.exports={remove:r(i),removeSync:i.sync}},function(t,e,n){t.exports=n(120)},function(t,e,n){const r=n(74),i=n(10)("log4js:clustering"),o=n(38),s=[];let a=!1,u=!1,c="NODE_APP_INSTANCE";const l=()=>u&&"0"===process.env[c],f=()=>a||r.isMaster||l(),p=t=>{s.forEach(e=>e(t))},h=(t,e)=>{if(i("cluster message received from worker ",t,": ",e),t.topic&&t.data&&(e=t,t=void 0),e&&e.topic&&"log4js:message"===e.topic){i("received message: ",e.data);const t=o.deserialise(e.data);p(t)}};n(13).addListener(t=>{s.length=0,a=t.disableClustering,u=t.pm2,c=t.pm2InstanceVar||"NODE_APP_INSTANCE",i(`clustering disabled ? ${a}`),i(`cluster.isMaster ? ${r.isMaster}`),i(`pm2 enabled ? ${u}`),i(`pm2InstanceVar = ${c}`),i(`process.env[${c}] = ${process.env[c]}`),u&&process.removeListener("message",h),r.removeListener&&r.removeListener("message",h),t.disableClustering?i("Not listening for cluster messages, because clustering disabled."):l()?(i("listening for PM2 broadcast messages"),process.on("message",h)):r.isMaster?(i("listening for cluster messages"),r.on("message",h)):i("not listening for messages, because we are not a master process")}),t.exports={onlyOnMaster:(t,e)=>f()?t():e,isMaster:f,send:t=>{f()?p(t):(u||(t.cluster={workerId:r.worker.id,worker:process.pid}),process.send({topic:"log4js:message",data:t.serialise()}))},onMessage:t=>{s.push(t)}}},function(t,e,n){const r=n(40)("streamroller:RollingFileWriteStream"),i=n(83),o=n(84),s=n(85),a=n(49),u=n(0),c=n(109),l=n(36),{Writable:f}=n(20),p=".",h=".gz",d=(t,e,n,i)=>{if(t===e)return r("moveAndMaybeCompressFile: source and target are the same, not doing anything"),i();s.access(t,s.constants.W_OK|s.constants.R_OK,o=>{if(o)return r(`moveAndMaybeCompressFile: source file path does not exist. not moving. sourceFilePath=${t}`),i();r(`moveAndMaybeCompressFile: moving file from ${t} to ${e} ${n?"with":"without"} compress`),n?s.createReadStream(t).pipe(a.createGzip()).pipe(s.createWriteStream(e)).on("finish",()=>{r(`moveAndMaybeCompressFile: finished compressing ${e}, deleting ${t}`),s.unlink(t,i)}):(r(`moveAndMaybeCompressFile: deleting file=${e}, renaming ${t} to ${e}`),s.unlink(e,()=>{s.rename(t,e,i)}))})};t.exports=class extends f{constructor(t,e){r(`creating RollingFileWriteStream. path=${t}`),super(e),this.options=this._parseOption(e),this.fileObject=u.parse(t),""===this.fileObject.dir&&(this.fileObject=u.parse(u.join(process.cwd(),t))),this.justTheFile=this._formatFileName({isHotFile:!0}),this.filename=u.join(this.fileObject.dir,this.justTheFile),this.state={currentDate:c(),currentIndex:0,currentSize:0},"a"===this.options.flags&&(this.state.currentSize=this._getExistingSize()),r(`create new file with no hot file. name=${this.justTheFile}, state=${JSON.stringify(this.state)}`),this._renewWriteStream()}_getExistingSize(){try{return s.statSync(this.filename).size}catch(t){return 0}}_parseOption(t){const e={maxSize:Number.MAX_SAFE_INTEGER,numToKeep:Number.MAX_SAFE_INTEGER,encoding:"utf8",mode:parseInt("0644",8),flags:"a",compress:!1,keepFileExt:!1,alwaysIncludePattern:!1},n=i.defaults({},t,e);if(n.maxSize<=0)throw new Error(`options.maxSize (${n.maxSize}) should be > 0`);if(n.numToKeep<1)throw new Error(`options.numToKeep (${n.numToKeep}) should be > 0`);return r(`creating stream with option=${JSON.stringify(n)}`),n}_shouldRoll(t){r(`in _shouldRoll, pattern = ${this.options.pattern}, currentDate = ${this.state.currentDate}, now = ${c()}`),this.options.pattern&&l(this.options.pattern,this.state.currentDate)!==l(this.options.pattern,c())?this._roll({isNextPeriod:!0},t):(r(`in _shouldRoll, currentSize = ${this.state.currentSize}, maxSize = ${this.options.maxSize}`),this.state.currentSize>=this.options.maxSize?this._roll({isNextPeriod:!1},t):t())}_write(t,e,n){this._shouldRoll(()=>{r("writing chunk. "+`file=${this.currentFileStream.path} `+`state=${JSON.stringify(this.state)} `+`chunk=${t}`),this.currentFileStream.write(t,e,e=>{this.state.currentSize+=t.length,n(e)})})}_getExistingFiles(t){s.readdir(this.fileObject.dir,(e,n)=>{r(`_getExistingFiles: files=${n}`);const o=i.compact(i.map(n,t=>{const e=this._parseFileName(t);if(r(`_getExistingFiles: parsed ${t} as ${e}`),e)return i.assign({fileName:t},e)}));t(null,i.sortBy(o,t=>(t.date?t.date.valueOf():c().valueOf())-t.index))})}_parseFileName(t){let e,n=!1;if(t.endsWith(h)&&(t=t.slice(0,-1*h.length),n=!0),this.options.keepFileExt){const n=this.fileObject.name+p,i=this.fileObject.ext;if(!t.startsWith(n)||!t.endsWith(i))return;e=t.slice(n.length,-1*i.length),r(`metaStr=${e}, fileName=${t}, prefix=${n}, suffix=${i}`)}else{const n=this.fileObject.base;if(!t.startsWith(n))return;e=t.slice(n.length),r(`metaStr=${e}, fileName=${t}, prefix=${n}`)}if(!e)return{index:0,isCompressed:n};if(this.options.pattern){const t=i.split(e,p),o=t[t.length-1];if(r("items: ",t,", indexStr: ",o),void 0!==o&&o.match(/^\d+$/)){const t=e.slice(0,-1*(o.length+1));if(r(`dateStr is ${t}`),t)return{index:parseInt(o,10),date:l.parse(this.options.pattern,t),isCompressed:n}}return r(`metaStr is ${e}`),{index:0,date:l.parse(this.options.pattern,e),isCompressed:n}}return e.match(/^\d+$/)?{index:parseInt(e,10),isCompressed:n}:void 0}_formatFileName({date:t,index:e,isHotFile:n}){r(`_formatFileName: date=${t}, index=${e}, isHotFile=${n}`);const o=t||i.get(this,"state.currentDate")||c(),s=l(this.options.pattern,o),a=e||i.get(this,"state.currentIndex"),u=this.fileObject.base;if(n)return r(`_formatFileName: includePattern? ${this.options.alwaysIncludePattern}, pattern: ${this.options.pattern}`),this.options.alwaysIncludePattern&&this.options.pattern?(r(`_formatFileName: is hot file, and include pattern, so: ${u+p+s}`),this.options.keepFileExt?this.fileObject.name+p+s+this.fileObject.ext:u+p+s):(r(`_formatFileName: is hot file so, filename: ${u}`),u);let f,d=[];return this.options.pattern&&d.push(s),a&&this.options.maxSize<Number.MAX_SAFE_INTEGER&&d.push(a),f=this.options.keepFileExt?this.fileObject.name+p+d.join(p)+this.fileObject.ext:u+p+d.join(p),this.options.compress&&(f+=h),r(`_formatFileName: ${f}`),f}_moveOldFiles(t,e){const n=this.currentFileStream.path;r(`currentIndex = ${this.state.currentIndex}, numToKeep = ${this.options.numToKeep}`);const s=[];for(let e=i.min([this.state.currentIndex,this.options.numToKeep-1]);e>=0;e--){r(`i = ${e}`);const i=0===e?n:u.format({dir:this.fileObject.dir,base:this._formatFileName({date:this.state.currentDate,index:e})}),o=0===e&&t?u.format({dir:this.fileObject.dir,base:this._formatFileName({date:this.state.currentDate,index:1})}):u.format({dir:this.fileObject.dir,base:this._formatFileName({date:this.state.currentDate,index:e+1})});s.push({sourceFilePath:i,targetFilePath:o})}o.eachOfSeries(s,(t,e,n)=>{r(`src=${t.sourceFilePath}, tgt=${t.sourceFilePath}, idx=${e}, pos=${s.length-1-e}`),d(t.sourceFilePath,t.targetFilePath,this.options.compress&&s.length-1-e==0,n)},()=>{t?(this.state.currentSize=0,this.state.currentIndex=0,this.state.currentDate=c(),r(`rolling for next period. state=${JSON.stringify(this.state)}`)):(this.state.currentSize=0,this.state.currentIndex+=1,r(`rolling during the same period. state=${JSON.stringify(this.state)}`)),this._renewWriteStream(),this.currentFileStream.write("","utf8",()=>this._clean(e))})}_roll({isNextPeriod:t},e){r(`rolling, isNextPeriod ? ${t}`),r("_roll: closing the current stream"),this.currentFileStream.end("",this.options.encoding,()=>{this._moveOldFiles(t,e)})}_renewWriteStream(){s.ensureDirSync(this.fileObject.dir),this.justTheFile=this._formatFileName({date:this.state.currentDate,index:this.state.index,isHotFile:!0});const t=u.format({dir:this.fileObject.dir,base:this.justTheFile}),e=i.pick(this.options,["flags","encoding","mode"]);this.currentFileStream=s.createWriteStream(t,e),this.currentFileStream.on("error",t=>{this.emit("error",t)})}_clean(t){this._getExistingFiles((e,n)=>{if(r(`numToKeep = ${this.options.numToKeep}, existingFiles = ${n.length}`),r("existing files are: ",n),n.length>this.options.numToKeep){const e=i.slice(n.map(t=>t.fileName),0,n.length-this.options.numToKeep-1);this._deleteFiles(e,()=>{this.state.currentIndex=Math.min(this.state.currentIndex,this.options.numToKeep-1),t()})}else t()})}_deleteFiles(t,e){r(`files to delete: ${t}`),o.each(i.map(t,t=>u.format({dir:this.fileObject.dir,base:t})),s.unlink,e)}}},function(t,e){t.exports=require("stream")},function(t,e){t.exports=require("assert")},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(103);t.exports={readJson:r(i.readFile),readJsonSync:i.readFileSync,writeJson:r(i.writeFile),writeJsonSync:i.writeFileSync}},function(t,e){t.exports=require("http")},function(t,e,n){"use strict";var r=n(3),i=n(123),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=n(124):"undefined"!=typeof process&&(a=n(56)),a),transformRequest:[function(t,e){return i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){u.headers[t]={}}),r.forEach(["post","put","patch"],function(t){u.headers[t]=r.merge(o)}),t.exports=u},function(t,e,n){"use strict";var r=n(54);t.exports=function(t,e,n,i,o){var s=new Error(t);return r(s,e,n,i,o)}},function(t,e){t.exports=require("url")},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(15),o=n(7),s=n(28),a=n(12),u=n(5).Logger.getLogger("VipRenewButton:user-helper");var c;!function(t){t.login="OnLogin",t.logout="OnLogout",t.vipInfoChange="OnVipInfoChange"}(c=e.UserEventNS||(e.UserEventNS={}));class l extends i.EventEmitter{constructor(){super(...arguments),this.mPeerId=void 0,this.mUserId="0",this.mSessionId=void 0,this.mIsLogin=!1,this.mIsVip=!1,this.mVipLevel=0,this.mVasType=0,this.mVipData=null,this.isReported=!1}init(){return r(this,void 0,void 0,function*(){this.setMaxListeners(0),this.attachUserEvents(),u.information("init");let t=yield o.client.callServerFunction("IsLogined");u.information("isLogined",t),t?this.onLogin():this.onPluginInited()})}getPeerId(){return r(this,void 0,void 0,function*(){if(this.mPeerId)return this.mPeerId;{let t=yield o.client.callServerFunction("GetPeerID");return t&&""!==t&&(this.mPeerId=t),this.mPeerId||""}})}getSessionId(){return r(this,void 0,void 0,function*(){if(this.mSessionId)return this.mSessionId;{let t=yield o.client.callServerFunction("GetSessionID");return t&&""!==t&&(this.mSessionId=t),this.mSessionId||"0"}})}getUserinfo(){return r(this,void 0,void 0,function*(){return yield o.client.callServerFunction("GetAllUserInfo")})}get userId(){return this.mUserId}get isLogin(){return this.mIsLogin}get isVip(){return this.mIsVip}get isPlatinumVip(){return this.isVip&&this.vasType>2}get isSuperVip(){return this.isVip&&5===this.vasType}get vipData(){return this.mVipData}get vipLevel(){return this.mVipLevel}get vasType(){return this.mVasType}attachUserEvents(){o.client.attachServerEvent("onUserInfoChange",(t,e,n)=>r(this,void 0,void 0,function*(){yield this.onUserInfoChange(e,n)})),o.client.attachServerEvent("onLoginStatusChange",(t,e,n)=>{u.information("oldStatus",e,"newStatus",n),this.onLoginStatusChange(n)})}onPluginInited(){if(this.isReported)return;this.isReported=!0,u.information("onPluginInited---\x3e");let t=new Map,e=0,n=0,r=0;this.isLogin&&this.vipData&&(e=1,n=this.isVip?1:0,r=this.vipData.vasType),t.set("is_login",e),t.set("is_vip",n),t.set("vas_type",r),t.set("plugin_name",a.default.binName),t.set("plugin_version",a.default.pluginVersion);let i={attribute1:"plugin_init",extData:t};s.StatUtilitiesNS.trackEvent("clienttop",i),u.information("<----onPluginInited")}onLogin(){return r(this,void 0,void 0,function*(){u.information("--\x3eonLogin"),this.clear(),this.mIsLogin=!0,yield this.parseUserInfo(),this.onPluginInited(),this.emit(c.login),u.information("<--onLogin")})}onLogout(){u.information("--\x3eonLogout"),this.clear(),this.emit(c.logout),u.information("<--onLogout")}onUserInfoChange(t,e){return r(this,void 0,void 0,function*(){u.information("--\x3eonUserInfoChange"),"vipinfo"===t&&(u.information("data",e),yield this.parseUserInfo(),this.emit(c.vipInfoChange)),u.information("<--onUserInfoChange")})}onLoginStatusChange(t){u.information("--\x3eonLoginStatusChange","newStatus",t),"unlogin"===t||"offline"===t?this.onLogout():"online"===t&&this.onLogin(),u.information("<--onLoginStatusChange")}clear(){this.mUserId="0",this.mSessionId=void 0,this.mIsVip=!1,this.mIsLogin=!1,this.mVasType=0,this.mVipLevel=0,this.mVipData=null}parseUserInfo(){return r(this,void 0,void 0,function*(){let t=yield this.getUserinfo();if(u.information("userinfo",t),t)if(this.mUserId=t.userID||"0",t.vipList&&t.vipList[0]){if(t.vipList[0].isVip){let e=Number(t.vipList[0].isVip).valueOf();this.mIsVip=e>0}else this.mIsVip=!1;t.vipList[0].vipLevel&&(this.mVipLevel=Number(t.vipList[0].vipLevel).valueOf()),t.vipList[0].vasType&&(this.mVasType=Number(t.vipList[0].vasType).valueOf()),this.mVipData=t.vipList[0]}else this.mIsVip=!1})}}e.UserHelper=l,e.default=new l},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(7),o=n(5),s=n(17),a=o.Logger.getLogger("vip-renewicon.stat-utilities");!function(t){let e="0",n=0,o=0,u=0,c="",l=0;function f(){return r(this,void 0,void 0,function*(){e="0",n=0,o=0,l=(yield i.client.callServerFunction("IsLogined"))?1:0;let t=yield i.client.callServerFunction("GetAllUserInfo");if(t)if(e=t.userID||"0",t.vipList&&t.vipList[0]){if(t.vipList[0].isVip){let e=Number(t.vipList[0].isVip).valueOf();o=e>0?1:0}else o=0;t.vipList[0].vasType&&(n=Number(t.vipList[0].vasType).valueOf())}else o=0;yield function(){return r(this,void 0,void 0,function*(){if(u=0,""==e)return;let t=`https://soa-vip-ssl.xunlei.com/xlvip.common.mooseapi/querytags?sessionid=${yield function(){return r(this,void 0,void 0,function*(){if(c)return c;{let t=yield i.client.callServerFunction("GetSessionID");return t&&""!==t&&(c=t),c||"0"}})}()}&userid=${e}&tags=usedToBeDLVip&platform=xlx`;s.default.get(t,{timeout:1e4}).then(t=>{let e=null;a.information("queryUserTag response:",t),null!==t&&200===t.status&&null!==t.data&&1===t.data.code&&t.data.result&&(e=t.data.result,a.information("userTag.usedToBeDLVip",e.usedToBeDLVip),u=1==e.usedToBeDLVip?0:1)}).catch(t=>{a.error("err:",t)})})}()})}i.client.attachServerEvent("onUserInfoChange",(t,e,n)=>r(this,void 0,void 0,function*(){yield f()})),i.client.attachServerEvent("onLoginStatusChange",(t,e,n)=>r(this,void 0,void 0,function*(){yield f()})),f(),t.trackEvent=function(t,e){let r=(e=e||{}).attribute1||"",s=e.attribute2||"",c=e.extData||new Map;c.set("is_new_user",u),c.has("is_login")||c.set("is_login",l),c.has("is_vip")||c.has("isvip")||c.set("is_vip",o),c.has("vip_type")||c.has("vas_type")||(o&&5===n?c.set("vip_type",5):o&&n>2?c.set("vip_type",3):o?c.set("vip_type",2):c.set("vip_type",0));let f=function(t){let e="";return t.forEach((t,n)=>{""!==e&&(e+=","),e=e+n+"="+t}),e}(c);a.information("key : ",t),a.information("attribute1 : ",r),a.information("attribute2 ：",s),a.information("extData ： ",f),f=encodeURIComponent(f),i.client.callServerFunction("TrackEvent",t,r,"",0,0,0,0,f).catch()}}(e.StatUtilitiesNS||(e.StatUtilitiesNS={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.information=((...t)=>{}),e.error=((...t)=>{}),e.warning=((...t)=>{}),e.critical=((...t)=>{}),e.verbose=((...t)=>{})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(8),i=n(0);e.getDefaultPrex=function(){return i.basename(process.execPath,".exe")},e.getSockPath=function(t){const e=r.tmpdir();let n=t;t||(n=i.basename(process.execPath,".exe"));let o=i.join(e,`${n}-xunlei-node-net-ipc-{FD196984-2591-4588-AA6F-5C8AC1266290}.sock`);return"win32"===process.platform&&(o="\\\\.\\pipe\\"+(o=(o=o.replace(/^\//,"")).replace(/\//g,"-"))),o},e.serverContextName="xunlei-node-net-ipc-server-{46105371-DE78-4442-B59F-FDA1D6D7D430}",e.mainProcessContext="main-process",e.mainRendererContext="main-renderer",e.isObjectEmpty=function(t){let e=!0;do{if(!t)break;if(0===Object.keys(t).length)break;e=!1}while(0);return e}},function(t,e,n){t.exports=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){let n;function s(...t){if(!s.enabled)return;const e=s,i=Number(new Date),o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const o=r.formatters[i];if("function"==typeof o){const r=t[a];n=o.call(e,r),t.splice(a,1),a--}return n}),r.formatArgs.call(e,t),(e.log||r.log).apply(e,t)}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function o(t,e){const n=r(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){return t instanceof Error?t.stack||t.message:t},r.disable=function(){const t=[...r.names.map(s),...r.skips.map(s).map(t=>"-"+t)].join(",");return r.enable(""),t},r.enable=function(t){let e;r.save(t),r.names=[],r.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){const t=r.instances[e];t.enabled=r.enabled(t.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(32),Object.keys(t).forEach(e=>{r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){var n=1e3,r=60*n,i=60*r,o=24*i,s=7*o,a=365.25*o;function u(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,e){e=e||{};var c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var u=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*s;case"days":case"day":case"d":return u*o;case"hours":case"hour":case"hrs":case"hr":case"h":return u*i;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?function(t){var e=Math.abs(t);if(e>=o)return u(t,e,o,"day");if(e>=i)return u(t,e,i,"hour");if(e>=r)return u(t,e,r,"minute");if(e>=n)return u(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=o)return Math.round(t/o)+"d";if(e>=i)return Math.round(t/i)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e){t.exports=require("tty")},function(t,e,n){"use strict";const r=n(8),i=n(72),o=process.env;let s;function a(t){return function(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}(function(t){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(t&&!t.isTTY&&!0!==s)return 0;const e=s?1:0;if("win32"===process.platform){const t=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in o)||"codeship"===o.CI_NAME?1:e;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const t=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)?1:"COLORTERM"in o?1:(o.TERM,e)}(t))}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),t.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(t,e,n){"use strict";const r=n(36),i=n(8),o=n(11),s=i.EOL||"\n",a={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[90,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[91,39],yellow:[33,39]};function u(t){return t?`[${a[t][0]}m`:""}function c(t){return t?`[${a[t][1]}m`:""}function l(t,e){return n=o.format("[%s] [%s] %s - ",r.asString(t.startTime),t.level,t.categoryName),u(i=e)+n+c(i);var n,i}function f(t){return l(t)+o.format(...t.data)}function p(t){return l(t,t.level.colour)+o.format(...t.data)}function h(t){return o.format(...t.data)}function d(t){return t.data[0]}function m(t,e){const n=/%(-?[0-9]+)?(\.?[0-9]+)?([[\]cdhmnprzxXy%])(\{([^}]+)\})?|([^%]+)/;function a(t){return t&&t.pid?t.pid.toString():process.pid.toString()}t=t||"%r %p %c - %m%n";const l={c:function(t,e){let n=t.categoryName;if(e){const t=parseInt(e,10),r=n.split(".");t<r.length&&(n=r.slice(r.length-t).join("."))}return n},d:function(t,e){let n=r.ISO8601_FORMAT;return e&&("ISO8601"===(n=e)?n=r.ISO8601_FORMAT:"ISO8601_WITH_TZ_OFFSET"===n?n=r.ISO8601_WITH_TZ_OFFSET_FORMAT:"ABSOLUTE"===n?n=r.ABSOLUTETIME_FORMAT:"DATE"===n&&(n=r.DATETIME_FORMAT)),r.asString(n,t.startTime)},h:function(){return i.hostname().toString()},m:function(t){return o.format(...t.data)},n:function(){return s},p:function(t){return t.level.toString()},r:function(t){return r.asString("hh:mm:ss",t.startTime)},"[":function(t){return u(t.level.colour)},"]":function(t){return c(t.level.colour)},y:function(){return a()},z:a,"%":function(){return"%"},x:function(t,n){return void 0!==e[n]?"function"==typeof e[n]?e[n](t):e[n]:null},X:function(t,e){const n=t.context[e];return void 0!==n?"function"==typeof n?n(t):n:null}};function f(t,e,n){return l[t](e,n)}function p(t,e,n){let r=t;return r=function(t,e){let n;if(t)if("-"===t.charAt(0))for(n=parseInt(t.substr(1),10);e.length<n;)e+=" ";else for(n=parseInt(t,10);e.length<n;)e=` ${e}`;return e}(n,r=function(t,e){let n;return t?(n=parseInt(t.substr(1),10),e.substring(0,n)):e}(e,r))}return function(e){let r,i="",o=t;for(;null!==(r=n.exec(o));){const t=r[1],n=r[2],s=r[3],a=r[5],u=r[6];if(u)i+=u.toString();else{i+=p(f(s,e,a),n,t)}o=o.substr(r.index+r[0].length)}return i}}const v={messagePassThrough:function(){return h},basic:function(){return f},colored:function(){return p},coloured:function(){return p},pattern:function(t){return m(t&&t.pattern,t&&t.tokens)},dummy:function(){return d}};t.exports={basicLayout:f,messagePassThroughLayout:h,patternLayout:m,colouredLayout:p,coloredLayout:p,dummyLayout:d,addLayout:function(t,e){v[t]=e},layout:function(t,e){return v[t]&&v[t](e)}}},function(t,e,n){"use strict";function r(t,e){for(var n=t.toString();n.length<e;)n="0"+n;return n}function i(t){return r(t,2)}function o(t,e,n){return e?t["getUTC"+n]():t["get"+n]()}function s(e,n){"string"!=typeof e&&(n=e,e=t.exports.ISO8601_FORMAT),n||(n=t.exports.now());var s,a,u,c,l=e.indexOf("O")>-1,f=i(o(n,l,"Date")),p=i(o(n,l,"Month")+1),h=i(o(n,l,"FullYear")),d=i(h.substring(2,4)),m=e.indexOf("yyyy")>-1?h:d,v=i(o(n,l,"Hours")),g=i(o(n,l,"Minutes")),y=i(o(n,l,"Seconds")),_=r(o(n,l,"Milliseconds"),3),w=(s=n.getTimezoneOffset(),a=Math.abs(s),u=String(Math.floor(a/60)),c=String(a%60),1===u.length&&(u="0"+u),1===c.length&&(c="0"+c),s<0?"+"+u+c:"-"+u+c);return e.replace(/dd/g,f).replace(/MM/g,p).replace(/y{1,4}/g,m).replace(/hh/g,v).replace(/mm/g,g).replace(/ss/g,y).replace(/SSS/g,_).replace(/O/g,w)}t.exports=s,t.exports.asString=s,t.exports.parse=function(e,n){if(!e)throw new Error("pattern must be supplied");return function(e,n){var r=[{pattern:/y{1,4}/,regexp:"\\d{1,4}",fn:function(t,e){t.setFullYear(e)}},{pattern:/MM/,regexp:"\\d{1,2}",fn:function(t,e){t.setMonth(e-1)}},{pattern:/dd/,regexp:"\\d{1,2}",fn:function(t,e){t.setDate(e)}},{pattern:/hh/,regexp:"\\d{1,2}",fn:function(t,e){t.setHours(e)}},{pattern:/mm/,regexp:"\\d\\d",fn:function(t,e){t.setMinutes(e)}},{pattern:/ss/,regexp:"\\d\\d",fn:function(t,e){t.setSeconds(e)}},{pattern:/SSS/,regexp:"\\d\\d\\d",fn:function(t,e){t.setMilliseconds(e)}},{pattern:/O/,regexp:"[+-]\\d{3,4}|Z",fn:function(t,e){"Z"===e&&(e=0);var n=Math.abs(e),r=n%100+60*Math.floor(n/100);t.setMinutes(t.getMinutes()+(e>0?r:-r))}}],i=r.reduce(function(t,e){return e.pattern.test(t.regexp)?(e.index=t.regexp.match(e.pattern).index,t.regexp=t.regexp.replace(e.pattern,"("+e.regexp+")")):e.index=-1,t},{regexp:e,index:[]}),o=r.filter(function(t){return t.index>-1});o.sort(function(t,e){return t.index-e.index});var s=new RegExp(i.regexp).exec(n);if(s){var a=t.exports.now();return o.forEach(function(t,e){t.fn(a,s[e+1])}),a}throw new Error("String '"+n+"' could not be parsed as '"+e+"'")}(e,n)},t.exports.now=function(){return new Date},t.exports.ISO8601_FORMAT="yyyy-MM-ddThh:mm:ss.SSS",t.exports.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ss.SSSO",t.exports.DATETIME_FORMAT="dd MM yyyy hh:mm:ss.SSS",t.exports.ABSOLUTETIME_FORMAT="hh:mm:ss.SSS"},function(t,e,n){const r=n(0),i=n(10)("log4js:appenders"),o=n(13),s=n(18),a=n(14),u=n(35),c=n(76),l=new Map;l.set("console",n(77)),l.set("stdout",n(78)),l.set("stderr",n(79)),l.set("file",n(80)),l.set("dateFile",n(112));const f=new Map,p=(t,e)=>{i("Loading module from ",t);try{return n(113)(t)}catch(n){return void o.throwExceptionIf(e,"MODULE_NOT_FOUND"!==n.code,`appender "${t}" could not be loaded (error was: ${n})`)}},h=(t,e)=>{const h=e.appenders[t],d=((t,e)=>l.get(t)||p(`./${t}`,e)||p(t,e)||n.c[n.s]&&p(r.join(r.dirname(n.c[n.s].filename),t),e)||p(r.join(process.cwd(),t),e))(h.type,e);return o.throwExceptionIf(e,o.not(d),`appender "${t}" is not valid (type "${h.type}" could not be found)`),d.appender&&i(`DEPRECATION: Appender ${h.type} exports an appender function.`),d.shutdown&&i(`DEPRECATION: Appender ${h.type} exports a shutdown function.`),i(`${t}: clustering.isMaster ? ${s.isMaster()}`),i(`${t}: appenderModule is ${n(11).inspect(d)}`),s.onlyOnMaster(()=>(i(`calling appenderModule.configure for ${t} / ${h.type}`),d.configure(c.modifyConfig(h),u,t=>f.get(t),a)),()=>{})},d=t=>{f.clear(),Object.keys(t.appenders).forEach(e=>{i(`Creating appender ${e}`),f.set(e,h(e,t))})};d({appenders:{out:{type:"stdout"}}}),o.addListener(t=>{o.throwExceptionIf(t,o.not(o.anObject(t.appenders)),'must have a property "appenders" of type object.');const e=Object.keys(t.appenders);o.throwExceptionIf(t,o.not(e.length),"must define at least one appender."),e.forEach(e=>{o.throwExceptionIf(t,o.not(t.appenders[e].type),`appender "${e}" is not valid (must be an object with property "type")`)})}),o.addListener(d),t.exports=f},function(t,e,n){const r=n(75),i=n(14);class o{constructor(t,e,n,r){this.startTime=new Date,this.categoryName=t,this.data=n,this.level=e,this.context=Object.assign({},r),this.pid=process.pid}serialise(){const t=this.data.map(t=>(t&&t.message&&t.stack&&(t=Object.assign({message:t.message,stack:t.stack},t)),t));return this.data=t,r.stringify(this)}static deserialise(t){let e;try{const n=r.parse(t);n.data=n.data.map(t=>{if(t&&t.message&&t.stack){const e=new Error(t);Object.keys(t).forEach(n=>{e[n]=t[n]}),t=e}return t}),(e=new o(n.categoryName,i.getLevel(n.level.levelStr),n.data,n.context)).startTime=new Date(n.startTime),e.pid=n.pid,e.cluster=n.cluster}catch(n){e=new o("log4js",i.ERROR,["Unable to parse log:",t,"because: ",n])}return e}}t.exports=o},function(t,e,n){t.exports={RollingFileWriteStream:n(19),RollingFileStream:n(110),DateRollingFileStream:n(111)}},function(t,e,n){"use strict";"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?t.exports=n(81):t.exports=n(82)},function(t,e,n){"use strict";t.exports=function(t){function e(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){var n;function s(){if(s.enabled){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var o=s,a=Number(new Date),u=a-(n||a);o.diff=u,o.prev=n,o.curr=a,n=a,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;c++;var i=r.formatters[n];if("function"==typeof i){var s=e[c];t=i.call(o,s),e.splice(c,1),c--}return t}),r.formatArgs.call(o,e),(o.log||r.log).apply(o,e)}}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){var t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function o(t,e){return r(this.namespace+(void 0===e?":":e)+t)}return r.debug=r,r.default=r,r.coerce=function(t){return t instanceof Error?t.stack||t.message:t},r.disable=function(){r.enable("")},r.enable=function(t){var e;r.save(t),r.names=[],r.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){var o=r.instances[e];o.enabled=r.enabled(o.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(32),Object.keys(t).forEach(function(e){r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(1),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>"function"==typeof i[t]);Object.keys(i).forEach(t=>{"promises"!==t&&(e[t]=i[t])}),o.forEach(t=>{e[t]=r(i[t])}),e.exists=function(t,e){return"function"==typeof e?i.exists(t,e):new Promise(e=>i.exists(t,e))},e.read=function(t,e,n,r,o,s){return"function"==typeof s?i.read(t,e,n,r,o,s):new Promise((s,a)=>{i.read(t,e,n,r,o,(t,e,n)=>{if(t)return a(t);s({bytesRead:e,buffer:n})})})},e.write=function(t,e,...n){return"function"==typeof n[n.length-1]?i.write(t,e,...n):new Promise((r,o)=>{i.write(t,e,...n,(t,e,n)=>{if(t)return o(t);r({bytesWritten:e,buffer:n})})})}},function(t,e,n){"use strict";t.exports={copySync:n(90)}},function(t,e,n){"use strict";const r=n(0);function i(t){return(t=r.normalize(r.resolve(t)).split(r.sep)).length>0?t[0]:null}const o=/[<>:"|?*]/;t.exports={getRootPath:i,invalidWin32Path:function(t){const e=i(t);return t=t.replace(e,""),o.test(t)}}},function(t,e,n){"use strict";const r=n(1),i=n(8),o=n(0);t.exports={hasMillisRes:function(t){let e=o.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));e=o.join(i.tmpdir(),e);const n=new Date(1435410243862);r.writeFile(e,"https://github.com/jprichardson/node-fs-extra/pull/141",i=>{if(i)return t(i);r.open(e,"r+",(i,o)=>{if(i)return t(i);r.futimes(o,n,n,n=>{if(n)return t(n);r.close(o,n=>{if(n)return t(n);r.stat(e,(e,n)=>{if(e)return t(e);t(null,n.mtime>1435410243e3)})})})})})},hasMillisResSync:function(){let t=o.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));t=o.join(i.tmpdir(),t);const e=new Date(1435410243862);r.writeFileSync(t,"https://github.com/jprichardson/node-fs-extra/pull/141");const n=r.openSync(t,"r+");return r.futimesSync(n,e,e),r.closeSync(n),r.statSync(t).mtime>1435410243e3},timeRemoveMillis:function(t){if("number"==typeof t)return 1e3*Math.floor(t/1e3);if(t instanceof Date)return new Date(1e3*Math.floor(t.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(t,e,n,i){r.open(t,"r+",(t,o)=>{if(t)return i(t);r.futimes(o,e,n,t=>{r.close(o,e=>{i&&i(t||e)})})})},utimesMillisSync:function(t,e,n){const i=r.openSync(t,"r+");return r.futimesSync(i,e,n),r.closeSync(i)}}},function(t,e,n){"use strict";t.exports=function(t){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(t)}catch(e){return new Buffer(t)}return new Buffer(t)}},function(t,e,n){"use strict";const r=n(2).fromCallback;t.exports={copy:r(n(93))}},function(t,e){t.exports=require("zlib")},function(t,e,n){const r=n(10)("log4js:categories"),i=n(13),o=n(14),s=n(37),a=new Map;i.addListener(t=>{i.throwExceptionIf(t,i.not(i.anObject(t.categories)),'must have a property "categories" of type object.');const e=Object.keys(t.categories);i.throwExceptionIf(t,i.not(e.length),"must define at least one category."),e.forEach(e=>{const n=t.categories[e];i.throwExceptionIf(t,[i.not(n.appenders),i.not(n.level)],`category "${e}" is not valid (must be an object with properties "appenders" and "level")`),i.throwExceptionIf(t,i.not(Array.isArray(n.appenders)),`category "${e}" is not valid (appenders must be an array of appender names)`),i.throwExceptionIf(t,i.not(n.appenders.length),`category "${e}" is not valid (appenders must contain at least one appender name)`),n.appenders.forEach(n=>{i.throwExceptionIf(t,i.not(s.get(n)),`category "${e}" is not valid (appender "${n}" is not defined)`)}),i.throwExceptionIf(t,i.not(o.getLevel(n.level)),`category "${e}" is not valid (level "${n.level}" not recognised;`+` valid levels are ${o.levels.join(", ")})`)}),i.throwExceptionIf(t,i.not(t.categories.default),'must define a "default" category.')});const u=t=>{a.clear(),Object.keys(t.categories).forEach(e=>{const n=t.categories[e],i=[];n.appenders.forEach(t=>{i.push(s.get(t)),r(`Creating category ${e}`),a.set(e,{appenders:i,level:o.getLevel(n.level)})})})};u({categories:{default:{appenders:["out"],level:"OFF"}}}),i.addListener(u);const c=t=>(r(`configForCategory: searching for config for ${t}`),a.has(t)?(r(`configForCategory: ${t} exists in config, returning it`),a.get(t)):t.indexOf(".")>0?(r(`configForCategory: ${t} has hierarchy, searching for parents`),c(t.substring(0,t.lastIndexOf(".")))):(r("configForCategory: returning config for default category"),c("default")));t.exports={appendersForCategory:t=>c(t).appenders,getLevelForCategory:t=>c(t).level,setLevelForCategory:(t,e)=>{let n=a.get(t);if(r(`setLevelForCategory: found ${n} for ${t}`),!n){const e=c(t);r("setLevelForCategory: no config found for category, "+`found ${e} for parents of ${t}`),n={appenders:e.appenders}}n.level=e,a.set(t,n)}}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(118),o=n(119),s=n(17),a=n(12),u=n(27),c=n(5).Logger.getLogger("VipRenewButton:http-session"),l=n(7);s.default.defaults.adapter=n(56);e.UserHttpSession=class extends i.HttpSession{constructor(){super(...arguments),this.mAppVersion=void 0}querySettingInfo(){return r(this,void 0,void 0,function*(){return c.information("querySettingInfo----\x3e"),this.host="images.client.vip.xunlei.com",this.retries=1,this.timeout=5e3,this.path="/mini/xlx/tips_300x310/ssi_html/xdsxfbtnconf.js",c.information("uri:",this.path),c.information("host:",this.host),new Promise(t=>{this.get(e=>{let n=null;200===e.statusCode&&e.body&&(n=o.UserHttpPackageNS.praseSettingBuffer(e.body)),t(n)},e=>{c.information("error",e),t(null)})})})}queryCashInfo(t,e){return r(this,void 0,void 0,function*(){return c.information("queryCashInfo"),this.host="https://dy1-vip-ssl.xunlei.com/",this.retries=1,this.timeout=5e3,this.path="/cash/userCashCount?userid="+t+"&sessionid="+e,c.information("host:",this.host),c.information("uri:",this.path),new Promise(t=>{this.get(e=>{let n=null;200===e.statusCode&&e.body&&(n=o.UserHttpPackageNS.praseCashBuffer(e.body)),t(n)},e=>{c.information("error",e),t(null)})})})}queryUserTags(t,e){return r(this,void 0,void 0,function*(){return c.information("queryUserTags--\x3e"),this.host="soa.vip.xunlei.com",this.retries=1,this.timeout=5e3,this.path="/xlvip.common.mooseapi/querytags?userid="+t+"&sessionid="+e+"&tags=isSign,payTimesRangeForDL,usedToActPay",c.information("uri:",this.path),c.information("host:",this.host),new Promise(t=>{this.get(e=>{let n=null;200===e.statusCode&&e.body&&(n=o.UserHttpPackageNS.praseTagBuffer(e.body)),t(n)},e=>{c.information("error",e),t(null)})})})}queryAdvertpay(t){return r(this,void 0,void 0,function*(){let e="";void 0!==a.default.thunderVersionNumber&&(e=a.default.thunderVersionNumber.toString());let n=this.getThunderVersion()||"",r=yield u.default.getPeerId(),i="",o="",f="";u.default.isLogin&&(o=u.default.userId,f=yield u.default.getSessionId());let p=yield l.client.callServerFunction("GetTpPeerId");return p&&""!==p||(p=""),i=`http://advertpay.vip.xunlei.com/xl11/advertisement?iver=${e}&over=${n}&userid=${o}&cpeerid=${p}&sessionid=${f}&scene=${t}&deviceid=${r}`,c.information(`geturl=${i}`),s.default.get(i,{timeout:1e4})})}getThunderVersion(){if(!this.mAppVersion){let t=a.default.thunderVersionString;if(t){let e=t.lastIndexOf(".");this.mAppVersion=t.slice(0,e)}}return this.mAppVersion}}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(25);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},function(t,e,n){"use strict";var r=n(3);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))}))}),o=s.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,n){"use strict";var r=n(3),i=n(53),o=n(55),s=n(23),a=n(57),u=n(58).http,c=n(58).https,l=n(26),f=n(49),p=n(129),h=n(25),d=n(54);t.exports=function(t){return new Promise(function(e,n){var m,v=t.data,g=t.headers;if(g["User-Agent"]||g["user-agent"]||(g["User-Agent"]="axios/"+p.version),v&&!r.isStream(v)){if(Buffer.isBuffer(v));else if(r.isArrayBuffer(v))v=new Buffer(new Uint8Array(v));else{if(!r.isString(v))return n(h("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));v=new Buffer(v,"utf-8")}g["Content-Length"]=v.length}var y=void 0;t.auth&&(y=(t.auth.username||"")+":"+(t.auth.password||""));var _=l.parse(t.url),w=_.protocol||"http:";if(!y&&_.auth){var b=_.auth.split(":");y=(b[0]||"")+":"+(b[1]||"")}y&&delete g.Authorization;var x="https:"===w,S=x?t.httpsAgent:t.httpAgent,C={path:o(_.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method,headers:g,agent:S,auth:y};t.socketPath?C.socketPath=t.socketPath:(C.hostname=_.hostname,C.port=_.port);var E,k=t.proxy;if(!k&&!1!==k){var O=w.slice(0,-1)+"_proxy",I=process.env[O]||process.env[O.toUpperCase()];if(I){var F=l.parse(I);if(k={host:F.hostname,port:F.port},F.auth){var j=F.auth.split(":");k.auth={username:j[0],password:j[1]}}}}if(k&&(C.hostname=k.host,C.host=k.host,C.headers.host=_.hostname+(_.port?":"+_.port:""),C.port=k.port,C.path=w+"//"+_.hostname+(_.port?":"+_.port:"")+C.path,k.auth)){var T=new Buffer(k.auth.username+":"+k.auth.password,"utf8").toString("base64");C.headers["Proxy-Authorization"]="Basic "+T}t.transport?E=t.transport:0===t.maxRedirects?E=x?a:s:(t.maxRedirects&&(C.maxRedirects=t.maxRedirects),E=x?c:u),t.maxContentLength&&t.maxContentLength>-1&&(C.maxBodyLength=t.maxContentLength);var A=E.request(C,function(r){if(!A.aborted){clearTimeout(m),m=null;var o=r;switch(r.headers["content-encoding"]){case"gzip":case"compress":case"deflate":o=o.pipe(f.createUnzip()),delete r.headers["content-encoding"]}var s=r.req||A,a={status:r.statusCode,statusText:r.statusMessage,headers:r.headers,config:t,request:s};if("stream"===t.responseType)a.data=o,i(e,n,a);else{var u=[];o.on("data",function(e){u.push(e),t.maxContentLength>-1&&Buffer.concat(u).length>t.maxContentLength&&n(h("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,s))}),o.on("error",function(e){A.aborted||n(d(e,t,null,s))}),o.on("end",function(){var r=Buffer.concat(u);"arraybuffer"!==t.responseType&&(r=r.toString("utf8")),a.data=r,i(e,n,a)})}}});A.on("error",function(e){A.aborted||n(d(e,t,null,A))}),t.timeout&&!m&&(m=setTimeout(function(){A.abort(),n(h("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",A))},t.timeout)),t.cancelToken&&t.cancelToken.promise.then(function(t){A.aborted||(A.abort(),n(t))}),r.isStream(v)?v.pipe(A):A.end(v)})}},function(t,e){t.exports=require("https")},function(t,e,n){var r=n(26),i=r.URL,o=n(23),s=n(57),a=n(21),u=n(20).Writable,c=n(40)("follow-redirects"),l={GET:!0,HEAD:!0,OPTIONS:!0,TRACE:!0},f=Object.create(null);function p(t,e){u.call(this),t.headers=t.headers||{},this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t.host&&(t.hostname||(t.hostname=t.host),delete t.host),e&&this.on("response",e);var n=this;if(this._onNativeResponse=function(t){n._processResponse(t)},!t.pathname&&t.path){var r=t.path.indexOf("?");r<0?t.pathname=t.path:(t.pathname=t.path.substring(0,r),t.search=t.path.substring(r))}this._performRequest()}function h(t,e){clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.emit("timeout")},e)}function d(){clearTimeout(this._timeout)}function m(t){var e={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(t).forEach(function(o){var s=o+":",u=n[s]=t[o],l=e[o]=Object.create(u);l.request=function(t,o,u){if("string"==typeof t){var l=t;try{t=g(new i(l))}catch(e){t=r.parse(l)}}else i&&t instanceof i?t=g(t):(u=o,o=t,t={protocol:s});return"function"==typeof o&&(u=o,o=null),(o=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},t,o)).nativeProtocols=n,a.equal(o.protocol,s,"protocol mismatch"),c("options",o),new p(o,u)},l.get=function(t,e,n){var r=l.request(t,e,n);return r.end(),r}}),e}function v(){}function g(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return""!==t.port&&(e.port=Number(t.port)),e}["abort","aborted","error","socket","timeout"].forEach(function(t){f[t]=function(e){this._redirectable.emit(t,e)}}),p.prototype=Object.create(u.prototype),p.prototype.write=function(t,e,n){if(this._ending)throw new Error("write after end");if(!("string"==typeof t||"object"==typeof t&&"length"in t))throw new Error("data should be a string, Buffer or Uint8Array");"function"==typeof e&&(n=e,e=null),0!==t.length?this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,n)):(this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort()):n&&n()},p.prototype.end=function(t,e,n){if("function"==typeof t?(n=t,t=e=null):"function"==typeof e&&(n=e,e=null),t){var r=this,i=this._currentRequest;this.write(t,e,function(){r._ended=!0,i.end(null,null,n)}),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,n)},p.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)},p.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)},p.prototype.setTimeout=function(t,e){if(e&&this.once("timeout",e),this.socket)h(this,t);else{var n=this;this._currentRequest.once("socket",function(){h(n,t)})}return this.once("response",d),this.once("error",d),this},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){p.prototype[t]=function(e,n){return this._currentRequest[t](e,n)}}),["aborted","connection","socket"].forEach(function(t){Object.defineProperty(p.prototype,t,{get:function(){return this._currentRequest[t]}})}),p.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(e){if(this._options.agents){var n=t.substr(0,t.length-1);this._options.agent=this._options.agents[n]}var i=this._currentRequest=e.request(this._options,this._onNativeResponse);for(var o in this._currentUrl=r.format(this._options),i._redirectable=this,f)o&&i.on(o,f[o]);if(this._isRedirect){var s=0,a=this,u=this._requestBodyBuffers;!function t(e){if(i===a._currentRequest)if(e)a.emit("error",e);else if(s<u.length){var n=u[s++];i.finished||i.write(n.data,n.encoding,t)}else a._ended&&i.end()}()}}else this.emit("error",new Error("Unsupported protocol "+t))},p.prototype._processResponse=function(t){this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:t.statusCode});var e=t.headers.location;if(e&&!1!==this._options.followRedirects&&t.statusCode>=300&&t.statusCode<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on("error",v),this._currentRequest.abort(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new Error("Max redirects exceeded."));var n,i=this._options.headers;if(307!==t.statusCode&&!(this._options.method in l))for(n in this._options.method="GET",this._requestBodyBuffers=[],i)/^content-/i.test(n)&&delete i[n];if(!this._isRedirect)for(n in i)/^host$/i.test(n)&&delete i[n];var o=r.resolve(this._currentUrl,e);c("redirecting to",o),Object.assign(this._options,r.parse(o)),this._isRedirect=!0,this._performRequest(),t.destroy()}else t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[]},t.exports=m({http:o,https:s}),t.exports.wrap=m},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(9),o=n(0),s=n(11).promisify,a=n(5).Logger.getLogger("VipRenewButton:fs-utilities");!function(t){function e(t){return r(this,void 0,void 0,function*(){let e=!1;if(void 0!==t){const n=s(i.access);try{yield n(t),e=!0}catch(t){a.information(t)}}return e})}function u(t){return r(this,void 0,void 0,function*(){let e=!1;if(void 0!==t){const n=s(i.mkdir);try{yield n(t),e=!0}catch(t){a.warning(t)}}return e})}function c(t){return r(this,void 0,void 0,function*(){let e=!1;if(void 0!==t){const n=s(i.rmdir);try{yield n(t),e=!0}catch(t){a.warning(t)}}return e})}function l(t){return r(this,void 0,void 0,function*(){let e=!1;if(void 0!==t){const n=s(i.unlink);try{yield n(t),e=!0}catch(t){a.warning(t)}}return e})}function f(t){return r(this,void 0,void 0,function*(){let e=null;if(void 0!==t){const n=s(i.readdir);try{e=yield n(t)}catch(t){a.warning(t)}}return e})}function p(t){return r(this,void 0,void 0,function*(){let e=null;if(void 0!==t){const n=s(i.lstat);try{e=yield n(t)}catch(t){a.warning(t)}}return e})}function h(t,e){return r(this,void 0,void 0,function*(){let n=!1;if(void 0!==t&&void 0!==e){let r=o.join(t,e),i=yield p(r);n=null!==i&&i.isDirectory()?yield d(r):yield l(r)}return n})}function d(t){return r(this,void 0,void 0,function*(){let n=!1;if(void 0!==t){if(yield e(t)){n=!0;let e=yield f(t);for(let r=0;r<e.length;r++)n=(yield h(t,e[r]))&&n;(n||0===e.length)&&(n=(yield c(t))&&n)}}return n})}function m(t){return r(this,void 0,void 0,function*(){let n=!1;return a.information("mkdirsAW",t),void 0!==t&&((yield e(t))?n=!0:o.dirname(t)===t?n=!1:(yield m(o.dirname(t)))&&(n=yield u(t))),n})}function v(t,n){return r(this,void 0,void 0,function*(){let r;if(t.toLowerCase()!==n.toLowerCase()&&(yield e(t))){let e=i.createReadStream(t),o=i.createWriteStream(n);r=new Promise(t=>{e.pipe(o).on("finish",()=>{t(!0)})})}else r=new Promise(t=>{t(!1)});return r})}t.readFileAW=function(t){return r(this,void 0,void 0,function*(){let e=null;if(void 0!==t){const n=s(i.readFile);try{e=yield n(t)}catch(t){a.warning(t)}}return e})},t.writeFileAW=function(t,e){return r(this,void 0,void 0,function*(){let n=!1;if(void 0!==t&&null!==e){const r=s(i.writeFile);try{yield r(t,e),n=!0}catch(t){a.warning(t)}}return n})},t.existsAW=e,t.mkdirAW=u,t.rmdirAW=c,t.unlinkAW=l,t.readdirAW=f,t.lstatAW=p,t.rmdirsAW=d,t.mkdirsAW=m,t.renameAW=function(t,e){return r(this,void 0,void 0,function*(){if(void 0!==t&&void 0!==e){const n=s(i.rename);try{yield n(t,e)}catch(t){a.warning(t)}}})},t.copyFileAW=v,t.copyDirsAW=function t(n,i){return r(this,void 0,void 0,function*(){let r=!1,s=yield p(n);if(s.isDirectory()){r=yield m(i);let a=yield f(n);for(let u=0;u<a.length;u++){let c=o.join(n,a[u]),l=o.join(i,a[u]);(r=yield e(c))&&(r=(s=yield p(c)).isDirectory()?yield t(c,l):yield v(c,l))}}return r})},t.mkdtempAW=function(){return r(this,void 0,void 0,function*(){let t=!1;const e=s(i.mkdtemp),r=(yield Promise.resolve().then(()=>n(8))).tmpdir();try{t=yield e(`${r}${o.sep}`)}catch(t){a.warning(t)}return t})}}(e.FileSystemAWNS||(e.FileSystemAWNS={}))},function(t,e,n){t.exports=n(63)},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(12);n(5).Logger.getLogger("VipRenewButton:index").information("init");const o=i.default.pluginName;n(7).client.start({name:o,version:""},"thunder");const s=n(116);!function(){r(this,void 0,void 0,function*(){i.default.init(),s.default.init(),setTimeout(()=>r(this,void 0,void 0,function*(){yield(yield Promise.resolve().then(()=>n(141))).default.init()}),1e3)})}()},function(t){t.exports={name:"vip-renew-button",version:"3.0.1",author:"Xunlei",license:"",description:"",main:"3.0.1/index.js",clear:!0,owner:"vip-plugin-controller"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(66),i=n(15),o=n(29),s=n(67),a=n(30);e.Client=class extends i.EventEmitter{constructor(t){if(t=t||{},super(),this.inprocess=!1,this.context=void 0,t.context&&(this.context=Object.assign({},t.context),this.context.productId=t.socketPrex),t.socket)this.socket=t.socket,this.bind();else if(global.__xdasIPCServer&&global.__xdasIPCServer.getProductId().toLowerCase()===t.socketPrex.toLowerCase())this.inprocess=!0;else{let e=a.getSockPath(t.socketPrex);this.socket=r.connect(e),this.bind()}}isInprocess(){return this.inprocess}getContext(){return this.context}bind(){const t=new s.Parser,e=this.socket;e.on("data",e=>{t.feed(e)}),e.on("connect",()=>{this.emit("connect")}),e.on("end",()=>{o.information("socket is ended"),this.socket=null,this.emit("end")}),e.on("error",t=>{this.socket=null,this.emit("error",t)}),t.on("message",t=>{this.emit("message",t)}),this.parser=t}send(t){if(this.socket)try{this.socket.write(this.parser.encode(t))}catch(t){o.error(t.message)}else o.information("This socket has been ended by the other party",this.context&&this.context.name)}}},function(t,e){t.exports=require("net")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(68),i=n(15);e.Parser=class extends i.EventEmitter{constructor(){super(),this.decoder=new r.StringDecoder("utf8"),this.jsonBuffer=""}encode(t){return JSON.stringify(t)+"\n"}feed(t){let e=this.jsonBuffer,n=0,r=(e+=this.decoder.write(t)).indexOf("\n",n);for(;r>=0;){const t=e.slice(n,r),i=JSON.parse(t);this.emit("message",i),n=r+1,r=e.indexOf("\n",n)}this.jsonBuffer=e.slice(n)}}},function(t,e){t.exports=require("string_decoder")},function(t,e,n){"use strict";const r=n(10)("log4js:main"),i=n(9),o=n(73)({proto:!0}),s=n(13),a=n(35),u=n(14),c=n(37),l=n(50),f=n(114),p=n(18);let h=!1;function d(t){if(!h)return;r("Received log event ",t),l.appendersForCategory(t.categoryName).forEach(e=>{e(t)})}function m(t){let e=t;var n;return"string"==typeof e&&(e=(n=t)?(r(`Loading configuration from ${n}`),JSON.parse(i.readFileSync(n,"utf8"))):n),r(`Configuration is ${e}`),s.configure(o(e)),p.onMessage(d),h=!0,v}const v={getLogger:function(t){return h||m(process.env.LOG4JS_CONFIG||{appenders:{out:{type:"stdout"}},categories:{default:{appenders:["out"],level:"OFF"}}}),new f(t||"default")},configure:m,shutdown:function(t){r("Shutdown called. Disabling all log writing."),h=!1;const e=Array.from(c.values()),n=e.reduceRight((t,e)=>e.shutdown?t+1:t,0);let i,o=0;function s(e){i=i||e,r(`Appender shutdowns complete: ${o+=1} / ${n}`),o>=n&&(r("All shutdown functions completed."),t(i))}return r(`Found ${n} appenders with shutdown functions.`),0===n?(r("No appenders with shutdown functions found."),t()):(e.filter(t=>t.shutdown).forEach(t=>t.shutdown(s)),null)},connectLogger:n(115),levels:u,addLayout:a.addLayout};t.exports=v},function(t,e,n){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&"%c"===t&&(i=++r)}),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(31)(e);const{formatters:r}=t.exports;r.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},function(t,e,n){const r=n(33),i=n(11);e.init=function(t){t.inspectOpts={};const n=Object.keys(e.inspectOpts);for(let r=0;r<n.length;r++)t.inspectOpts[n[r]]=e.inspectOpts[n[r]]},e.log=function(...t){return process.stderr.write(i.format(...t)+"\n")},e.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const e=this.color,i="[3"+(e<8?e:"8;5;"+e),o=`  ${i};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(i+"m+"+t.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(e.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},e.save=function(t){t?process.env.DEBUG=t:delete process.env.DEBUG},e.load=function(){return process.env.DEBUG},e.useColors=function(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):r.isatty(process.stderr.fd)},e.colors=[6,2,3,4,5,1];try{const t=n(34);t&&(t.stderr||t).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}e.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{const n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(t,e)=>e.toUpperCase());let r=process.env[e];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),t[n]=r,t},{}),t.exports=n(31)(e);const{formatters:o}=t.exports;o.o=function(t){return this.inspectOpts.colors=this.useColors,i.inspect(t,this.inspectOpts).replace(/\s*\n\s*/g," ")},o.O=function(t){return this.inspectOpts.colors=this.useColors,i.inspect(t,this.inspectOpts)}},function(t,e,n){"use strict";t.exports=((t,e)=>{e=e||process.argv;const n=t.startsWith("-")?"":1===t.length?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return-1!==r&&(-1===i||r<i)})},function(t,e,n){"use strict";t.exports=function(t){const e=(t=t||{}).proto||!1;return t.circles?function(t){const e=t.proto||!1,n=new WeakMap;return e?function t(e){const r=typeof e;if("function"===r)return e;if(null===e||"object"!==r)return e;if(e instanceof Date)return new Date(e);const i=Array.isArray(e)?new Array(e.length):{};for(var o in n.set(e,i),e){var s=e[o];if("function"!=typeof s)if(null!==s)if("object"!=typeof s)i[o]=s;else{if(s instanceof Date){i[o]=new Date(s);continue}n.has(s)?i[o]=n.get(s):i[o]=t(s)}else i[o]=null;else i[o]=s}return n.delete(e),i}:function t(e){const r=typeof e;if("function"===r)return e;if(null===e||"object"!==r)return e;if(e instanceof Date)return new Date(e);const i=Array.isArray(e)?new Array(e.length):{};for(var o in n.set(e,i),e)if(!1!==Object.hasOwnProperty.call(e,o)){var s=e[o];if("function"!=typeof s)if(null!==s)if("object"!=typeof s)i[o]=s;else{if(s instanceof Date){i[o]=new Date(s);continue}n.has(s)?i[o]=n.get(s):i[o]=t(s)}else i[o]=null;else i[o]=s}return n.delete(e),i}}(t):e?function t(e){const n=typeof e;if("function"===n)return e;if(null===e||"object"!==n)return e;if(e instanceof Date)return new Date(e);const r=Array.isArray(e)?new Array(e.length):{};for(var i in e){var o=e[i];if("function"!=typeof o)if(null!==o)if("object"!=typeof o)r[i]=o;else{if(o instanceof Date){r[i]=new Date(o);continue}r[i]=t(o)}else r[i]=null;else r[i]=o}return r}:function t(e){const n=typeof e;if("function"===n)return e;if(null===e||"object"!==n)return e;if(e instanceof Date)return new Date(e);const r=Array.isArray(e)?new Array(e.length):{};for(var i in e)if(!1!==Object.hasOwnProperty.call(e,i)){var o=e[i];if("function"!=typeof o)if(null!==o)if("object"!=typeof o)r[i]=o;else{if(o instanceof Date){r[i]=new Date(o);continue}r[i]=t(o)}else r[i]=null;else r[i]=o}return r}}},function(t,e){t.exports=require("cluster")},function(t,e,n){"use strict";n.r(e),n.d(e,"parse",function(){return i}),n.d(e,"stringify",function(){return o});var r=function(t,e){return{parse:function(e,r){var s=JSON.parse(e,o).map(i),a=s[0],u=r||n,c="object"==typeof a&&a?function e(n,r,i,o){return Object.keys(i).reduce(function(i,s){var a=i[s];if(a instanceof t){var u=n[a];"object"!=typeof u||r.has(u)?i[s]=o.call(i,s,u):(r.add(u),i[s]=o.call(i,s,e(n,r,u,o)))}else i[s]=o.call(i,s,a);return i},i)}(s,new Set,a,u):a;return u.call({"":c},"",c)},stringify:function(t,i,o){for(var s,a=new Map,u=[],c=[],l=i&&typeof i==typeof u?function(t,e){if(""===t||-1<i.indexOf(t))return e}:i||n,f=+r(a,u,l.call({"":t},"",t)),p=function(t,n){if(s)return s=!s,n;var i=l.call(this,t,n);switch(typeof i){case"object":if(null===i)return i;case e:return a.get(i)||r(a,u,i)}return i};f<u.length;f++)s=!0,c[f]=JSON.stringify(u[f],p,o);return"["+c.join(",")+"]"}};function n(t,e){return e}function r(e,n,r){var i=t(n.push(r)-1);return e.set(r,i),i}function i(e){return e instanceof t?t(e):e}function o(n,r){return typeof r===e?new t(r):r}}(String,"string");e.default=r;const i=r.parse,o=r.stringify},function(t,e,n){"use strict";function r(t){if("number"==typeof t&&Number.isInteger(t))return t;const e={K:1024,M:1048576,G:1073741824},n=Object.keys(e),r=t.substr(t.length-1).toLocaleUpperCase(),i=t.substring(0,t.length-1).trim();if(n.indexOf(r)<0||!Number.isInteger(Number(i)))throw Error(`maxLogSize: "${t}" is invalid`);return i*e[r]}function i(t){return function(t,e){const n=Object.assign({},e);return Object.keys(t).forEach(r=>{n[r]&&(n[r]=t[r](e[r]))}),n}({maxLogSize:r},t)}const o={file:i,fileSync:i};t.exports.modifyConfig=(t=>o[t.type]?o[t.type](t):t)},function(t,e,n){"use strict";const r=console.log.bind(console);t.exports.configure=function(t,e){let n=e.colouredLayout;return t.layout&&(n=e.layout(t.layout.type,t.layout)),function(t,e){return n=>{r(t(n,e))}}(n,t.timezoneOffset)}},function(t,e,n){"use strict";e.configure=function(t,e){let n=e.colouredLayout;return t.layout&&(n=e.layout(t.layout.type,t.layout)),function(t,e){return n=>{process.stdout.write(`${t(n,e)}\n`)}}(n,t.timezoneOffset)}},function(t,e,n){"use strict";t.exports.configure=function(t,e){let n=e.colouredLayout;return t.layout&&(n=e.layout(t.layout.type,t.layout)),function(t,e){return n=>{process.stderr.write(`${t(n,e)}\n`)}}(n,t.timezoneOffset)}},function(t,e,n){"use strict";const r=n(10)("log4js:file"),i=n(0),o=n(39),s=n(8).EOL||"\n";function a(t,e,n,a,u,c){t=i.normalize(t),r("Creating file appender (",t,", ",n,", ",a=0===(a=void 0===a?5:a)?1:a,", ",u,", ",c,")");const l=function(t,e,n,r){const i=new o.RollingFileStream(t,e,n,r);return i.on("error",e=>{console.error("log4js.fileAppender - Writing to file %s, error happened ",t,e)}),i}(t,n,a,u),f=function(t){l.write(e(t,c)+s,"utf8")};return f.reopen=function(){l.closeTheStream(l.openTheStream.bind(l))},f.sighupHandler=function(){r("SIGHUP handler called."),f.reopen()},f.shutdown=function(t){process.removeListener("SIGHUP",f.sighupHandler),l.write("","utf-8",()=>{l.end(t)})},process.on("SIGHUP",f.sighupHandler),f}t.exports.configure=function(t,e){let n=e.basicLayout;return t.layout&&(n=e.layout(t.layout.type,t.layout)),a(t.filename,n,t.maxLogSize,t.backups,t,t.timezoneOffset)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&(t=console).log.apply(t,arguments)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(i=++r)}),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(t){}!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(41)(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},function(t,e,n){"use strict";var r=n(33),i=n(11);e.init=function(t){t.inspectOpts={};for(var n=Object.keys(e.inspectOpts),r=0;r<n.length;r++)t.inspectOpts[n[r]]=e.inspectOpts[n[r]]},e.log=function(){return process.stderr.write(i.format.apply(i,arguments)+"\n")},e.formatArgs=function(n){var r=this.namespace;if(this.useColors){var i=this.color,o="[3"+(i<8?i:"8;5;"+i),s="  ".concat(o,";1m").concat(r," [0m");n[0]=s+n[0].split("\n").join("\n"+s),n.push(o+"m+"+t.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(e.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},e.save=function(t){t?process.env.DEBUG=t:delete process.env.DEBUG},e.load=function(){return process.env.DEBUG},e.useColors=function(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):r.isatty(process.stderr.fd)},e.colors=[6,2,3,4,5,1];try{var o=n(34);o&&(o.stderr||o).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}e.inspectOpts=Object.keys(process.env).filter(function(t){return/^debug_/i.test(t)}).reduce(function(t,e){var n=e.substring(6).toLowerCase().replace(/_([a-z])/g,function(t,e){return e.toUpperCase()}),r=process.env[e];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),t[n]=r,t},{}),t.exports=n(41)(e);var s=t.exports.formatters;s.o=function(t){return this.inspectOpts.colors=this.useColors,i.inspect(t,this.inspectOpts).replace(/\s*\n\s*/g," ")},s.O=function(t){return this.inspectOpts.colors=this.useColors,i.inspect(t,this.inspectOpts)}},function(t,e,n){(function(t){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i,o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",u="__lodash_hash_undefined__",c=500,l="__lodash_placeholder__",f=1,p=2,h=4,d=1,m=2,v=1,g=2,y=4,_=8,w=16,b=32,x=64,S=128,C=256,E=512,k=30,O="...",I=800,F=16,j=1,T=2,A=1/0,L=9007199254740991,N=1.7976931348623157e308,D=NaN,R=4294967295,P=R-1,B=R>>>1,M=[["ary",S],["bind",v],["bindKey",g],["curry",_],["curryRight",w],["flip",E],["partial",b],["partialRight",x],["rearg",C]],$="[object Arguments]",U="[object Array]",q="[object AsyncFunction]",z="[object Boolean]",V="[object Date]",W="[object DOMException]",H="[object Error]",G="[object Function]",J="[object GeneratorFunction]",K="[object Map]",Y="[object Number]",Z="[object Null]",X="[object Object]",Q="[object Proxy]",tt="[object RegExp]",et="[object Set]",nt="[object String]",rt="[object Symbol]",it="[object Undefined]",ot="[object WeakMap]",st="[object WeakSet]",at="[object ArrayBuffer]",ut="[object DataView]",ct="[object Float32Array]",lt="[object Float64Array]",ft="[object Int8Array]",pt="[object Int16Array]",ht="[object Int32Array]",dt="[object Uint8Array]",mt="[object Uint8ClampedArray]",vt="[object Uint16Array]",gt="[object Uint32Array]",yt=/\b__p \+= '';/g,_t=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bt=/&(?:amp|lt|gt|quot|#39);/g,xt=/[&<>"']/g,St=RegExp(bt.source),Ct=RegExp(xt.source),Et=/<%-([\s\S]+?)%>/g,kt=/<%([\s\S]+?)%>/g,Ot=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ft=/^\w*$/,jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tt=/[\\^$.*+?()[\]{}|]/g,At=RegExp(Tt.source),Lt=/^\s+|\s+$/g,Nt=/^\s+/,Dt=/\s+$/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pt=/\{\n\/\* \[wrapped with (.+)\] \*/,Bt=/,? & /,Mt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$t=/\\(\\)?/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qt=/\w*$/,zt=/^[-+]0x[0-9a-f]+$/i,Vt=/^0b[01]+$/i,Wt=/^\[object .+?Constructor\]$/,Ht=/^0o[0-7]+$/i,Gt=/^(?:0|[1-9]\d*)$/,Jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Yt=/['\n\r\u2028\u2029\\]/g,Zt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Xt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qt="[\\ud800-\\udfff]",te="["+Xt+"]",ee="["+Zt+"]",ne="\\d+",re="[\\u2700-\\u27bf]",ie="[a-z\\xdf-\\xf6\\xf8-\\xff]",oe="[^\\ud800-\\udfff"+Xt+ne+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",se="\\ud83c[\\udffb-\\udfff]",ae="[^\\ud800-\\udfff]",ue="(?:\\ud83c[\\udde6-\\uddff]){2}",ce="[\\ud800-\\udbff][\\udc00-\\udfff]",le="[A-Z\\xc0-\\xd6\\xd8-\\xde]",fe="(?:"+ie+"|"+oe+")",pe="(?:"+le+"|"+oe+")",he="(?:"+ee+"|"+se+")"+"?",de="[\\ufe0e\\ufe0f]?"+he+("(?:\\u200d(?:"+[ae,ue,ce].join("|")+")[\\ufe0e\\ufe0f]?"+he+")*"),me="(?:"+[re,ue,ce].join("|")+")"+de,ve="(?:"+[ae+ee+"?",ee,ue,ce,Qt].join("|")+")",ge=RegExp("['’]","g"),ye=RegExp(ee,"g"),_e=RegExp(se+"(?="+se+")|"+ve+de,"g"),we=RegExp([le+"?"+ie+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[te,le,"$"].join("|")+")",pe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[te,le+fe,"$"].join("|")+")",le+"?"+fe+"+(?:['’](?:d|ll|m|re|s|t|ve))?",le+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ne,me].join("|"),"g"),be=RegExp("[\\u200d\\ud800-\\udfff"+Zt+"\\ufe0e\\ufe0f]"),xe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ce=-1,Ee={};Ee[ct]=Ee[lt]=Ee[ft]=Ee[pt]=Ee[ht]=Ee[dt]=Ee[mt]=Ee[vt]=Ee[gt]=!0,Ee[$]=Ee[U]=Ee[at]=Ee[z]=Ee[ut]=Ee[V]=Ee[H]=Ee[G]=Ee[K]=Ee[Y]=Ee[X]=Ee[tt]=Ee[et]=Ee[nt]=Ee[ot]=!1;var ke={};ke[$]=ke[U]=ke[at]=ke[ut]=ke[z]=ke[V]=ke[ct]=ke[lt]=ke[ft]=ke[pt]=ke[ht]=ke[K]=ke[Y]=ke[X]=ke[tt]=ke[et]=ke[nt]=ke[rt]=ke[dt]=ke[mt]=ke[vt]=ke[gt]=!0,ke[H]=ke[G]=ke[ot]=!1;var Oe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ie=parseFloat,Fe=parseInt,je="object"==typeof global&&global&&global.Object===Object&&global,Te="object"==typeof self&&self&&self.Object===Object&&self,Ae=je||Te||Function("return this")(),Le=e&&!e.nodeType&&e,Ne=Le&&"object"==typeof t&&t&&!t.nodeType&&t,De=Ne&&Ne.exports===Le,Re=De&&je.process,Pe=function(){try{var t=Ne&&Ne.require&&Ne.require("util").types;return t||Re&&Re.binding&&Re.binding("util")}catch(t){}}(),Be=Pe&&Pe.isArrayBuffer,Me=Pe&&Pe.isDate,$e=Pe&&Pe.isMap,Ue=Pe&&Pe.isRegExp,qe=Pe&&Pe.isSet,ze=Pe&&Pe.isTypedArray;function Ve(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function We(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function He(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ge(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Je(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ke(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Ye(t,e){return!!(null==t?0:t.length)&&an(t,e,0)>-1}function Ze(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Xe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Qe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function tn(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function en(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function nn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var rn=fn("length");function on(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function sn(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function an(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):sn(t,cn,n)}function un(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function cn(t){return t!=t}function ln(t,e){var n=null==t?0:t.length;return n?dn(t,e)/n:D}function fn(t){return function(e){return null==e?i:e[t]}}function pn(t){return function(e){return null==t?i:t[e]}}function hn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function dn(t,e){for(var n,r=-1,o=t.length;++r<o;){var s=e(t[r]);s!==i&&(n=n===i?s:n+s)}return n}function mn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function vn(t){return function(e){return t(e)}}function gn(t,e){return Xe(e,function(e){return t[e]})}function yn(t,e){return t.has(e)}function _n(t,e){for(var n=-1,r=t.length;++n<r&&an(e,t[n],0)>-1;);return n}function wn(t,e){for(var n=t.length;n--&&an(e,t[n],0)>-1;);return n}var bn=pn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),xn=pn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Sn(t){return"\\"+Oe[t]}function Cn(t){return be.test(t)}function En(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function kn(t,e){return function(n){return t(e(n))}}function On(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==l||(t[n]=l,o[i++]=n)}return o}function In(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Fn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function jn(t){return Cn(t)?function(t){var e=_e.lastIndex=0;for(;_e.test(t);)++e;return e}(t):rn(t)}function Tn(t){return Cn(t)?function(t){return t.match(_e)||[]}(t):function(t){return t.split("")}(t)}var An=pn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ln=function t(e){var n,r=(e=null==e?Ae:Ln.defaults(Ae.Object(),e,Ln.pick(Ae,Se))).Array,Zt=e.Date,Xt=e.Error,Qt=e.Function,te=e.Math,ee=e.Object,ne=e.RegExp,re=e.String,ie=e.TypeError,oe=r.prototype,se=Qt.prototype,ae=ee.prototype,ue=e["__core-js_shared__"],ce=se.toString,le=ae.hasOwnProperty,fe=0,pe=(n=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",he=ae.toString,de=ce.call(ee),me=Ae._,ve=ne("^"+ce.call(le).replace(Tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=De?e.Buffer:i,be=e.Symbol,Oe=e.Uint8Array,je=_e?_e.allocUnsafe:i,Te=kn(ee.getPrototypeOf,ee),Le=ee.create,Ne=ae.propertyIsEnumerable,Re=oe.splice,Pe=be?be.isConcatSpreadable:i,rn=be?be.iterator:i,pn=be?be.toStringTag:i,Nn=function(){try{var t=Mo(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),Dn=e.clearTimeout!==Ae.clearTimeout&&e.clearTimeout,Rn=Zt&&Zt.now!==Ae.Date.now&&Zt.now,Pn=e.setTimeout!==Ae.setTimeout&&e.setTimeout,Bn=te.ceil,Mn=te.floor,$n=ee.getOwnPropertySymbols,Un=_e?_e.isBuffer:i,qn=e.isFinite,zn=oe.join,Vn=kn(ee.keys,ee),Wn=te.max,Hn=te.min,Gn=Zt.now,Jn=e.parseInt,Kn=te.random,Yn=oe.reverse,Zn=Mo(e,"DataView"),Xn=Mo(e,"Map"),Qn=Mo(e,"Promise"),tr=Mo(e,"Set"),er=Mo(e,"WeakMap"),nr=Mo(ee,"create"),rr=er&&new er,ir={},or=fs(Zn),sr=fs(Xn),ar=fs(Qn),ur=fs(tr),cr=fs(er),lr=be?be.prototype:i,fr=lr?lr.valueOf:i,pr=lr?lr.toString:i;function hr(t){if(Ia(t)&&!ga(t)&&!(t instanceof gr)){if(t instanceof vr)return t;if(le.call(t,"__wrapped__"))return ps(t)}return new vr(t)}var dr=function(){function t(){}return function(e){if(!Oa(e))return{};if(Le)return Le(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function mr(){}function vr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function gr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=R,this.__views__=[]}function yr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function br(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new wr;++e<n;)this.add(t[e])}function xr(t){var e=this.__data__=new _r(t);this.size=e.size}function Sr(t,e){var n=ga(t),r=!n&&va(t),i=!n&&!r&&ba(t),o=!n&&!r&&!i&&Ra(t),s=n||r||i||o,a=s?mn(t.length,re):[],u=a.length;for(var c in t)!e&&!le.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ho(c,u))||a.push(c);return a}function Cr(t){var e=t.length;return e?t[bi(0,e-1)]:i}function Er(t,e){return us(no(t),Nr(e,0,t.length))}function kr(t){return us(no(t))}function Or(t,e,n){(n===i||ha(t[e],n))&&(n!==i||e in t)||Ar(t,e,n)}function Ir(t,e,n){var r=t[e];le.call(t,e)&&ha(r,n)&&(n!==i||e in t)||Ar(t,e,n)}function Fr(t,e){for(var n=t.length;n--;)if(ha(t[n][0],e))return n;return-1}function jr(t,e,n,r){return Mr(t,function(t,i,o){e(r,t,n(t),o)}),r}function Tr(t,e){return t&&ro(e,iu(e),t)}function Ar(t,e,n){"__proto__"==e&&Nn?Nn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Lr(t,e){for(var n=-1,o=e.length,s=r(o),a=null==t;++n<o;)s[n]=a?i:Qa(t,e[n]);return s}function Nr(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function Dr(t,e,n,r,o,s){var a,u=e&f,c=e&p,l=e&h;if(n&&(a=o?n(t,r,o,s):n(t)),a!==i)return a;if(!Oa(t))return t;var d=ga(t);if(d){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&le.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return no(t,a)}else{var m=qo(t),v=m==G||m==J;if(ba(t))return Yi(t,u);if(m==X||m==$||v&&!o){if(a=c||v?{}:Vo(t),!u)return c?function(t,e){return ro(t,Uo(t),e)}(t,function(t,e){return t&&ro(e,ou(e),t)}(a,t)):function(t,e){return ro(t,$o(t),e)}(t,Tr(a,t))}else{if(!ke[m])return o?t:{};a=function(t,e,n){var r,i,o,s=t.constructor;switch(e){case at:return Zi(t);case z:case V:return new s(+t);case ut:return function(t,e){var n=e?Zi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case ct:case lt:case ft:case pt:case ht:case dt:case mt:case vt:case gt:return Xi(t,n);case K:return new s;case Y:case nt:return new s(t);case tt:return(o=new(i=t).constructor(i.source,qt.exec(i))).lastIndex=i.lastIndex,o;case et:return new s;case rt:return r=t,fr?ee(fr.call(r)):{}}}(t,m,u)}}s||(s=new xr);var g=s.get(t);if(g)return g;if(s.set(t,a),La(t))return t.forEach(function(r){a.add(Dr(r,e,n,r,t,s))}),a;if(Fa(t))return t.forEach(function(r,i){a.set(i,Dr(r,e,n,i,t,s))}),a;var y=d?i:(l?c?Ao:To:c?ou:iu)(t);return He(y||t,function(r,i){y&&(r=t[i=r]),Ir(a,i,Dr(r,e,n,i,t,s))}),a}function Rr(t,e,n){var r=n.length;if(null==t)return!r;for(t=ee(t);r--;){var o=n[r],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function Pr(t,e,n){if("function"!=typeof t)throw new ie(a);return is(function(){t.apply(i,n)},e)}function Br(t,e,n,r){var i=-1,s=Ye,a=!0,u=t.length,c=[],l=e.length;if(!u)return c;n&&(e=Xe(e,vn(n))),r?(s=Ze,a=!1):e.length>=o&&(s=yn,a=!1,e=new br(e));t:for(;++i<u;){var f=t[i],p=null==n?f:n(f);if(f=r||0!==f?f:0,a&&p==p){for(var h=l;h--;)if(e[h]===p)continue t;c.push(f)}else s(e,p,r)||c.push(f)}return c}hr.templateSettings={escape:Et,evaluate:kt,interpolate:Ot,variable:"",imports:{_:hr}},hr.prototype=mr.prototype,hr.prototype.constructor=hr,vr.prototype=dr(mr.prototype),vr.prototype.constructor=vr,gr.prototype=dr(mr.prototype),gr.prototype.constructor=gr,yr.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},yr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},yr.prototype.get=function(t){var e=this.__data__;if(nr){var n=e[t];return n===u?i:n}return le.call(e,t)?e[t]:i},yr.prototype.has=function(t){var e=this.__data__;return nr?e[t]!==i:le.call(e,t)},yr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nr&&e===i?u:e,this},_r.prototype.clear=function(){this.__data__=[],this.size=0},_r.prototype.delete=function(t){var e=this.__data__,n=Fr(e,t);return!(n<0||(n==e.length-1?e.pop():Re.call(e,n,1),--this.size,0))},_r.prototype.get=function(t){var e=this.__data__,n=Fr(e,t);return n<0?i:e[n][1]},_r.prototype.has=function(t){return Fr(this.__data__,t)>-1},_r.prototype.set=function(t,e){var n=this.__data__,r=Fr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},wr.prototype.clear=function(){this.size=0,this.__data__={hash:new yr,map:new(Xn||_r),string:new yr}},wr.prototype.delete=function(t){var e=Po(this,t).delete(t);return this.size-=e?1:0,e},wr.prototype.get=function(t){return Po(this,t).get(t)},wr.prototype.has=function(t){return Po(this,t).has(t)},wr.prototype.set=function(t,e){var n=Po(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},br.prototype.add=br.prototype.push=function(t){return this.__data__.set(t,u),this},br.prototype.has=function(t){return this.__data__.has(t)},xr.prototype.clear=function(){this.__data__=new _r,this.size=0},xr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},xr.prototype.get=function(t){return this.__data__.get(t)},xr.prototype.has=function(t){return this.__data__.has(t)},xr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof _r){var r=n.__data__;if(!Xn||r.length<o-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new wr(r)}return n.set(t,e),this.size=n.size,this};var Mr=so(Gr),$r=so(Jr,!0);function Ur(t,e){var n=!0;return Mr(t,function(t,r,i){return n=!!e(t,r,i)}),n}function qr(t,e,n){for(var r=-1,o=t.length;++r<o;){var s=t[r],a=e(s);if(null!=a&&(u===i?a==a&&!Da(a):n(a,u)))var u=a,c=s}return c}function zr(t,e){var n=[];return Mr(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Vr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Wo),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?Vr(a,e-1,n,r,i):Qe(i,a):r||(i[i.length]=a)}return i}var Wr=ao(),Hr=ao(!0);function Gr(t,e){return t&&Wr(t,e,iu)}function Jr(t,e){return t&&Hr(t,e,iu)}function Kr(t,e){return Ke(e,function(e){return Ca(t[e])})}function Yr(t,e){for(var n=0,r=(e=Hi(e,t)).length;null!=t&&n<r;)t=t[ls(e[n++])];return n&&n==r?t:i}function Zr(t,e,n){var r=e(t);return ga(t)?r:Qe(r,n(t))}function Xr(t){return null==t?t===i?it:Z:pn&&pn in ee(t)?function(t){var e=le.call(t,pn),n=t[pn];try{t[pn]=i;var r=!0}catch(t){}var o=he.call(t);return r&&(e?t[pn]=n:delete t[pn]),o}(t):function(t){return he.call(t)}(t)}function Qr(t,e){return t>e}function ti(t,e){return null!=t&&le.call(t,e)}function ei(t,e){return null!=t&&e in ee(t)}function ni(t,e,n){for(var o=n?Ze:Ye,s=t[0].length,a=t.length,u=a,c=r(a),l=1/0,f=[];u--;){var p=t[u];u&&e&&(p=Xe(p,vn(e))),l=Hn(p.length,l),c[u]=!n&&(e||s>=120&&p.length>=120)?new br(u&&p):i}p=t[0];var h=-1,d=c[0];t:for(;++h<s&&f.length<l;){var m=p[h],v=e?e(m):m;if(m=n||0!==m?m:0,!(d?yn(d,v):o(f,v,n))){for(u=a;--u;){var g=c[u];if(!(g?yn(g,v):o(t[u],v,n)))continue t}d&&d.push(v),f.push(m)}}return f}function ri(t,e,n){var r=null==(t=es(t,e=Hi(e,t)))?t:t[ls(Ss(e))];return null==r?i:Ve(r,t,n)}function ii(t){return Ia(t)&&Xr(t)==$}function oi(t,e,n,r,o){return t===e||(null==t||null==e||!Ia(t)&&!Ia(e)?t!=t&&e!=e:function(t,e,n,r,o,s){var a=ga(t),u=ga(e),c=a?U:qo(t),l=u?U:qo(e),f=(c=c==$?X:c)==X,p=(l=l==$?X:l)==X,h=c==l;if(h&&ba(t)){if(!ba(e))return!1;a=!0,f=!1}if(h&&!f)return s||(s=new xr),a||Ra(t)?Fo(t,e,n,r,o,s):function(t,e,n,r,i,o,s){switch(n){case ut:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case at:return!(t.byteLength!=e.byteLength||!o(new Oe(t),new Oe(e)));case z:case V:case Y:return ha(+t,+e);case H:return t.name==e.name&&t.message==e.message;case tt:case nt:return t==e+"";case K:var a=En;case et:var u=r&d;if(a||(a=In),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;r|=m,s.set(t,e);var l=Fo(a(t),a(e),r,i,o,s);return s.delete(t),l;case rt:if(fr)return fr.call(t)==fr.call(e)}return!1}(t,e,c,n,r,o,s);if(!(n&d)){var v=f&&le.call(t,"__wrapped__"),g=p&&le.call(e,"__wrapped__");if(v||g){var y=v?t.value():t,_=g?e.value():e;return s||(s=new xr),o(y,_,n,r,s)}}return!!h&&(s||(s=new xr),function(t,e,n,r,o,s){var a=n&d,u=To(t),c=u.length,l=To(e).length;if(c!=l&&!a)return!1;for(var f=c;f--;){var p=u[f];if(!(a?p in e:le.call(e,p)))return!1}var h=s.get(t);if(h&&s.get(e))return h==e;var m=!0;s.set(t,e),s.set(e,t);for(var v=a;++f<c;){p=u[f];var g=t[p],y=e[p];if(r)var _=a?r(y,g,p,e,t,s):r(g,y,p,t,e,s);if(!(_===i?g===y||o(g,y,n,r,s):_)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var w=t.constructor,b=e.constructor;w!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b)&&(m=!1)}return s.delete(t),s.delete(e),m}(t,e,n,r,o,s))}(t,e,n,r,oi,o))}function si(t,e,n,r){var o=n.length,s=o,a=!r;if(null==t)return!s;for(t=ee(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var c=(u=n[o])[0],l=t[c],f=u[1];if(a&&u[2]){if(l===i&&!(c in t))return!1}else{var p=new xr;if(r)var h=r(l,f,c,t,e,p);if(!(h===i?oi(f,l,d|m,r,p):h))return!1}}return!0}function ai(t){return!(!Oa(t)||pe&&pe in t)&&(Ca(t)?ve:Wt).test(fs(t))}function ui(t){return"function"==typeof t?t:null==t?ju:"object"==typeof t?ga(t)?di(t[0],t[1]):hi(t):Mu(t)}function ci(t){if(!Zo(t))return Vn(t);var e=[];for(var n in ee(t))le.call(t,n)&&"constructor"!=n&&e.push(n);return e}function li(t){if(!Oa(t))return function(t){var e=[];if(null!=t)for(var n in ee(t))e.push(n);return e}(t);var e=Zo(t),n=[];for(var r in t)("constructor"!=r||!e&&le.call(t,r))&&n.push(r);return n}function fi(t,e){return t<e}function pi(t,e){var n=-1,i=_a(t)?r(t.length):[];return Mr(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function hi(t){var e=Bo(t);return 1==e.length&&e[0][2]?Qo(e[0][0],e[0][1]):function(n){return n===t||si(n,t,e)}}function di(t,e){return Jo(t)&&Xo(e)?Qo(ls(t),e):function(n){var r=Qa(n,t);return r===i&&r===e?tu(n,t):oi(e,r,d|m)}}function mi(t,e,n,r,o){t!==e&&Wr(e,function(s,a){if(Oa(s))o||(o=new xr),function(t,e,n,r,o,s,a){var u=ns(t,n),c=ns(e,n),l=a.get(c);if(l)Or(t,n,l);else{var f=s?s(u,c,n+"",t,e,a):i,p=f===i;if(p){var h=ga(c),d=!h&&ba(c),m=!h&&!d&&Ra(c);f=c,h||d||m?ga(u)?f=u:wa(u)?f=no(u):d?(p=!1,f=Yi(c,!0)):m?(p=!1,f=Xi(c,!0)):f=[]:Ta(c)||va(c)?(f=u,va(u)?f=Va(u):Oa(u)&&!Ca(u)||(f=Vo(c))):p=!1}p&&(a.set(c,f),o(f,c,r,s,a),a.delete(c)),Or(t,n,f)}}(t,e,a,n,mi,r,o);else{var u=r?r(ns(t,a),s,a+"",t,e,o):i;u===i&&(u=s),Or(t,a,u)}},ou)}function vi(t,e){var n=t.length;if(n)return Ho(e+=e<0?n:0,n)?t[e]:i}function gi(t,e,n){var r=-1;return e=Xe(e.length?e:[ju],vn(Ro())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(pi(t,function(t,n,i){return{criteria:Xe(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=Qi(i[r],o[r]);if(u){if(r>=a)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)})}function yi(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=Yr(t,s);n(a,s)&&ki(o,Hi(s,t),a)}return o}function _i(t,e,n,r){var i=r?un:an,o=-1,s=e.length,a=t;for(t===e&&(e=no(e)),n&&(a=Xe(t,vn(n)));++o<s;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==t&&Re.call(a,u,1),Re.call(t,u,1);return t}function wi(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Ho(i)?Re.call(t,i,1):Bi(t,i)}}return t}function bi(t,e){return t+Mn(Kn()*(e-t+1))}function xi(t,e){var n="";if(!t||e<1||e>L)return n;do{e%2&&(n+=t),(e=Mn(e/2))&&(t+=t)}while(e);return n}function Si(t,e){return os(ts(t,e,ju),t+"")}function Ci(t){return Cr(hu(t))}function Ei(t,e){var n=hu(t);return us(n,Nr(e,0,n.length))}function ki(t,e,n,r){if(!Oa(t))return t;for(var o=-1,s=(e=Hi(e,t)).length,a=s-1,u=t;null!=u&&++o<s;){var c=ls(e[o]),l=n;if(o!=a){var f=u[c];(l=r?r(f,c,u):i)===i&&(l=Oa(f)?f:Ho(e[o+1])?[]:{})}Ir(u,c,l),u=u[c]}return t}var Oi=rr?function(t,e){return rr.set(t,e),t}:ju,Ii=Nn?function(t,e){return Nn(t,"toString",{configurable:!0,enumerable:!1,value:Ou(e),writable:!0})}:ju;function Fi(t){return us(hu(t))}function ji(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function Ti(t,e){var n;return Mr(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Ai(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=B){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!Da(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return Li(t,e,ju,n)}function Li(t,e,n,r){e=n(e);for(var o=0,s=null==t?0:t.length,a=e!=e,u=null===e,c=Da(e),l=e===i;o<s;){var f=Mn((o+s)/2),p=n(t[f]),h=p!==i,d=null===p,m=p==p,v=Da(p);if(a)var g=r||m;else g=l?m&&(r||h):u?m&&h&&(r||!d):c?m&&h&&!d&&(r||!v):!d&&!v&&(r?p<=e:p<e);g?o=f+1:s=f}return Hn(s,P)}function Ni(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!ha(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Di(t){return"number"==typeof t?t:Da(t)?D:+t}function Ri(t){if("string"==typeof t)return t;if(ga(t))return Xe(t,Ri)+"";if(Da(t))return pr?pr.call(t):"";var e=t+"";return"0"==e&&1/t==-A?"-0":e}function Pi(t,e,n){var r=-1,i=Ye,s=t.length,a=!0,u=[],c=u;if(n)a=!1,i=Ze;else if(s>=o){var l=e?null:So(t);if(l)return In(l);a=!1,i=yn,c=new br}else c=e?[]:u;t:for(;++r<s;){var f=t[r],p=e?e(f):f;if(f=n||0!==f?f:0,a&&p==p){for(var h=c.length;h--;)if(c[h]===p)continue t;e&&c.push(p),u.push(f)}else i(c,p,n)||(c!==u&&c.push(p),u.push(f))}return u}function Bi(t,e){return null==(t=es(t,e=Hi(e,t)))||delete t[ls(Ss(e))]}function Mi(t,e,n,r){return ki(t,e,n(Yr(t,e)),r)}function $i(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ji(t,r?0:o,r?o+1:i):ji(t,r?o+1:0,r?i:o)}function Ui(t,e){var n=t;return n instanceof gr&&(n=n.value()),tn(e,function(t,e){return e.func.apply(e.thisArg,Qe([t],e.args))},n)}function qi(t,e,n){var i=t.length;if(i<2)return i?Pi(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=Br(s[o]||a,t[u],e,n));return Pi(Vr(s,1),e,n)}function zi(t,e,n){for(var r=-1,o=t.length,s=e.length,a={};++r<o;){var u=r<s?e[r]:i;n(a,t[r],u)}return a}function Vi(t){return wa(t)?t:[]}function Wi(t){return"function"==typeof t?t:ju}function Hi(t,e){return ga(t)?t:Jo(t,e)?[t]:cs(Wa(t))}var Gi=Si;function Ji(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ji(t,e,n)}var Ki=Dn||function(t){return Ae.clearTimeout(t)};function Yi(t,e){if(e)return t.slice();var n=t.length,r=je?je(n):new t.constructor(n);return t.copy(r),r}function Zi(t){var e=new t.constructor(t.byteLength);return new Oe(e).set(new Oe(t)),e}function Xi(t,e){var n=e?Zi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Qi(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,s=Da(t),a=e!==i,u=null===e,c=e==e,l=Da(e);if(!u&&!l&&!s&&t>e||s&&a&&c&&!u&&!l||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!l&&t<e||l&&n&&o&&!r&&!s||u&&n&&o||!a&&o||!c)return-1}return 0}function to(t,e,n,i){for(var o=-1,s=t.length,a=n.length,u=-1,c=e.length,l=Wn(s-a,0),f=r(c+l),p=!i;++u<c;)f[u]=e[u];for(;++o<a;)(p||o<s)&&(f[n[o]]=t[o]);for(;l--;)f[u++]=t[o++];return f}function eo(t,e,n,i){for(var o=-1,s=t.length,a=-1,u=n.length,c=-1,l=e.length,f=Wn(s-u,0),p=r(f+l),h=!i;++o<f;)p[o]=t[o];for(var d=o;++c<l;)p[d+c]=e[c];for(;++a<u;)(h||o<s)&&(p[d+n[a]]=t[o++]);return p}function no(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function ro(t,e,n,r){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var u=e[s],c=r?r(n[u],t[u],u,n,t):i;c===i&&(c=t[u]),o?Ar(n,u,c):Ir(n,u,c)}return n}function io(t,e){return function(n,r){var i=ga(n)?We:jr,o=e?e():{};return i(n,t,Ro(r,2),o)}}function oo(t){return Si(function(e,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&Go(n[0],n[1],a)&&(s=o<3?i:s,o=1),e=ee(e);++r<o;){var u=n[r];u&&t(e,u,r,s)}return e})}function so(t,e){return function(n,r){if(null==n)return n;if(!_a(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=ee(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function ao(t){return function(e,n,r){for(var i=-1,o=ee(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function uo(t){return function(e){var n=Cn(e=Wa(e))?Tn(e):i,r=n?n[0]:e.charAt(0),o=n?Ji(n,1).join(""):e.slice(1);return r[t]()+o}}function co(t){return function(e){return tn(Cu(vu(e).replace(ge,"")),t,"")}}function lo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=dr(t.prototype),r=t.apply(n,e);return Oa(r)?r:n}}function fo(t){return function(e,n,r){var o=ee(e);if(!_a(e)){var s=Ro(n,3);e=iu(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[s?e[a]:a]:i}}function po(t){return jo(function(e){var n=e.length,r=n,o=vr.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new ie(a);if(o&&!u&&"wrapper"==No(s))var u=new vr([],!0)}for(r=u?r:n;++r<n;){var c=No(s=e[r]),l="wrapper"==c?Lo(s):i;u=l&&Ko(l[0])&&l[1]==(S|_|b|C)&&!l[4].length&&1==l[9]?u[No(l[0])].apply(u,l[3]):1==s.length&&Ko(s)?u[c]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&ga(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function ho(t,e,n,o,s,a,u,c,l,f){var p=e&S,h=e&v,d=e&g,m=e&(_|w),y=e&E,b=d?i:lo(t);return function v(){for(var g=arguments.length,_=r(g),w=g;w--;)_[w]=arguments[w];if(m)var x=Do(v),S=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(_,x);if(o&&(_=to(_,o,s,m)),a&&(_=eo(_,a,u,m)),g-=S,m&&g<f){var C=On(_,x);return bo(t,e,ho,v.placeholder,n,_,C,c,l,f-g)}var E=h?n:this,k=d?E[t]:t;return g=_.length,c?_=function(t,e){for(var n=t.length,r=Hn(e.length,n),o=no(t);r--;){var s=e[r];t[r]=Ho(s,n)?o[s]:i}return t}(_,c):y&&g>1&&_.reverse(),p&&l<g&&(_.length=l),this&&this!==Ae&&this instanceof v&&(k=b||lo(k)),k.apply(E,_)}}function mo(t,e){return function(n,r){return function(t,e,n,r){return Gr(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function vo(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=Ri(n),r=Ri(r)):(n=Di(n),r=Di(r)),o=t(n,r)}return o}}function go(t){return jo(function(e){return e=Xe(e,vn(Ro())),Si(function(n){var r=this;return t(e,function(t){return Ve(t,r,n)})})})}function yo(t,e){var n=(e=e===i?" ":Ri(e)).length;if(n<2)return n?xi(e,t):e;var r=xi(e,Bn(t/jn(e)));return Cn(e)?Ji(Tn(r),0,t).join(""):r.slice(0,t)}function _o(t){return function(e,n,o){return o&&"number"!=typeof o&&Go(e,n,o)&&(n=o=i),e=$a(e),n===i?(n=e,e=0):n=$a(n),function(t,e,n,i){for(var o=-1,s=Wn(Bn((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,o=o===i?e<n?1:-1:$a(o),t)}}function wo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=za(e),n=za(n)),t(e,n)}}function bo(t,e,n,r,o,s,a,u,c,l){var f=e&_;e|=f?b:x,(e&=~(f?x:b))&y||(e&=~(v|g));var p=[t,e,o,f?s:i,f?a:i,f?i:s,f?i:a,u,c,l],h=n.apply(i,p);return Ko(t)&&rs(h,p),h.placeholder=r,ss(h,t,e)}function xo(t){var e=te[t];return function(t,n){if(t=za(t),n=null==n?0:Hn(Ua(n),292)){var r=(Wa(t)+"e").split("e");return+((r=(Wa(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var So=tr&&1/In(new tr([,-0]))[1]==A?function(t){return new tr(t)}:Du;function Co(t){return function(e){var n=qo(e);return n==K?En(e):n==et?Fn(e):function(t,e){return Xe(e,function(e){return[e,t[e]]})}(e,t(e))}}function Eo(t,e,n,o,s,u,c,f){var p=e&g;if(!p&&"function"!=typeof t)throw new ie(a);var h=o?o.length:0;if(h||(e&=~(b|x),o=s=i),c=c===i?c:Wn(Ua(c),0),f=f===i?f:Ua(f),h-=s?s.length:0,e&x){var d=o,m=s;o=s=i}var E=p?i:Lo(t),k=[t,e,n,o,s,d,m,u,c,f];if(E&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(v|g|S),s=r==S&&n==_||r==S&&n==C&&t[7].length<=e[8]||r==(S|C)&&e[7].length<=e[8]&&n==_;if(!o&&!s)return t;r&v&&(t[2]=e[2],i|=n&v?0:y);var a=e[3];if(a){var u=t[3];t[3]=u?to(u,a,e[4]):a,t[4]=u?On(t[3],l):e[4]}(a=e[5])&&(u=t[5],t[5]=u?eo(u,a,e[6]):a,t[6]=u?On(t[5],l):e[6]),(a=e[7])&&(t[7]=a),r&S&&(t[8]=null==t[8]?e[8]:Hn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(k,E),t=k[0],e=k[1],n=k[2],o=k[3],s=k[4],!(f=k[9]=k[9]===i?p?0:t.length:Wn(k[9]-h,0))&&e&(_|w)&&(e&=~(_|w)),e&&e!=v)O=e==_||e==w?function(t,e,n){var o=lo(t);return function s(){for(var a=arguments.length,u=r(a),c=a,l=Do(s);c--;)u[c]=arguments[c];var f=a<3&&u[0]!==l&&u[a-1]!==l?[]:On(u,l);return(a-=f.length)<n?bo(t,e,ho,s.placeholder,i,u,f,i,i,n-a):Ve(this&&this!==Ae&&this instanceof s?o:t,this,u)}}(t,e,f):e!=b&&e!=(v|b)||s.length?ho.apply(i,k):function(t,e,n,i){var o=e&v,s=lo(t);return function e(){for(var a=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),p=this&&this!==Ae&&this instanceof e?s:t;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++a];return Ve(p,o?n:this,f)}}(t,e,n,o);else var O=function(t,e,n){var r=e&v,i=lo(t);return function e(){return(this&&this!==Ae&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return ss((E?Oi:rs)(O,k),t,e)}function ko(t,e,n,r){return t===i||ha(t,ae[n])&&!le.call(r,n)?e:t}function Oo(t,e,n,r,o,s){return Oa(t)&&Oa(e)&&(s.set(e,t),mi(t,e,i,Oo,s),s.delete(e)),t}function Io(t){return Ta(t)?i:t}function Fo(t,e,n,r,o,s){var a=n&d,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(t);if(l&&s.get(e))return l==e;var f=-1,p=!0,h=n&m?new br:i;for(s.set(t,e),s.set(e,t);++f<u;){var v=t[f],g=e[f];if(r)var y=a?r(g,v,f,e,t,s):r(v,g,f,t,e,s);if(y!==i){if(y)continue;p=!1;break}if(h){if(!nn(e,function(t,e){if(!yn(h,e)&&(v===t||o(v,t,n,r,s)))return h.push(e)})){p=!1;break}}else if(v!==g&&!o(v,g,n,r,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function jo(t){return os(ts(t,i,ys),t+"")}function To(t){return Zr(t,iu,$o)}function Ao(t){return Zr(t,ou,Uo)}var Lo=rr?function(t){return rr.get(t)}:Du;function No(t){for(var e=t.name+"",n=ir[e],r=le.call(ir,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Do(t){return(le.call(hr,"placeholder")?hr:t).placeholder}function Ro(){var t=hr.iteratee||Tu;return t=t===Tu?ui:t,arguments.length?t(arguments[0],arguments[1]):t}function Po(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Bo(t){for(var e=iu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Xo(i)]}return e}function Mo(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return ai(n)?n:i}var $o=$n?function(t){return null==t?[]:(t=ee(t),Ke($n(t),function(e){return Ne.call(t,e)}))}:qu,Uo=$n?function(t){for(var e=[];t;)Qe(e,$o(t)),t=Te(t);return e}:qu,qo=Xr;function zo(t,e,n){for(var r=-1,i=(e=Hi(e,t)).length,o=!1;++r<i;){var s=ls(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&ka(i)&&Ho(s,i)&&(ga(t)||va(t))}function Vo(t){return"function"!=typeof t.constructor||Zo(t)?{}:dr(Te(t))}function Wo(t){return ga(t)||va(t)||!!(Pe&&t&&t[Pe])}function Ho(t,e){var n=typeof t;return!!(e=null==e?L:e)&&("number"==n||"symbol"!=n&&Gt.test(t))&&t>-1&&t%1==0&&t<e}function Go(t,e,n){if(!Oa(n))return!1;var r=typeof e;return!!("number"==r?_a(n)&&Ho(e,n.length):"string"==r&&e in n)&&ha(n[e],t)}function Jo(t,e){if(ga(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Da(t))||Ft.test(t)||!It.test(t)||null!=e&&t in ee(e)}function Ko(t){var e=No(t),n=hr[e];if("function"!=typeof n||!(e in gr.prototype))return!1;if(t===n)return!0;var r=Lo(n);return!!r&&t===r[0]}(Zn&&qo(new Zn(new ArrayBuffer(1)))!=ut||Xn&&qo(new Xn)!=K||Qn&&"[object Promise]"!=qo(Qn.resolve())||tr&&qo(new tr)!=et||er&&qo(new er)!=ot)&&(qo=function(t){var e=Xr(t),n=e==X?t.constructor:i,r=n?fs(n):"";if(r)switch(r){case or:return ut;case sr:return K;case ar:return"[object Promise]";case ur:return et;case cr:return ot}return e});var Yo=ue?Ca:zu;function Zo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ae)}function Xo(t){return t==t&&!Oa(t)}function Qo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in ee(n))}}function ts(t,e,n){return e=Wn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=Wn(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(a),Ve(t,this,u)}}function es(t,e){return e.length<2?t:Yr(t,ji(e,0,-1))}function ns(t,e){if("__proto__"!=e)return t[e]}var rs=as(Oi),is=Pn||function(t,e){return Ae.setTimeout(t,e)},os=as(Ii);function ss(t,e,n){var r=e+"";return os(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Rt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return He(M,function(n){var r="_."+n[0];e&n[1]&&!Ye(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(Pt);return e?e[1].split(Bt):[]}(r),n)))}function as(t){var e=0,n=0;return function(){var r=Gn(),o=F-(r-n);if(n=r,o>0){if(++e>=I)return arguments[0]}else e=0;return t.apply(i,arguments)}}function us(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var s=bi(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var cs=function(t){var e=aa(t,function(t){return n.size===c&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(jt,function(t,n,r,i){e.push(r?i.replace($t,"$1"):n||t)}),e});function ls(t){if("string"==typeof t||Da(t))return t;var e=t+"";return"0"==e&&1/t==-A?"-0":e}function fs(t){if(null!=t){try{return ce.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ps(t){if(t instanceof gr)return t.clone();var e=new vr(t.__wrapped__,t.__chain__);return e.__actions__=no(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var hs=Si(function(t,e){return wa(t)?Br(t,Vr(e,1,wa,!0)):[]}),ds=Si(function(t,e){var n=Ss(e);return wa(n)&&(n=i),wa(t)?Br(t,Vr(e,1,wa,!0),Ro(n,2)):[]}),ms=Si(function(t,e){var n=Ss(e);return wa(n)&&(n=i),wa(t)?Br(t,Vr(e,1,wa,!0),i,n):[]});function vs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ua(n);return i<0&&(i=Wn(r+i,0)),sn(t,Ro(e,3),i)}function gs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=Ua(n),o=n<0?Wn(r+o,0):Hn(o,r-1)),sn(t,Ro(e,3),o,!0)}function ys(t){return null!=t&&t.length?Vr(t,1):[]}function _s(t){return t&&t.length?t[0]:i}var ws=Si(function(t){var e=Xe(t,Vi);return e.length&&e[0]===t[0]?ni(e):[]}),bs=Si(function(t){var e=Ss(t),n=Xe(t,Vi);return e===Ss(n)?e=i:n.pop(),n.length&&n[0]===t[0]?ni(n,Ro(e,2)):[]}),xs=Si(function(t){var e=Ss(t),n=Xe(t,Vi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?ni(n,i,e):[]});function Ss(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Cs=Si(Es);function Es(t,e){return t&&t.length&&e&&e.length?_i(t,e):t}var ks=jo(function(t,e){var n=null==t?0:t.length,r=Lr(t,e);return wi(t,Xe(e,function(t){return Ho(t,n)?+t:t}).sort(Qi)),r});function Os(t){return null==t?t:Yn.call(t)}var Is=Si(function(t){return Pi(Vr(t,1,wa,!0))}),Fs=Si(function(t){var e=Ss(t);return wa(e)&&(e=i),Pi(Vr(t,1,wa,!0),Ro(e,2))}),js=Si(function(t){var e=Ss(t);return e="function"==typeof e?e:i,Pi(Vr(t,1,wa,!0),i,e)});function Ts(t){if(!t||!t.length)return[];var e=0;return t=Ke(t,function(t){if(wa(t))return e=Wn(t.length,e),!0}),mn(e,function(e){return Xe(t,fn(e))})}function As(t,e){if(!t||!t.length)return[];var n=Ts(t);return null==e?n:Xe(n,function(t){return Ve(e,i,t)})}var Ls=Si(function(t,e){return wa(t)?Br(t,e):[]}),Ns=Si(function(t){return qi(Ke(t,wa))}),Ds=Si(function(t){var e=Ss(t);return wa(e)&&(e=i),qi(Ke(t,wa),Ro(e,2))}),Rs=Si(function(t){var e=Ss(t);return e="function"==typeof e?e:i,qi(Ke(t,wa),i,e)}),Ps=Si(Ts);var Bs=Si(function(t){var e=t.length,n=e>1?t[e-1]:i;return As(t,n="function"==typeof n?(t.pop(),n):i)});function Ms(t){var e=hr(t);return e.__chain__=!0,e}function $s(t,e){return e(t)}var Us=jo(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return Lr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof gr&&Ho(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:$s,args:[o],thisArg:i}),new vr(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(i),t})):this.thru(o)});var qs=io(function(t,e,n){le.call(t,n)?++t[n]:Ar(t,n,1)});var zs=fo(vs),Vs=fo(gs);function Ws(t,e){return(ga(t)?He:Mr)(t,Ro(e,3))}function Hs(t,e){return(ga(t)?Ge:$r)(t,Ro(e,3))}var Gs=io(function(t,e,n){le.call(t,n)?t[n].push(e):Ar(t,n,[e])});var Js=Si(function(t,e,n){var i=-1,o="function"==typeof e,s=_a(t)?r(t.length):[];return Mr(t,function(t){s[++i]=o?Ve(e,t,n):ri(t,e,n)}),s}),Ks=io(function(t,e,n){Ar(t,n,e)});function Ys(t,e){return(ga(t)?Xe:pi)(t,Ro(e,3))}var Zs=io(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Xs=Si(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Go(t,e[0],e[1])?e=[]:n>2&&Go(e[0],e[1],e[2])&&(e=[e[0]]),gi(t,Vr(e,1),[])}),Qs=Rn||function(){return Ae.Date.now()};function ta(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Eo(t,S,i,i,i,i,e)}function ea(t,e){var n;if("function"!=typeof e)throw new ie(a);return t=Ua(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var na=Si(function(t,e,n){var r=v;if(n.length){var i=On(n,Do(na));r|=b}return Eo(t,r,e,n,i)}),ra=Si(function(t,e,n){var r=v|g;if(n.length){var i=On(n,Do(ra));r|=b}return Eo(e,r,t,n,i)});function ia(t,e,n){var r,o,s,u,c,l,f=0,p=!1,h=!1,d=!0;if("function"!=typeof t)throw new ie(a);function m(e){var n=r,s=o;return r=o=i,f=e,u=t.apply(s,n)}function v(t){var n=t-l;return l===i||n>=e||n<0||h&&t-f>=s}function g(){var t=Qs();if(v(t))return y(t);c=is(g,function(t){var n=e-(t-l);return h?Hn(n,s-(t-f)):n}(t))}function y(t){return c=i,d&&r?m(t):(r=o=i,u)}function _(){var t=Qs(),n=v(t);if(r=arguments,o=this,l=t,n){if(c===i)return function(t){return f=t,c=is(g,e),p?m(t):u}(l);if(h)return c=is(g,e),m(l)}return c===i&&(c=is(g,e)),u}return e=za(e)||0,Oa(n)&&(p=!!n.leading,s=(h="maxWait"in n)?Wn(za(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),_.cancel=function(){c!==i&&Ki(c),f=0,r=l=o=c=i},_.flush=function(){return c===i?u:y(Qs())},_}var oa=Si(function(t,e){return Pr(t,1,e)}),sa=Si(function(t,e,n){return Pr(t,za(e)||0,n)});function aa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ie(a);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(aa.Cache||wr),n}function ua(t){if("function"!=typeof t)throw new ie(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}aa.Cache=wr;var ca=Gi(function(t,e){var n=(e=1==e.length&&ga(e[0])?Xe(e[0],vn(Ro())):Xe(Vr(e,1),vn(Ro()))).length;return Si(function(r){for(var i=-1,o=Hn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Ve(t,this,r)})}),la=Si(function(t,e){var n=On(e,Do(la));return Eo(t,b,i,e,n)}),fa=Si(function(t,e){var n=On(e,Do(fa));return Eo(t,x,i,e,n)}),pa=jo(function(t,e){return Eo(t,C,i,i,i,e)});function ha(t,e){return t===e||t!=t&&e!=e}var da=wo(Qr),ma=wo(function(t,e){return t>=e}),va=ii(function(){return arguments}())?ii:function(t){return Ia(t)&&le.call(t,"callee")&&!Ne.call(t,"callee")},ga=r.isArray,ya=Be?vn(Be):function(t){return Ia(t)&&Xr(t)==at};function _a(t){return null!=t&&ka(t.length)&&!Ca(t)}function wa(t){return Ia(t)&&_a(t)}var ba=Un||zu,xa=Me?vn(Me):function(t){return Ia(t)&&Xr(t)==V};function Sa(t){if(!Ia(t))return!1;var e=Xr(t);return e==H||e==W||"string"==typeof t.message&&"string"==typeof t.name&&!Ta(t)}function Ca(t){if(!Oa(t))return!1;var e=Xr(t);return e==G||e==J||e==q||e==Q}function Ea(t){return"number"==typeof t&&t==Ua(t)}function ka(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=L}function Oa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ia(t){return null!=t&&"object"==typeof t}var Fa=$e?vn($e):function(t){return Ia(t)&&qo(t)==K};function ja(t){return"number"==typeof t||Ia(t)&&Xr(t)==Y}function Ta(t){if(!Ia(t)||Xr(t)!=X)return!1;var e=Te(t);if(null===e)return!0;var n=le.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ce.call(n)==de}var Aa=Ue?vn(Ue):function(t){return Ia(t)&&Xr(t)==tt};var La=qe?vn(qe):function(t){return Ia(t)&&qo(t)==et};function Na(t){return"string"==typeof t||!ga(t)&&Ia(t)&&Xr(t)==nt}function Da(t){return"symbol"==typeof t||Ia(t)&&Xr(t)==rt}var Ra=ze?vn(ze):function(t){return Ia(t)&&ka(t.length)&&!!Ee[Xr(t)]};var Pa=wo(fi),Ba=wo(function(t,e){return t<=e});function Ma(t){if(!t)return[];if(_a(t))return Na(t)?Tn(t):no(t);if(rn&&t[rn])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[rn]());var e=qo(t);return(e==K?En:e==et?In:hu)(t)}function $a(t){return t?(t=za(t))===A||t===-A?(t<0?-1:1)*N:t==t?t:0:0===t?t:0}function Ua(t){var e=$a(t),n=e%1;return e==e?n?e-n:e:0}function qa(t){return t?Nr(Ua(t),0,R):0}function za(t){if("number"==typeof t)return t;if(Da(t))return D;if(Oa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Oa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Lt,"");var n=Vt.test(t);return n||Ht.test(t)?Fe(t.slice(2),n?2:8):zt.test(t)?D:+t}function Va(t){return ro(t,ou(t))}function Wa(t){return null==t?"":Ri(t)}var Ha=oo(function(t,e){if(Zo(e)||_a(e))ro(e,iu(e),t);else for(var n in e)le.call(e,n)&&Ir(t,n,e[n])}),Ga=oo(function(t,e){ro(e,ou(e),t)}),Ja=oo(function(t,e,n,r){ro(e,ou(e),t,r)}),Ka=oo(function(t,e,n,r){ro(e,iu(e),t,r)}),Ya=jo(Lr);var Za=Si(function(t,e){t=ee(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&Go(e[0],e[1],o)&&(r=1);++n<r;)for(var s=e[n],a=ou(s),u=-1,c=a.length;++u<c;){var l=a[u],f=t[l];(f===i||ha(f,ae[l])&&!le.call(t,l))&&(t[l]=s[l])}return t}),Xa=Si(function(t){return t.push(i,Oo),Ve(au,i,t)});function Qa(t,e,n){var r=null==t?i:Yr(t,e);return r===i?n:r}function tu(t,e){return null!=t&&zo(t,e,ei)}var eu=mo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=he.call(e)),t[e]=n},Ou(ju)),nu=mo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=he.call(e)),le.call(t,e)?t[e].push(n):t[e]=[n]},Ro),ru=Si(ri);function iu(t){return _a(t)?Sr(t):ci(t)}function ou(t){return _a(t)?Sr(t,!0):li(t)}var su=oo(function(t,e,n){mi(t,e,n)}),au=oo(function(t,e,n,r){mi(t,e,n,r)}),uu=jo(function(t,e){var n={};if(null==t)return n;var r=!1;e=Xe(e,function(e){return e=Hi(e,t),r||(r=e.length>1),e}),ro(t,Ao(t),n),r&&(n=Dr(n,f|p|h,Io));for(var i=e.length;i--;)Bi(n,e[i]);return n});var cu=jo(function(t,e){return null==t?{}:function(t,e){return yi(t,e,function(e,n){return tu(t,n)})}(t,e)});function lu(t,e){if(null==t)return{};var n=Xe(Ao(t),function(t){return[t]});return e=Ro(e),yi(t,n,function(t,n){return e(t,n[0])})}var fu=Co(iu),pu=Co(ou);function hu(t){return null==t?[]:gn(t,iu(t))}var du=co(function(t,e,n){return e=e.toLowerCase(),t+(n?mu(e):e)});function mu(t){return Su(Wa(t).toLowerCase())}function vu(t){return(t=Wa(t))&&t.replace(Jt,bn).replace(ye,"")}var gu=co(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),yu=co(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),_u=uo("toLowerCase");var wu=co(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var bu=co(function(t,e,n){return t+(n?" ":"")+Su(e)});var xu=co(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Su=uo("toUpperCase");function Cu(t,e,n){return t=Wa(t),(e=n?i:e)===i?function(t){return xe.test(t)}(t)?function(t){return t.match(we)||[]}(t):function(t){return t.match(Mt)||[]}(t):t.match(e)||[]}var Eu=Si(function(t,e){try{return Ve(t,i,e)}catch(t){return Sa(t)?t:new Xt(t)}}),ku=jo(function(t,e){return He(e,function(e){e=ls(e),Ar(t,e,na(t[e],t))}),t});function Ou(t){return function(){return t}}var Iu=po(),Fu=po(!0);function ju(t){return t}function Tu(t){return ui("function"==typeof t?t:Dr(t,f))}var Au=Si(function(t,e){return function(n){return ri(n,t,e)}}),Lu=Si(function(t,e){return function(n){return ri(t,n,e)}});function Nu(t,e,n){var r=iu(e),i=Kr(e,r);null!=n||Oa(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Kr(e,iu(e)));var o=!(Oa(n)&&"chain"in n&&!n.chain),s=Ca(t);return He(i,function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=no(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Qe([this.value()],arguments))})}),t}function Du(){}var Ru=go(Xe),Pu=go(Je),Bu=go(nn);function Mu(t){return Jo(t)?fn(ls(t)):function(t){return function(e){return Yr(e,t)}}(t)}var $u=_o(),Uu=_o(!0);function qu(){return[]}function zu(){return!1}var Vu=vo(function(t,e){return t+e},0),Wu=xo("ceil"),Hu=vo(function(t,e){return t/e},1),Gu=xo("floor");var Ju,Ku=vo(function(t,e){return t*e},1),Yu=xo("round"),Zu=vo(function(t,e){return t-e},0);return hr.after=function(t,e){if("function"!=typeof e)throw new ie(a);return t=Ua(t),function(){if(--t<1)return e.apply(this,arguments)}},hr.ary=ta,hr.assign=Ha,hr.assignIn=Ga,hr.assignInWith=Ja,hr.assignWith=Ka,hr.at=Ya,hr.before=ea,hr.bind=na,hr.bindAll=ku,hr.bindKey=ra,hr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ga(t)?t:[t]},hr.chain=Ms,hr.chunk=function(t,e,n){e=(n?Go(t,e,n):e===i)?1:Wn(Ua(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,u=r(Bn(o/e));s<o;)u[a++]=ji(t,s,s+=e);return u},hr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},hr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Qe(ga(n)?no(n):[n],Vr(e,1))},hr.cond=function(t){var e=null==t?0:t.length,n=Ro();return t=e?Xe(t,function(t){if("function"!=typeof t[1])throw new ie(a);return[n(t[0]),t[1]]}):[],Si(function(n){for(var r=-1;++r<e;){var i=t[r];if(Ve(i[0],this,n))return Ve(i[1],this,n)}})},hr.conforms=function(t){return function(t){var e=iu(t);return function(n){return Rr(n,t,e)}}(Dr(t,f))},hr.constant=Ou,hr.countBy=qs,hr.create=function(t,e){var n=dr(t);return null==e?n:Tr(n,e)},hr.curry=function t(e,n,r){var o=Eo(e,_,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},hr.curryRight=function t(e,n,r){var o=Eo(e,w,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},hr.debounce=ia,hr.defaults=Za,hr.defaultsDeep=Xa,hr.defer=oa,hr.delay=sa,hr.difference=hs,hr.differenceBy=ds,hr.differenceWith=ms,hr.drop=function(t,e,n){var r=null==t?0:t.length;return r?ji(t,(e=n||e===i?1:Ua(e))<0?0:e,r):[]},hr.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ji(t,0,(e=r-(e=n||e===i?1:Ua(e)))<0?0:e):[]},hr.dropRightWhile=function(t,e){return t&&t.length?$i(t,Ro(e,3),!0,!0):[]},hr.dropWhile=function(t,e){return t&&t.length?$i(t,Ro(e,3),!0):[]},hr.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Go(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=Ua(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:Ua(r))<0&&(r+=o),r=n>r?0:qa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},hr.filter=function(t,e){return(ga(t)?Ke:zr)(t,Ro(e,3))},hr.flatMap=function(t,e){return Vr(Ys(t,e),1)},hr.flatMapDeep=function(t,e){return Vr(Ys(t,e),A)},hr.flatMapDepth=function(t,e,n){return n=n===i?1:Ua(n),Vr(Ys(t,e),n)},hr.flatten=ys,hr.flattenDeep=function(t){return null!=t&&t.length?Vr(t,A):[]},hr.flattenDepth=function(t,e){return null!=t&&t.length?Vr(t,e=e===i?1:Ua(e)):[]},hr.flip=function(t){return Eo(t,E)},hr.flow=Iu,hr.flowRight=Fu,hr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},hr.functions=function(t){return null==t?[]:Kr(t,iu(t))},hr.functionsIn=function(t){return null==t?[]:Kr(t,ou(t))},hr.groupBy=Gs,hr.initial=function(t){return null!=t&&t.length?ji(t,0,-1):[]},hr.intersection=ws,hr.intersectionBy=bs,hr.intersectionWith=xs,hr.invert=eu,hr.invertBy=nu,hr.invokeMap=Js,hr.iteratee=Tu,hr.keyBy=Ks,hr.keys=iu,hr.keysIn=ou,hr.map=Ys,hr.mapKeys=function(t,e){var n={};return e=Ro(e,3),Gr(t,function(t,r,i){Ar(n,e(t,r,i),t)}),n},hr.mapValues=function(t,e){var n={};return e=Ro(e,3),Gr(t,function(t,r,i){Ar(n,r,e(t,r,i))}),n},hr.matches=function(t){return hi(Dr(t,f))},hr.matchesProperty=function(t,e){return di(t,Dr(e,f))},hr.memoize=aa,hr.merge=su,hr.mergeWith=au,hr.method=Au,hr.methodOf=Lu,hr.mixin=Nu,hr.negate=ua,hr.nthArg=function(t){return t=Ua(t),Si(function(e){return vi(e,t)})},hr.omit=uu,hr.omitBy=function(t,e){return lu(t,ua(Ro(e)))},hr.once=function(t){return ea(2,t)},hr.orderBy=function(t,e,n,r){return null==t?[]:(ga(e)||(e=null==e?[]:[e]),ga(n=r?i:n)||(n=null==n?[]:[n]),gi(t,e,n))},hr.over=Ru,hr.overArgs=ca,hr.overEvery=Pu,hr.overSome=Bu,hr.partial=la,hr.partialRight=fa,hr.partition=Zs,hr.pick=cu,hr.pickBy=lu,hr.property=Mu,hr.propertyOf=function(t){return function(e){return null==t?i:Yr(t,e)}},hr.pull=Cs,hr.pullAll=Es,hr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?_i(t,e,Ro(n,2)):t},hr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?_i(t,e,i,n):t},hr.pullAt=ks,hr.range=$u,hr.rangeRight=Uu,hr.rearg=pa,hr.reject=function(t,e){return(ga(t)?Ke:zr)(t,ua(Ro(e,3)))},hr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Ro(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return wi(t,i),n},hr.rest=function(t,e){if("function"!=typeof t)throw new ie(a);return Si(t,e=e===i?e:Ua(e))},hr.reverse=Os,hr.sampleSize=function(t,e,n){return e=(n?Go(t,e,n):e===i)?1:Ua(e),(ga(t)?Er:Ei)(t,e)},hr.set=function(t,e,n){return null==t?t:ki(t,e,n)},hr.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ki(t,e,n,r)},hr.shuffle=function(t){return(ga(t)?kr:Fi)(t)},hr.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Go(t,e,n)?(e=0,n=r):(e=null==e?0:Ua(e),n=n===i?r:Ua(n)),ji(t,e,n)):[]},hr.sortBy=Xs,hr.sortedUniq=function(t){return t&&t.length?Ni(t):[]},hr.sortedUniqBy=function(t,e){return t&&t.length?Ni(t,Ro(e,2)):[]},hr.split=function(t,e,n){return n&&"number"!=typeof n&&Go(t,e,n)&&(e=n=i),(n=n===i?R:n>>>0)?(t=Wa(t))&&("string"==typeof e||null!=e&&!Aa(e))&&!(e=Ri(e))&&Cn(t)?Ji(Tn(t),0,n):t.split(e,n):[]},hr.spread=function(t,e){if("function"!=typeof t)throw new ie(a);return e=null==e?0:Wn(Ua(e),0),Si(function(n){var r=n[e],i=Ji(n,0,e);return r&&Qe(i,r),Ve(t,this,i)})},hr.tail=function(t){var e=null==t?0:t.length;return e?ji(t,1,e):[]},hr.take=function(t,e,n){return t&&t.length?ji(t,0,(e=n||e===i?1:Ua(e))<0?0:e):[]},hr.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ji(t,(e=r-(e=n||e===i?1:Ua(e)))<0?0:e,r):[]},hr.takeRightWhile=function(t,e){return t&&t.length?$i(t,Ro(e,3),!1,!0):[]},hr.takeWhile=function(t,e){return t&&t.length?$i(t,Ro(e,3)):[]},hr.tap=function(t,e){return e(t),t},hr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new ie(a);return Oa(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ia(t,e,{leading:r,maxWait:e,trailing:i})},hr.thru=$s,hr.toArray=Ma,hr.toPairs=fu,hr.toPairsIn=pu,hr.toPath=function(t){return ga(t)?Xe(t,ls):Da(t)?[t]:no(cs(Wa(t)))},hr.toPlainObject=Va,hr.transform=function(t,e,n){var r=ga(t),i=r||ba(t)||Ra(t);if(e=Ro(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Oa(t)&&Ca(o)?dr(Te(t)):{}}return(i?He:Gr)(t,function(t,r,i){return e(n,t,r,i)}),n},hr.unary=function(t){return ta(t,1)},hr.union=Is,hr.unionBy=Fs,hr.unionWith=js,hr.uniq=function(t){return t&&t.length?Pi(t):[]},hr.uniqBy=function(t,e){return t&&t.length?Pi(t,Ro(e,2)):[]},hr.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?Pi(t,i,e):[]},hr.unset=function(t,e){return null==t||Bi(t,e)},hr.unzip=Ts,hr.unzipWith=As,hr.update=function(t,e,n){return null==t?t:Mi(t,e,Wi(n))},hr.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Mi(t,e,Wi(n),r)},hr.values=hu,hr.valuesIn=function(t){return null==t?[]:gn(t,ou(t))},hr.without=Ls,hr.words=Cu,hr.wrap=function(t,e){return la(Wi(e),t)},hr.xor=Ns,hr.xorBy=Ds,hr.xorWith=Rs,hr.zip=Ps,hr.zipObject=function(t,e){return zi(t||[],e||[],Ir)},hr.zipObjectDeep=function(t,e){return zi(t||[],e||[],ki)},hr.zipWith=Bs,hr.entries=fu,hr.entriesIn=pu,hr.extend=Ga,hr.extendWith=Ja,Nu(hr,hr),hr.add=Vu,hr.attempt=Eu,hr.camelCase=du,hr.capitalize=mu,hr.ceil=Wu,hr.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=za(n))==n?n:0),e!==i&&(e=(e=za(e))==e?e:0),Nr(za(t),e,n)},hr.clone=function(t){return Dr(t,h)},hr.cloneDeep=function(t){return Dr(t,f|h)},hr.cloneDeepWith=function(t,e){return Dr(t,f|h,e="function"==typeof e?e:i)},hr.cloneWith=function(t,e){return Dr(t,h,e="function"==typeof e?e:i)},hr.conformsTo=function(t,e){return null==e||Rr(t,e,iu(e))},hr.deburr=vu,hr.defaultTo=function(t,e){return null==t||t!=t?e:t},hr.divide=Hu,hr.endsWith=function(t,e,n){t=Wa(t),e=Ri(e);var r=t.length,o=n=n===i?r:Nr(Ua(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},hr.eq=ha,hr.escape=function(t){return(t=Wa(t))&&Ct.test(t)?t.replace(xt,xn):t},hr.escapeRegExp=function(t){return(t=Wa(t))&&At.test(t)?t.replace(Tt,"\\$&"):t},hr.every=function(t,e,n){var r=ga(t)?Je:Ur;return n&&Go(t,e,n)&&(e=i),r(t,Ro(e,3))},hr.find=zs,hr.findIndex=vs,hr.findKey=function(t,e){return on(t,Ro(e,3),Gr)},hr.findLast=Vs,hr.findLastIndex=gs,hr.findLastKey=function(t,e){return on(t,Ro(e,3),Jr)},hr.floor=Gu,hr.forEach=Ws,hr.forEachRight=Hs,hr.forIn=function(t,e){return null==t?t:Wr(t,Ro(e,3),ou)},hr.forInRight=function(t,e){return null==t?t:Hr(t,Ro(e,3),ou)},hr.forOwn=function(t,e){return t&&Gr(t,Ro(e,3))},hr.forOwnRight=function(t,e){return t&&Jr(t,Ro(e,3))},hr.get=Qa,hr.gt=da,hr.gte=ma,hr.has=function(t,e){return null!=t&&zo(t,e,ti)},hr.hasIn=tu,hr.head=_s,hr.identity=ju,hr.includes=function(t,e,n,r){t=_a(t)?t:hu(t),n=n&&!r?Ua(n):0;var i=t.length;return n<0&&(n=Wn(i+n,0)),Na(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&an(t,e,n)>-1},hr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ua(n);return i<0&&(i=Wn(r+i,0)),an(t,e,i)},hr.inRange=function(t,e,n){return e=$a(e),n===i?(n=e,e=0):n=$a(n),function(t,e,n){return t>=Hn(e,n)&&t<Wn(e,n)}(t=za(t),e,n)},hr.invoke=ru,hr.isArguments=va,hr.isArray=ga,hr.isArrayBuffer=ya,hr.isArrayLike=_a,hr.isArrayLikeObject=wa,hr.isBoolean=function(t){return!0===t||!1===t||Ia(t)&&Xr(t)==z},hr.isBuffer=ba,hr.isDate=xa,hr.isElement=function(t){return Ia(t)&&1===t.nodeType&&!Ta(t)},hr.isEmpty=function(t){if(null==t)return!0;if(_a(t)&&(ga(t)||"string"==typeof t||"function"==typeof t.splice||ba(t)||Ra(t)||va(t)))return!t.length;var e=qo(t);if(e==K||e==et)return!t.size;if(Zo(t))return!ci(t).length;for(var n in t)if(le.call(t,n))return!1;return!0},hr.isEqual=function(t,e){return oi(t,e)},hr.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?oi(t,e,i,n):!!r},hr.isError=Sa,hr.isFinite=function(t){return"number"==typeof t&&qn(t)},hr.isFunction=Ca,hr.isInteger=Ea,hr.isLength=ka,hr.isMap=Fa,hr.isMatch=function(t,e){return t===e||si(t,e,Bo(e))},hr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,si(t,e,Bo(e),n)},hr.isNaN=function(t){return ja(t)&&t!=+t},hr.isNative=function(t){if(Yo(t))throw new Xt(s);return ai(t)},hr.isNil=function(t){return null==t},hr.isNull=function(t){return null===t},hr.isNumber=ja,hr.isObject=Oa,hr.isObjectLike=Ia,hr.isPlainObject=Ta,hr.isRegExp=Aa,hr.isSafeInteger=function(t){return Ea(t)&&t>=-L&&t<=L},hr.isSet=La,hr.isString=Na,hr.isSymbol=Da,hr.isTypedArray=Ra,hr.isUndefined=function(t){return t===i},hr.isWeakMap=function(t){return Ia(t)&&qo(t)==ot},hr.isWeakSet=function(t){return Ia(t)&&Xr(t)==st},hr.join=function(t,e){return null==t?"":zn.call(t,e)},hr.kebabCase=gu,hr.last=Ss,hr.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=Ua(n))<0?Wn(r+o,0):Hn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):sn(t,cn,o,!0)},hr.lowerCase=yu,hr.lowerFirst=_u,hr.lt=Pa,hr.lte=Ba,hr.max=function(t){return t&&t.length?qr(t,ju,Qr):i},hr.maxBy=function(t,e){return t&&t.length?qr(t,Ro(e,2),Qr):i},hr.mean=function(t){return ln(t,ju)},hr.meanBy=function(t,e){return ln(t,Ro(e,2))},hr.min=function(t){return t&&t.length?qr(t,ju,fi):i},hr.minBy=function(t,e){return t&&t.length?qr(t,Ro(e,2),fi):i},hr.stubArray=qu,hr.stubFalse=zu,hr.stubObject=function(){return{}},hr.stubString=function(){return""},hr.stubTrue=function(){return!0},hr.multiply=Ku,hr.nth=function(t,e){return t&&t.length?vi(t,Ua(e)):i},hr.noConflict=function(){return Ae._===this&&(Ae._=me),this},hr.noop=Du,hr.now=Qs,hr.pad=function(t,e,n){t=Wa(t);var r=(e=Ua(e))?jn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return yo(Mn(i),n)+t+yo(Bn(i),n)},hr.padEnd=function(t,e,n){t=Wa(t);var r=(e=Ua(e))?jn(t):0;return e&&r<e?t+yo(e-r,n):t},hr.padStart=function(t,e,n){t=Wa(t);var r=(e=Ua(e))?jn(t):0;return e&&r<e?yo(e-r,n)+t:t},hr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Jn(Wa(t).replace(Nt,""),e||0)},hr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Go(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=$a(t),e===i?(e=t,t=0):e=$a(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=Kn();return Hn(t+o*(e-t+Ie("1e-"+((o+"").length-1))),e)}return bi(t,e)},hr.reduce=function(t,e,n){var r=ga(t)?tn:hn,i=arguments.length<3;return r(t,Ro(e,4),n,i,Mr)},hr.reduceRight=function(t,e,n){var r=ga(t)?en:hn,i=arguments.length<3;return r(t,Ro(e,4),n,i,$r)},hr.repeat=function(t,e,n){return e=(n?Go(t,e,n):e===i)?1:Ua(e),xi(Wa(t),e)},hr.replace=function(){var t=arguments,e=Wa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},hr.result=function(t,e,n){var r=-1,o=(e=Hi(e,t)).length;for(o||(o=1,t=i);++r<o;){var s=null==t?i:t[ls(e[r])];s===i&&(r=o,s=n),t=Ca(s)?s.call(t):s}return t},hr.round=Yu,hr.runInContext=t,hr.sample=function(t){return(ga(t)?Cr:Ci)(t)},hr.size=function(t){if(null==t)return 0;if(_a(t))return Na(t)?jn(t):t.length;var e=qo(t);return e==K||e==et?t.size:ci(t).length},hr.snakeCase=wu,hr.some=function(t,e,n){var r=ga(t)?nn:Ti;return n&&Go(t,e,n)&&(e=i),r(t,Ro(e,3))},hr.sortedIndex=function(t,e){return Ai(t,e)},hr.sortedIndexBy=function(t,e,n){return Li(t,e,Ro(n,2))},hr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Ai(t,e);if(r<n&&ha(t[r],e))return r}return-1},hr.sortedLastIndex=function(t,e){return Ai(t,e,!0)},hr.sortedLastIndexBy=function(t,e,n){return Li(t,e,Ro(n,2),!0)},hr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Ai(t,e,!0)-1;if(ha(t[n],e))return n}return-1},hr.startCase=bu,hr.startsWith=function(t,e,n){return t=Wa(t),n=null==n?0:Nr(Ua(n),0,t.length),e=Ri(e),t.slice(n,n+e.length)==e},hr.subtract=Zu,hr.sum=function(t){return t&&t.length?dn(t,ju):0},hr.sumBy=function(t,e){return t&&t.length?dn(t,Ro(e,2)):0},hr.template=function(t,e,n){var r=hr.templateSettings;n&&Go(t,e,n)&&(e=i),t=Wa(t),e=Ja({},e,r,ko);var o,s,a=Ja({},e.imports,r.imports,ko),u=iu(a),c=gn(a,u),l=0,f=e.interpolate||Kt,p="__p += '",h=ne((e.escape||Kt).source+"|"+f.source+"|"+(f===Ot?Ut:Kt).source+"|"+(e.evaluate||Kt).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Ce+"]")+"\n";t.replace(h,function(e,n,r,i,a,u){return r||(r=i),p+=t.slice(l,u).replace(Yt,Sn),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),p+="';\n";var m=e.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(yt,""):p).replace(_t,"$1").replace(wt,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Eu(function(){return Qt(u,d+"return "+p).apply(i,c)});if(v.source=p,Sa(v))throw v;return v},hr.times=function(t,e){if((t=Ua(t))<1||t>L)return[];var n=R,r=Hn(t,R);e=Ro(e),t-=R;for(var i=mn(r,e);++n<t;)e(n);return i},hr.toFinite=$a,hr.toInteger=Ua,hr.toLength=qa,hr.toLower=function(t){return Wa(t).toLowerCase()},hr.toNumber=za,hr.toSafeInteger=function(t){return t?Nr(Ua(t),-L,L):0===t?t:0},hr.toString=Wa,hr.toUpper=function(t){return Wa(t).toUpperCase()},hr.trim=function(t,e,n){if((t=Wa(t))&&(n||e===i))return t.replace(Lt,"");if(!t||!(e=Ri(e)))return t;var r=Tn(t),o=Tn(e);return Ji(r,_n(r,o),wn(r,o)+1).join("")},hr.trimEnd=function(t,e,n){if((t=Wa(t))&&(n||e===i))return t.replace(Dt,"");if(!t||!(e=Ri(e)))return t;var r=Tn(t);return Ji(r,0,wn(r,Tn(e))+1).join("")},hr.trimStart=function(t,e,n){if((t=Wa(t))&&(n||e===i))return t.replace(Nt,"");if(!t||!(e=Ri(e)))return t;var r=Tn(t);return Ji(r,_n(r,Tn(e))).join("")},hr.truncate=function(t,e){var n=k,r=O;if(Oa(e)){var o="separator"in e?e.separator:o;n="length"in e?Ua(e.length):n,r="omission"in e?Ri(e.omission):r}var s=(t=Wa(t)).length;if(Cn(t)){var a=Tn(t);s=a.length}if(n>=s)return t;var u=n-jn(r);if(u<1)return r;var c=a?Ji(a,0,u).join(""):t.slice(0,u);if(o===i)return c+r;if(a&&(u+=c.length-u),Aa(o)){if(t.slice(u).search(o)){var l,f=c;for(o.global||(o=ne(o.source,Wa(qt.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var p=l.index;c=c.slice(0,p===i?u:p)}}else if(t.indexOf(Ri(o),u)!=u){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+r},hr.unescape=function(t){return(t=Wa(t))&&St.test(t)?t.replace(bt,An):t},hr.uniqueId=function(t){var e=++fe;return Wa(t)+e},hr.upperCase=xu,hr.upperFirst=Su,hr.each=Ws,hr.eachRight=Hs,hr.first=_s,Nu(hr,(Ju={},Gr(hr,function(t,e){le.call(hr.prototype,e)||(Ju[e]=t)}),Ju),{chain:!1}),hr.VERSION="4.17.11",He(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){hr[t].placeholder=hr}),He(["drop","take"],function(t,e){gr.prototype[t]=function(n){n=n===i?1:Wn(Ua(n),0);var r=this.__filtered__&&!e?new gr(this):this.clone();return r.__filtered__?r.__takeCount__=Hn(n,r.__takeCount__):r.__views__.push({size:Hn(n,R),type:t+(r.__dir__<0?"Right":"")}),r},gr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),He(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==j||3==n;gr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ro(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),He(["head","last"],function(t,e){var n="take"+(e?"Right":"");gr.prototype[t]=function(){return this[n](1).value()[0]}}),He(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");gr.prototype[t]=function(){return this.__filtered__?new gr(this):this[n](1)}}),gr.prototype.compact=function(){return this.filter(ju)},gr.prototype.find=function(t){return this.filter(t).head()},gr.prototype.findLast=function(t){return this.reverse().find(t)},gr.prototype.invokeMap=Si(function(t,e){return"function"==typeof t?new gr(this):this.map(function(n){return ri(n,t,e)})}),gr.prototype.reject=function(t){return this.filter(ua(Ro(t)))},gr.prototype.slice=function(t,e){t=Ua(t);var n=this;return n.__filtered__&&(t>0||e<0)?new gr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=Ua(e))<0?n.dropRight(-e):n.take(e-t)),n)},gr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},gr.prototype.toArray=function(){return this.take(R)},Gr(gr.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=hr[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);o&&(hr.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof gr,c=a[0],l=u||ga(e),f=function(t){var e=o.apply(hr,Qe([t],a));return r&&p?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var p=this.__chain__,h=!!this.__actions__.length,d=s&&!p,m=u&&!h;if(!s&&l){e=m?e:new gr(this);var v=t.apply(e,a);return v.__actions__.push({func:$s,args:[f],thisArg:i}),new vr(v,p)}return d&&m?t.apply(this,a):(v=this.thru(f),d?r?v.value()[0]:v.value():v)})}),He(["pop","push","shift","sort","splice","unshift"],function(t){var e=oe[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);hr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(ga(i)?i:[],t)}return this[n](function(n){return e.apply(ga(n)?n:[],t)})}}),Gr(gr.prototype,function(t,e){var n=hr[e];if(n){var r=n.name+"";(ir[r]||(ir[r]=[])).push({name:e,func:n})}}),ir[ho(i,g).name]=[{name:"wrapper",func:i}],gr.prototype.clone=function(){var t=new gr(this.__wrapped__);return t.__actions__=no(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=no(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=no(this.__views__),t},gr.prototype.reverse=function(){if(this.__filtered__){var t=new gr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},gr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ga(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Hn(e,t+s);break;case"takeRight":t=Wn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,f=l.length,p=0,h=Hn(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return Ui(t,this.__actions__);var d=[];t:for(;u--&&p<h;){for(var m=-1,v=t[c+=e];++m<f;){var g=l[m],y=g.iteratee,_=g.type,w=y(v);if(_==T)v=w;else if(!w){if(_==j)continue t;break t}}d[p++]=v}return d},hr.prototype.at=Us,hr.prototype.chain=function(){return Ms(this)},hr.prototype.commit=function(){return new vr(this.value(),this.__chain__)},hr.prototype.next=function(){this.__values__===i&&(this.__values__=Ma(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},hr.prototype.plant=function(t){for(var e,n=this;n instanceof mr;){var r=ps(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},hr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof gr){var e=t;return this.__actions__.length&&(e=new gr(this)),(e=e.reverse()).__actions__.push({func:$s,args:[Os],thisArg:i}),new vr(e,this.__chain__)}return this.thru(Os)},hr.prototype.toJSON=hr.prototype.valueOf=hr.prototype.value=function(){return Ui(this.__wrapped__,this.__actions__)},hr.prototype.first=hr.prototype.head,rn&&(hr.prototype[rn]=function(){return this}),hr}();Ae._=Ln,(r=function(){return Ln}.call(e,n,e,t))===i||(t.exports=r)}).call(this)}).call(this,n(42)(t))},function(t,e,n){(function(t){(function(e){"use strict";function n(t,e){e|=0;for(var n=Math.max(t.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=t[e+i];return r}var r=function(t){var e=n(arguments,1);return function(){var r=n(arguments);return t.apply(null,e.concat(r))}},i=function(t){return function(){var e=n(arguments),r=e.pop();t.call(this,e,r)}};function o(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var s="function"==typeof setImmediate&&setImmediate,a="object"==typeof process&&"function"==typeof process.nextTick;function u(t){setTimeout(t,0)}function c(t){return function(e){var r=n(arguments,1);t(function(){e.apply(null,r)})}}var l=c(s?setImmediate:a?process.nextTick:u);function f(t){return i(function(e,n){var r;try{r=t.apply(this,e)}catch(t){return n(t)}o(r)&&"function"==typeof r.then?r.then(function(t){p(n,null,t)},function(t){p(n,t.message?t:new Error(t))}):n(null,r)})}function p(t,e,n){try{t(e,n)}catch(t){l(h,t)}}function h(t){throw t}var d="function"==typeof Symbol;function m(t){return d&&"AsyncFunction"===t[Symbol.toStringTag]}function v(t){return m(t)?f(t):t}function g(t){return function(e){var r=n(arguments,1),o=i(function(n,r){var i=this;return t(e,function(t,e){v(t).apply(i,n.concat(e))},r)});return r.length?o.apply(this,r):o}}var y="object"==typeof global&&global&&global.Object===Object&&global,_="object"==typeof self&&self&&self.Object===Object&&self,w=y||_||Function("return this")(),b=w.Symbol,x=Object.prototype,S=x.hasOwnProperty,C=x.toString,E=b?b.toStringTag:void 0;var k=Object.prototype.toString;var O="[object Null]",I="[object Undefined]",F=b?b.toStringTag:void 0;function j(t){return null==t?void 0===t?I:O:F&&F in Object(t)?function(t){var e=S.call(t,E),n=t[E];try{t[E]=void 0;var r=!0}catch(t){}var i=C.call(t);return r&&(e?t[E]=n:delete t[E]),i}(t):function(t){return k.call(t)}(t)}var T="[object AsyncFunction]",A="[object Function]",L="[object GeneratorFunction]",N="[object Proxy]";var D=9007199254740991;function R(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=D}function P(t){return null!=t&&R(t.length)&&!function(t){if(!o(t))return!1;var e=j(t);return e==A||e==L||e==T||e==N}(t)}var B={};function M(){}function $(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}var U="function"==typeof Symbol&&Symbol.iterator,q=function(t){return U&&t[U]&&t[U]()};function z(t){return null!=t&&"object"==typeof t}var V="[object Arguments]";function W(t){return z(t)&&j(t)==V}var H=Object.prototype,G=H.hasOwnProperty,J=H.propertyIsEnumerable,K=W(function(){return arguments}())?W:function(t){return z(t)&&G.call(t,"callee")&&!J.call(t,"callee")},Y=Array.isArray;var Z="object"==typeof e&&e&&!e.nodeType&&e,X=Z&&"object"==typeof t&&t&&!t.nodeType&&t,Q=X&&X.exports===Z?w.Buffer:void 0,tt=(Q?Q.isBuffer:void 0)||function(){return!1},et=9007199254740991,nt=/^(?:0|[1-9]\d*)$/;function rt(t,e){var n=typeof t;return!!(e=null==e?et:e)&&("number"==n||"symbol"!=n&&nt.test(t))&&t>-1&&t%1==0&&t<e}var it={};it["[object Float32Array]"]=it["[object Float64Array]"]=it["[object Int8Array]"]=it["[object Int16Array]"]=it["[object Int32Array]"]=it["[object Uint8Array]"]=it["[object Uint8ClampedArray]"]=it["[object Uint16Array]"]=it["[object Uint32Array]"]=!0,it["[object Arguments]"]=it["[object Array]"]=it["[object ArrayBuffer]"]=it["[object Boolean]"]=it["[object DataView]"]=it["[object Date]"]=it["[object Error]"]=it["[object Function]"]=it["[object Map]"]=it["[object Number]"]=it["[object Object]"]=it["[object RegExp]"]=it["[object Set]"]=it["[object String]"]=it["[object WeakMap]"]=!1;var ot,st="object"==typeof e&&e&&!e.nodeType&&e,at=st&&"object"==typeof t&&t&&!t.nodeType&&t,ut=at&&at.exports===st&&y.process,ct=function(){try{var t=at&&at.require&&at.require("util").types;return t||ut&&ut.binding&&ut.binding("util")}catch(t){}}(),lt=ct&&ct.isTypedArray,ft=lt?(ot=lt,function(t){return ot(t)}):function(t){return z(t)&&R(t.length)&&!!it[j(t)]},pt=Object.prototype.hasOwnProperty;function ht(t,e){var n=Y(t),r=!n&&K(t),i=!n&&!r&&tt(t),o=!n&&!r&&!i&&ft(t),s=n||r||i||o,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=a.length;for(var c in t)!e&&!pt.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||rt(c,u))||a.push(c);return a}var dt=Object.prototype;var mt=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),vt=Object.prototype.hasOwnProperty;function gt(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||dt))return mt(t);var e,n,r=[];for(var i in Object(t))vt.call(t,i)&&"constructor"!=i&&r.push(i);return r}function yt(t){return P(t)?ht(t):gt(t)}function _t(t){if(P(t))return function(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}(t);var e,n,r,i,o=q(t);return o?function(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}(o):(n=yt(e=t),r=-1,i=n.length,function(){var t=n[++r];return r<i?{value:e[t],key:t}:null})}function wt(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function bt(t){return function(e,n,r){if(r=$(r||M),t<=0||!e)return r(null);var i=_t(e),o=!1,s=0,a=!1;function u(t,e){if(s-=1,t)o=!0,r(t);else{if(e===B||o&&s<=0)return o=!0,r(null);a||c()}}function c(){for(a=!0;s<t&&!o;){var e=i();if(null===e)return o=!0,void(s<=0&&r(null));s+=1,n(e.value,e.key,wt(u))}a=!1}c()}}function xt(t,e,n,r){bt(e)(t,v(n),r)}function St(t,e){return function(n,r,i){return t(n,e,r,i)}}function Ct(t,e,n){n=$(n||M);var r=0,i=0,o=t.length;function s(t,e){t?n(t):++i!==o&&e!==B||n(null)}for(0===o&&n(null);r<o;r++)e(t[r],r,wt(s))}var Et=St(xt,1/0),kt=function(t,e,n){(P(t)?Ct:Et)(t,v(e),n)};function Ot(t){return function(e,n,r){return t(kt,e,v(n),r)}}function It(t,e,n,r){r=r||M,e=e||[];var i=[],o=0,s=v(n);t(e,function(t,e,n){var r=o++;s(t,function(t,e){i[r]=e,n(t)})},function(t){r(t,i)})}var Ft=Ot(It),jt=g(Ft);function Tt(t){return function(e,n,r,i){return t(bt(n),e,v(r),i)}}var At=Tt(It),Lt=St(At,1),Nt=g(Lt);function Dt(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}var Rt,Pt=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),s=o.length;s--;){var a=o[Rt?s:++r];if(!1===e(i[a],a,i))break}return t};function Bt(t,e){return t&&Pt(t,e,yt)}function Mt(t){return t!=t}function $t(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,Mt,n)}var Ut=function(t,e,r){"function"==typeof e&&(r=e,e=null),r=$(r||M);var i=yt(t).length;if(!i)return r(null);e||(e=i);var o={},s=0,a=!1,u=Object.create(null),c=[],l=[],f={};function p(t,e){c.push(function(){!function(t,e){if(a)return;var i=wt(function(e,i){if(s--,arguments.length>2&&(i=n(arguments,1)),e){var c={};Bt(o,function(t,e){c[e]=t}),c[t]=i,a=!0,u=Object.create(null),r(e,c)}else o[t]=i,Dt(u[t]||[],function(t){t()}),h()});s++;var c=v(e[e.length-1]);e.length>1?c(o,i):c(i)}(t,e)})}function h(){if(0===c.length&&0===s)return r(null,o);for(;c.length&&s<e;){c.shift()()}}function d(e){var n=[];return Bt(t,function(t,r){Y(t)&&$t(t,e,0)>=0&&n.push(r)}),n}Bt(t,function(e,n){if(!Y(e))return p(n,[e]),void l.push(n);var r=e.slice(0,e.length-1),i=r.length;if(0===i)return p(n,e),void l.push(n);f[n]=i,Dt(r,function(o){if(!t[o])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+o+"` in "+r.join(", "));!function(t,e){var n=u[t];n||(n=u[t]=[]);n.push(e)}(o,function(){0===--i&&p(n,e)})})}),function(){var t,e=0;for(;l.length;)t=l.pop(),e++,Dt(d(t),function(t){0==--f[t]&&l.push(t)});if(e!==i)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),h()};function qt(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var zt="[object Symbol]";var Vt=1/0,Wt=b?b.prototype:void 0,Ht=Wt?Wt.toString:void 0;function Gt(t){if("string"==typeof t)return t;if(Y(t))return qt(t,Gt)+"";if(function(t){return"symbol"==typeof t||z(t)&&j(t)==zt}(t))return Ht?Ht.call(t):"";var e=t+"";return"0"==e&&1/t==-Vt?"-0":e}function Jt(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}(t,e,n)}var Kt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Yt="[\\ud800-\\udfff]",Zt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Xt="\\ud83c[\\udffb-\\udfff]",Qt="[^\\ud800-\\udfff]",te="(?:\\ud83c[\\udde6-\\uddff]){2}",ee="[\\ud800-\\udbff][\\udc00-\\udfff]",ne="(?:"+Zt+"|"+Xt+")"+"?",re="[\\ufe0e\\ufe0f]?"+ne+("(?:\\u200d(?:"+[Qt,te,ee].join("|")+")[\\ufe0e\\ufe0f]?"+ne+")*"),ie="(?:"+[Qt+Zt+"?",Zt,te,ee,Yt].join("|")+")",oe=RegExp(Xt+"(?="+Xt+")|"+ie+re,"g");function se(t){return function(t){return Kt.test(t)}(t)?function(t){return t.match(oe)||[]}(t):function(t){return t.split("")}(t)}var ae=/^\s+|\s+$/g;function ue(t,e,n){var r;if((t=null==(r=t)?"":Gt(r))&&(n||void 0===e))return t.replace(ae,"");if(!t||!(e=Gt(e)))return t;var i=se(t),o=se(e);return Jt(i,function(t,e){for(var n=-1,r=t.length;++n<r&&$t(e,t[n],0)>-1;);return n}(i,o),function(t,e){for(var n=t.length;n--&&$t(e,t[n],0)>-1;);return n}(i,o)+1).join("")}var ce=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,le=/,/,fe=/(=.+)?(\s*)$/,pe=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function he(t,e){var n={};Bt(t,function(t,e){var r,i,o=m(t),s=!o&&1===t.length||o&&0===t.length;if(Y(t))r=t.slice(0,-1),t=t[t.length-1],n[e]=r.concat(r.length>0?a:t);else if(s)n[e]=t;else{if(r=i=(i=(i=(i=(i=t).toString().replace(pe,"")).match(ce)[2].replace(" ",""))?i.split(le):[]).map(function(t){return ue(t.replace(fe,""))}),0===t.length&&!o&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");o||r.pop(),n[e]=r.concat(a)}function a(e,n){var i=qt(r,function(t){return e[t]});i.push(n),v(t).apply(null,i)}}),Ut(n,e)}function de(){this.head=this.tail=null,this.length=0}function me(t,e){t.length=1,t.head=t.tail=e}function ve(t,e,n){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=v(t),i=0,o=[],s=!1;function a(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(f.started=!0,Y(t)||(t=[t]),0===t.length&&f.idle())return l(function(){f.drain()});for(var r=0,i=t.length;r<i;r++){var o={data:t[r],callback:n||M};e?f._tasks.unshift(o):f._tasks.push(o)}s||(s=!0,l(function(){s=!1,f.process()}))}function u(t){return function(e){i-=1;for(var n=0,r=t.length;n<r;n++){var s=t[n],a=$t(o,s,0);0===a?o.shift():a>0&&o.splice(a,1),s.callback.apply(s,arguments),null!=e&&f.error(e,s.data)}i<=f.concurrency-f.buffer&&f.unsaturated(),f.idle()&&f.drain(),f.process()}}var c=!1,f={_tasks:new de,concurrency:e,payload:n,saturated:M,unsaturated:M,buffer:e/4,empty:M,drain:M,error:M,started:!1,paused:!1,push:function(t,e){a(t,!1,e)},kill:function(){f.drain=M,f._tasks.empty()},unshift:function(t,e){a(t,!0,e)},remove:function(t){f._tasks.remove(t)},process:function(){if(!c){for(c=!0;!f.paused&&i<f.concurrency&&f._tasks.length;){var t=[],e=[],n=f._tasks.length;f.payload&&(n=Math.min(n,f.payload));for(var s=0;s<n;s++){var a=f._tasks.shift();t.push(a),o.push(a),e.push(a.data)}i+=1,0===f._tasks.length&&f.empty(),i===f.concurrency&&f.saturated();var l=wt(u(t));r(e,l)}c=!1}},length:function(){return f._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return f._tasks.length+i===0},pause:function(){f.paused=!0},resume:function(){!1!==f.paused&&(f.paused=!1,l(f.process))}};return f}function ge(t,e){return ve(t,1,e)}de.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},de.prototype.empty=function(){for(;this.head;)this.shift();return this},de.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},de.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},de.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):me(this,t)},de.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):me(this,t)},de.prototype.shift=function(){return this.head&&this.removeLink(this.head)},de.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},de.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,n=0;n<this.length;n++)t[n]=e.data,e=e.next;return t},de.prototype.remove=function(t){for(var e=this.head;e;){var n=e.next;t(e)&&this.removeLink(e),e=n}return this};var ye=St(xt,1);function _e(t,e,n,r){r=$(r||M);var i=v(n);ye(t,function(t,n,r){i(e,t,function(t,n){e=n,r(t)})},function(t){r(t,e)})}function we(){var t=qt(arguments,v);return function(){var e=n(arguments),r=this,i=e[e.length-1];"function"==typeof i?e.pop():i=M,_e(t,e,function(t,e,i){e.apply(r,t.concat(function(t){var e=n(arguments,1);i(t,e)}))},function(t,e){i.apply(r,[t].concat(e))})}}var be=function(){return we.apply(null,n(arguments).reverse())},xe=Array.prototype.concat,Se=function(t,e,r,i){i=i||M;var o=v(r);At(t,e,function(t,e){o(t,function(t){return t?e(t):e(null,n(arguments,1))})},function(t,e){for(var n=[],r=0;r<e.length;r++)e[r]&&(n=xe.apply(n,e[r]));return i(t,n)})},Ce=St(Se,1/0),Ee=St(Se,1),ke=function(){var t=n(arguments),e=[null].concat(t);return function(){return arguments[arguments.length-1].apply(this,e)}};function Oe(t){return t}function Ie(t,e){return function(n,r,i,o){o=o||M;var s,a=!1;n(r,function(n,r,o){i(n,function(r,i){r?o(r):t(i)&&!s?(a=!0,s=e(!0,n),o(null,B)):o()})},function(t){t?o(t):o(null,a?s:e(!1))})}}function Fe(t,e){return e}var je=Ot(Ie(Oe,Fe)),Te=Tt(Ie(Oe,Fe)),Ae=St(Te,1);function Le(t){return function(e){var r=n(arguments,1);r.push(function(e){var r=n(arguments,1);"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&Dt(r,function(e){console[t](e)}))}),v(e).apply(null,r)}}var Ne=Le("dir");function De(t,e,r){r=wt(r||M);var i=v(t),o=v(e);function s(t){if(t)return r(t);var e=n(arguments,1);e.push(a),o.apply(this,e)}function a(t,e){return t?r(t):e?void i(s):r(null)}a(null,!0)}function Re(t,e,r){r=wt(r||M);var i=v(t),o=function(t){if(t)return r(t);var s=n(arguments,1);if(e.apply(this,s))return i(o);r.apply(null,[null].concat(s))};i(o)}function Pe(t,e,n){Re(t,function(){return!e.apply(this,arguments)},n)}function Be(t,e,n){n=wt(n||M);var r=v(e),i=v(t);function o(t){if(t)return n(t);i(s)}function s(t,e){return t?n(t):e?void r(o):n(null)}i(s)}function Me(t){return function(e,n,r){return t(e,r)}}function $e(t,e,n){kt(t,Me(v(e)),n)}function Ue(t,e,n,r){bt(e)(t,Me(v(n)),r)}var qe=St(Ue,1);function ze(t){return m(t)?t:i(function(e,n){var r=!0;e.push(function(){var t=arguments;r?l(function(){n.apply(null,t)}):n.apply(null,t)}),t.apply(this,e),r=!1})}function Ve(t){return!t}var We=Ot(Ie(Ve,Ve)),He=Tt(Ie(Ve,Ve)),Ge=St(He,1);function Je(t){return function(e){return null==e?void 0:e[t]}}function Ke(t,e,n,r){var i=new Array(e.length);t(e,function(t,e,r){n(t,function(t,n){i[e]=!!n,r(t)})},function(t){if(t)return r(t);for(var n=[],o=0;o<e.length;o++)i[o]&&n.push(e[o]);r(null,n)})}function Ye(t,e,n,r){var i=[];t(e,function(t,e,r){n(t,function(n,o){n?r(n):(o&&i.push({index:e,value:t}),r())})},function(t){t?r(t):r(null,qt(i.sort(function(t,e){return t.index-e.index}),Je("value")))})}function Ze(t,e,n,r){(P(e)?Ke:Ye)(t,e,v(n),r||M)}var Xe=Ot(Ze),Qe=Tt(Ze),tn=St(Qe,1);function en(t,e){var n=wt(e||M),r=v(ze(t));!function t(e){if(e)return n(e);r(t)}()}var nn=function(t,e,n,r){r=r||M;var i=v(n);At(t,e,function(t,e){i(t,function(n,r){return n?e(n):e(null,{key:r,val:t})})},function(t,e){for(var n={},i=Object.prototype.hasOwnProperty,o=0;o<e.length;o++)if(e[o]){var s=e[o].key,a=e[o].val;i.call(n,s)?n[s].push(a):n[s]=[a]}return r(t,n)})},rn=St(nn,1/0),on=St(nn,1),sn=Le("log");function an(t,e,n,r){r=$(r||M);var i={},o=v(n);xt(t,e,function(t,e,n){o(t,e,function(t,r){if(t)return n(t);i[e]=r,n()})},function(t){r(t,i)})}var un=St(an,1/0),cn=St(an,1);function ln(t,e){return e in t}function fn(t,e){var r=Object.create(null),o=Object.create(null);e=e||Oe;var s=v(t),a=i(function(t,i){var a=e.apply(null,t);ln(r,a)?l(function(){i.apply(null,r[a])}):ln(o,a)?o[a].push(i):(o[a]=[i],s.apply(null,t.concat(function(){var t=n(arguments);r[a]=t;var e=o[a];delete o[a];for(var i=0,s=e.length;i<s;i++)e[i].apply(null,t)})))});return a.memo=r,a.unmemoized=t,a}var pn=c(a?process.nextTick:s?setImmediate:u);function hn(t,e,r){r=r||M;var i=P(e)?[]:{};t(e,function(t,e,r){v(t)(function(t,o){arguments.length>2&&(o=n(arguments,1)),i[e]=o,r(t)})},function(t){r(t,i)})}function dn(t,e){hn(kt,t,e)}function mn(t,e,n){hn(bt(e),t,n)}var vn=function(t,e){var n=v(t);return ve(function(t,e){n(t[0],e)},e,1)},gn=function(t,e){var n=vn(t,e);return n.push=function(t,e,r){if(null==r&&(r=M),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,Y(t)||(t=[t]),0===t.length)return l(function(){n.drain()});e=e||0;for(var i=n._tasks.head;i&&e>=i.priority;)i=i.next;for(var o=0,s=t.length;o<s;o++){var a={data:t[o],priority:e,callback:r};i?n._tasks.insertBefore(i,a):n._tasks.push(a)}l(n.process)},delete n.unshift,n};function yn(t,e){if(e=$(e||M),!Y(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var n=0,r=t.length;n<r;n++)v(t[n])(e)}function _n(t,e,r,i){_e(n(t).reverse(),e,r,i)}function wn(t){var e=v(t);return i(function(t,r){return t.push(function(t,e){var i;t?r(null,{error:t}):(i=arguments.length<=2?e:n(arguments,1),r(null,{value:i}))}),e.apply(this,t)})}function bn(t){var e;return Y(t)?e=qt(t,wn):(e={},Bt(t,function(t,n){e[n]=wn.call(this,t)})),e}function xn(t,e,n,r){Ze(t,e,function(t,e){n(t,function(t,n){e(t,!n)})},r)}var Sn=Ot(xn),Cn=Tt(xn),En=St(Cn,1);function kn(t){return function(){return t}}function On(t,e,n){var r=5,i=0,o={times:r,intervalFunc:kn(i)};if(arguments.length<3&&"function"==typeof t?(n=e||M,e=t):(!function(t,e){if("object"==typeof e)t.times=+e.times||r,t.intervalFunc="function"==typeof e.interval?e.interval:kn(+e.interval||i),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||r}}(o,t),n=n||M),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var s=v(e),a=1;!function t(){s(function(e){e&&a++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(e))?setTimeout(t,o.intervalFunc(a)):n.apply(null,arguments)})}()}var In=function(t,e){e||(e=t,t=null);var n=v(e);return i(function(e,r){function i(t){n.apply(null,e.concat(t))}t?On(t,i,r):On(i,r)})};function Fn(t,e){hn(ye,t,e)}var jn=Ot(Ie(Boolean,Oe)),Tn=Tt(Ie(Boolean,Oe)),An=St(Tn,1);function Ln(t,e,n){var r=v(e);function i(t,e){var n=t.criteria,r=e.criteria;return n<r?-1:n>r?1:0}Ft(t,function(t,e){r(t,function(n,r){if(n)return e(n);e(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);n(null,qt(e.sort(i),Je("value")))})}function Nn(t,e,n){var r=v(t);return i(function(i,o){var s,a=!1;i.push(function(){a||(o.apply(null,arguments),clearTimeout(s))}),s=setTimeout(function(){var e=t.name||"anonymous",r=new Error('Callback function "'+e+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),a=!0,o(r)},e),r.apply(null,i)})}var Dn=Math.ceil,Rn=Math.max;function Pn(t,e,n,r){var i=v(n);At(function(t,e,n,r){for(var i=-1,o=Rn(Dn((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}(0,t,1),e,i,r)}var Bn=St(Pn,1/0),Mn=St(Pn,1);function $n(t,e,n,r){arguments.length<=3&&(r=n,n=e,e=Y(t)?[]:{}),r=$(r||M);var i=v(n);kt(t,function(t,n,r){i(e,t,n,r)},function(t){r(t,e)})}function Un(t,e){var r,i=null;e=e||M,qe(t,function(t,e){v(t)(function(t,o){r=arguments.length>2?n(arguments,1):o,i=t,e(!t)})},function(){e(i,r)})}function qn(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function zn(t,e,r){r=wt(r||M);var i=v(e);if(!t())return r(null);var o=function(e){if(e)return r(e);if(t())return i(o);var s=n(arguments,1);r.apply(null,[null].concat(s))};i(o)}function Vn(t,e,n){zn(function(){return!t.apply(this,arguments)},e,n)}var Wn=function(t,e){if(e=$(e||M),!Y(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function i(e){var n=v(t[r++]);e.push(wt(o)),n.apply(null,e)}function o(o){if(o||r===t.length)return e.apply(null,arguments);i(n(arguments,1))}i([])},Hn={apply:r,applyEach:jt,applyEachSeries:Nt,asyncify:f,auto:Ut,autoInject:he,cargo:ge,compose:be,concat:Ce,concatLimit:Se,concatSeries:Ee,constant:ke,detect:je,detectLimit:Te,detectSeries:Ae,dir:Ne,doDuring:De,doUntil:Pe,doWhilst:Re,during:Be,each:$e,eachLimit:Ue,eachOf:kt,eachOfLimit:xt,eachOfSeries:ye,eachSeries:qe,ensureAsync:ze,every:We,everyLimit:He,everySeries:Ge,filter:Xe,filterLimit:Qe,filterSeries:tn,forever:en,groupBy:rn,groupByLimit:nn,groupBySeries:on,log:sn,map:Ft,mapLimit:At,mapSeries:Lt,mapValues:un,mapValuesLimit:an,mapValuesSeries:cn,memoize:fn,nextTick:pn,parallel:dn,parallelLimit:mn,priorityQueue:gn,queue:vn,race:yn,reduce:_e,reduceRight:_n,reflect:wn,reflectAll:bn,reject:Sn,rejectLimit:Cn,rejectSeries:En,retry:On,retryable:In,seq:we,series:Fn,setImmediate:l,some:jn,someLimit:Tn,someSeries:An,sortBy:Ln,timeout:Nn,times:Bn,timesLimit:Pn,timesSeries:Mn,transform:$n,tryEach:Un,unmemoize:qn,until:Vn,waterfall:Wn,whilst:zn,all:We,allLimit:He,allSeries:Ge,any:jn,anyLimit:Tn,anySeries:An,find:je,findLimit:Te,findSeries:Ae,forEach:$e,forEachSeries:qe,forEachLimit:Ue,forEachOf:kt,forEachOfSeries:ye,forEachOfLimit:xt,inject:_e,foldl:_e,foldr:_n,select:Xe,selectLimit:Qe,selectSeries:tn,wrapSync:f};e.default=Hn,e.apply=r,e.applyEach=jt,e.applyEachSeries=Nt,e.asyncify=f,e.auto=Ut,e.autoInject=he,e.cargo=ge,e.compose=be,e.concat=Ce,e.concatLimit=Se,e.concatSeries=Ee,e.constant=ke,e.detect=je,e.detectLimit=Te,e.detectSeries=Ae,e.dir=Ne,e.doDuring=De,e.doUntil=Pe,e.doWhilst=Re,e.during=Be,e.each=$e,e.eachLimit=Ue,e.eachOf=kt,e.eachOfLimit=xt,e.eachOfSeries=ye,e.eachSeries=qe,e.ensureAsync=ze,e.every=We,e.everyLimit=He,e.everySeries=Ge,e.filter=Xe,e.filterLimit=Qe,e.filterSeries=tn,e.forever=en,e.groupBy=rn,e.groupByLimit=nn,e.groupBySeries=on,e.log=sn,e.map=Ft,e.mapLimit=At,e.mapSeries=Lt,e.mapValues=un,e.mapValuesLimit=an,e.mapValuesSeries=cn,e.memoize=fn,e.nextTick=pn,e.parallel=dn,e.parallelLimit=mn,e.priorityQueue=gn,e.queue=vn,e.race=yn,e.reduce=_e,e.reduceRight=_n,e.reflect=wn,e.reflectAll=bn,e.reject=Sn,e.rejectLimit=Cn,e.rejectSeries=En,e.retry=On,e.retryable=In,e.seq=we,e.series=Fn,e.setImmediate=l,e.some=jn,e.someLimit=Tn,e.someSeries=An,e.sortBy=Ln,e.timeout=Nn,e.times=Bn,e.timesLimit=Pn,e.timesSeries=Mn,e.transform=$n,e.tryEach=Un,e.unmemoize=qn,e.until=Vn,e.waterfall=Wn,e.whilst=zn,e.all=We,e.allLimit=He,e.allSeries=Ge,e.any=jn,e.anyLimit=Tn,e.anySeries=An,e.find=je,e.findLimit=Te,e.findSeries=Ae,e.forEach=$e,e.forEachSeries=qe,e.forEachLimit=Ue,e.forEachOf=kt,e.forEachOfSeries=ye,e.forEachOfLimit=xt,e.inject=_e,e.foldl=_e,e.foldr=_n,e.select=Xe,e.selectLimit=Qe,e.selectSeries=tn,e.wrapSync=f,Object.defineProperty(e,"__esModule",{value:!0})})(e)}).call(this,n(42)(t))},function(t,e,n){"use strict";t.exports=Object.assign({},n(43),n(44),n(48),n(94),n(96),n(102),n(4),n(106),n(107),n(108),n(6),n(16));const r=n(9);Object.getOwnPropertyDescriptor(r,"promises")&&Object.defineProperty(t.exports,"promises",{get:()=>r.promises})},function(t,e,n){var r=n(87),i=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(t){}var a=process.chdir;process.chdir=function(t){o=null,a.call(process,t)},t.exports=function(t){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,n,i){t.open(e,r.O_WRONLY|r.O_SYMLINK,n,function(e,r){e?i&&i(e):t.fchmod(r,n,function(e){t.close(r,function(t){i&&i(e||t)})})})},t.lchmodSync=function(e,n){var i,o=t.openSync(e,r.O_WRONLY|r.O_SYMLINK,n),s=!0;try{i=t.fchmodSync(o,n),s=!1}finally{if(s)try{t.closeSync(o)}catch(t){}else t.closeSync(o)}return i}}(t);t.lutimes||function(t){r.hasOwnProperty("O_SYMLINK")?(t.lutimes=function(e,n,i,o){t.open(e,r.O_SYMLINK,function(e,r){e?o&&o(e):t.futimes(r,n,i,function(e){t.close(r,function(t){o&&o(e||t)})})})},t.lutimesSync=function(e,n,i){var o,s=t.openSync(e,r.O_SYMLINK),a=!0;try{o=t.futimesSync(s,n,i),a=!1}finally{if(a)try{t.closeSync(s)}catch(t){}else t.closeSync(s)}return o}):(t.lutimes=function(t,e,n,r){r&&process.nextTick(r)},t.lutimesSync=function(){})}(t);t.chown=o(t.chown),t.fchown=o(t.fchown),t.lchown=o(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=a(t.chownSync),t.fchownSync=a(t.fchownSync),t.lchownSync=a(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=u(t.stat),t.fstat=u(t.fstat),t.lstat=u(t.lstat),t.statSync=c(t.statSync),t.fstatSync=c(t.fstatSync),t.lstatSync=c(t.lstatSync),t.lchmod||(t.lchmod=function(t,e,n){n&&process.nextTick(n)},t.lchmodSync=function(){});t.lchown||(t.lchown=function(t,e,n,r){r&&process.nextTick(r)},t.lchownSync=function(){});"win32"===s&&(t.rename=(e=t.rename,function(n,r,i){var o=Date.now(),s=0;e(n,r,function a(u){if(u&&("EACCES"===u.code||"EPERM"===u.code)&&Date.now()-o<6e4)return setTimeout(function(){t.stat(r,function(t,o){t&&"ENOENT"===t.code?e(n,r,a):i(u)})},s),void(s<100&&(s+=10));i&&i(u)})}));var e;function n(e){return e?function(n,r,i){return e.call(t,n,r,function(t){l(t)&&(t=null),i&&i.apply(this,arguments)})}:e}function i(e){return e?function(n,r){try{return e.call(t,n,r)}catch(t){if(!l(t))throw t}}:e}function o(e){return e?function(n,r,i,o){return e.call(t,n,r,i,function(t){l(t)&&(t=null),o&&o.apply(this,arguments)})}:e}function a(e){return e?function(n,r,i){try{return e.call(t,n,r,i)}catch(t){if(!l(t))throw t}}:e}function u(e){return e?function(n,r){return e.call(t,n,function(t,e){if(!e)return r.apply(this,arguments);e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296),r&&r.apply(this,arguments)})}:e}function c(e){return e?function(n){var r=e.call(t,n);return r.uid<0&&(r.uid+=4294967296),r.gid<0&&(r.gid+=4294967296),r}:e}function l(t){if(!t)return!0;if("ENOSYS"===t.code)return!0;var e=!process.getuid||0!==process.getuid();return!(!e||"EINVAL"!==t.code&&"EPERM"!==t.code)}t.read=(p=t.read,function(e,n,r,i,o,s){var a;if(s&&"function"==typeof s){var u=0;a=function(c,l,f){if(c&&"EAGAIN"===c.code&&u<10)return u++,p.call(t,e,n,r,i,o,a);s.apply(this,arguments)}}return p.call(t,e,n,r,i,o,a)}),t.readSync=(f=t.readSync,function(e,n,r,i,o){for(var s=0;;)try{return f.call(t,e,n,r,i,o)}catch(t){if("EAGAIN"===t.code&&s<10){s++;continue}throw t}});var f;var p}},function(t,e){t.exports=require("constants")},function(t,e,n){var r=n(20).Stream;t.exports=function(t){return{ReadStream:function e(n,i){if(!(this instanceof e))return new e(n,i);r.call(this);var o=this;this.path=n;this.fd=null;this.readable=!0;this.paused=!1;this.flags="r";this.mode=438;this.bufferSize=65536;i=i||{};var s=Object.keys(i);for(var a=0,u=s.length;a<u;a++){var c=s[a];this[c]=i[c]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick(function(){o._read()});t.open(this.path,this.flags,this.mode,function(t,e){if(t)return o.emit("error",t),void(o.readable=!1);o.fd=e,o.emit("open",e),o._read()})},WriteStream:function e(n,i){if(!(this instanceof e))return new e(n,i);r.call(this);this.path=n;this.fd=null;this.writable=!0;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;i=i||{};var o=Object.keys(i);for(var s=0,a=o.length;s<a;s++){var u=o[s];this[u]=i[u]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1;this._queue=[];null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(t,e,n){"use strict";t.exports=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:t.__proto__};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(4).mkdirsSync,s=n(46).utimesMillisSync,a=Symbol("notExist");function u(t,e,n,o){if(!o.filter||o.filter(e,n))return function(t,e,n,o){const s=(o.dereference?r.statSync:r.lstatSync)(e);if(s.isDirectory())return function(t,e,n,i,o){if(e===a)return function(t,e,n,i){return r.mkdirSync(n),l(e,n,i),r.chmodSync(n,t.mode)}(t,n,i,o);if(e&&!e.isDirectory())throw new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`);return l(n,i,o)}(s,t,e,n,o);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(t,e,n,i,o){return e===a?c(t,n,i,o):function(t,e,n,i){if(i.overwrite)return r.unlinkSync(n),c(t,e,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}(t,n,i,o)}(s,t,e,n,o);if(s.isSymbolicLink())return function(t,e,n,o){let s=r.readlinkSync(e);o.dereference&&(s=i.resolve(process.cwd(),s));if(t===a)return r.symlinkSync(s,n);{let t;try{t=r.readlinkSync(n)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return r.symlinkSync(s,n);throw t}if(o.dereference&&(t=i.resolve(process.cwd(),t)),f(s,t))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${t}'.`);if(r.statSync(n).isDirectory()&&f(t,s))throw new Error(`Cannot overwrite '${t}' with '${s}'.`);return function(t,e){return r.unlinkSync(e),r.symlinkSync(t,e)}(s,n)}}(t,e,n,o)}(t,e,n,o)}function c(t,e,i,o){return"function"==typeof r.copyFileSync?(r.copyFileSync(e,i),r.chmodSync(i,t.mode),o.preserveTimestamps?s(i,t.atime,t.mtime):void 0):function(t,e,i,o){const s=n(47)(65536),a=r.openSync(e,"r"),u=r.openSync(i,"w",t.mode);let c=0;for(;c<t.size;){const t=r.readSync(a,s,0,65536,c);r.writeSync(u,s,0,t),c+=t}o.preserveTimestamps&&r.futimesSync(u,t.atime,t.mtime);r.closeSync(a),r.closeSync(u)}(t,e,i,o)}function l(t,e,n){r.readdirSync(t).forEach(r=>(function(t,e,n,r){const o=i.join(e,t),s=i.join(n,t);return u(p(o,s),o,s,r)})(r,t,e,n))}function f(t,e){const n=i.resolve(t).split(i.sep),r=i.resolve(e).split(i.sep);return n.reduce((t,e,n)=>t&&r[n]===e,!0)}function p(t,e){const{srcStat:n,destStat:i}=function(t,e){const n=r.statSync(t);let i;try{i=r.statSync(e)}catch(t){if("ENOENT"===t.code)return{srcStat:n,destStat:a};throw t}return{srcStat:n,destStat:i}}(t,e);if(i.ino&&i.ino===n.ino)throw new Error("Source and destination must not be the same.");if(n.isDirectory()&&f(t,e))throw new Error(`Cannot copy '${t}' to a subdirectory of itself, '${e}'.`);return i}t.exports=function(t,e,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n&&!n.clobber),n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const s=p(t,e);if(n.filter&&!n.filter(t,e))return;const a=i.dirname(e);return r.existsSync(a)||o(a),u(s,t,e,n)}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(45).invalidWin32Path,s=parseInt("0777",8);t.exports=function t(e,n,a,u){if("function"==typeof n?(a=n,n={}):n&&"object"==typeof n||(n={mode:n}),"win32"===process.platform&&o(e)){const t=new Error(e+" contains invalid WIN32 path characters.");return t.code="EINVAL",a(t)}let c=n.mode;const l=n.fs||r;void 0===c&&(c=s&~process.umask()),u||(u=null),a=a||function(){},e=i.resolve(e),l.mkdir(e,c,r=>{if(!r)return a(null,u=u||e);switch(r.code){case"ENOENT":if(i.dirname(e)===e)return a(r);t(i.dirname(e),n,(r,i)=>{r?a(r,i):t(e,n,a,i)});break;default:l.stat(e,(t,e)=>{t||!e.isDirectory()?a(r,u):a(null,u)})}})}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(45).invalidWin32Path,s=parseInt("0777",8);t.exports=function t(e,n,a){n&&"object"==typeof n||(n={mode:n});let u=n.mode;const c=n.fs||r;if("win32"===process.platform&&o(e)){const t=new Error(e+" contains invalid WIN32 path characters.");throw t.code="EINVAL",t}void 0===u&&(u=s&~process.umask()),a||(a=null),e=i.resolve(e);try{c.mkdirSync(e,u),a=a||e}catch(r){if("ENOENT"===r.code){if(i.dirname(e)===e)throw r;t(e,n,a=t(i.dirname(e),n,a))}else{let t;try{t=c.statSync(e)}catch(t){throw r}if(!t.isDirectory())throw r}}return a}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(4).mkdirs,s=n(6).pathExists,a=n(46).utimesMillis,u=Symbol("notExist");function c(t,e,n,r,a){const u=i.dirname(n);s(u,(i,s)=>i?a(i):s?f(t,e,n,r,a):void o(u,i=>i?a(i):f(t,e,n,r,a)))}function l(t,e,n,r,i,o){Promise.resolve(i.filter(n,r)).then(s=>s?e?t(e,n,r,i,o):t(n,r,i,o):o(),t=>o(t))}function f(t,e,n,r,i){return r.filter?l(p,t,e,n,r,i):p(t,e,n,r,i)}function p(t,e,n,o,s){(o.dereference?r.stat:r.lstat)(e,(a,c)=>a?s(a):c.isDirectory()?function(t,e,n,i,o,s){if(e===u)return function(t,e,n,i,o){r.mkdir(n,s=>{if(s)return o(s);m(e,n,i,e=>e?o(e):r.chmod(n,t.mode,o))})}(t,n,i,o,s);if(e&&!e.isDirectory())return s(new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`));return m(n,i,o,s)}(c,t,e,n,o,s):c.isFile()||c.isCharacterDevice()||c.isBlockDevice()?function(t,e,n,i,o,s){return e===u?h(t,n,i,o,s):function(t,e,n,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error(`'${n}' already exists`)):o();r.unlink(n,r=>r?o(r):h(t,e,n,i,o))}(t,n,i,o,s)}(c,t,e,n,o,s):c.isSymbolicLink()?function(t,e,n,o,s){r.readlink(e,(e,a)=>e?s(e):(o.dereference&&(a=i.resolve(process.cwd(),a)),t===u?r.symlink(a,n,s):void r.readlink(n,(e,u)=>e?"EINVAL"===e.code||"UNKNOWN"===e.code?r.symlink(a,n,s):s(e):(o.dereference&&(u=i.resolve(process.cwd(),u)),g(a,u)?s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${u}'.`)):t.isDirectory()&&g(u,a)?s(new Error(`Cannot overwrite '${u}' with '${a}'.`)):function(t,e,n){r.unlink(e,i=>i?n(i):r.symlink(t,e,n))}(a,n,s)))))}(t,e,n,o,s):void 0)}function h(t,e,n,i,o){return"function"==typeof r.copyFile?r.copyFile(e,n,e=>e?o(e):d(t,n,i,o)):function(t,e,n,i,o){const s=r.createReadStream(e);s.on("error",t=>o(t)).once("open",()=>{const e=r.createWriteStream(n,{mode:t.mode});e.on("error",t=>o(t)).on("open",()=>s.pipe(e)).once("close",()=>d(t,n,i,o))})}(t,e,n,i,o)}function d(t,e,n,i){r.chmod(e,t.mode,r=>r?i(r):n.preserveTimestamps?a(e,t.atime,t.mtime,i):i())}function m(t,e,n,i){r.readdir(t,(r,o)=>r?i(r):v(o,t,e,n,i))}function v(t,e,n,r,o){const s=t.pop();return s?function(t,e,n,r,o,s){const a=i.join(n,e),u=i.join(r,e);y(a,u,(e,i)=>{if(e)return s(e);f(i,a,u,o,e=>e?s(e):v(t,n,r,o,s))})}(t,s,e,n,r,o):o()}function g(t,e){const n=i.resolve(t).split(i.sep),r=i.resolve(e).split(i.sep);return n.reduce((t,e,n)=>t&&r[n]===e,!0)}function y(t,e,n){!function(t,e,n){r.stat(t,(t,i)=>{if(t)return n(t);r.stat(e,(t,e)=>t?"ENOENT"===t.code?n(null,{srcStat:i,destStat:u}):n(t):n(null,{srcStat:i,destStat:e}))})}(t,e,(r,i)=>{if(r)return n(r);const{srcStat:o,destStat:s}=i;return s.ino&&s.ino===o.ino?n(new Error("Source and destination must not be the same.")):o.isDirectory()&&g(t,e)?n(new Error(`Cannot copy '${t}' to a subdirectory of itself, '${e}'.`)):n(null,s)})}t.exports=function(t,e,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n&&!n.clobber),n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),y(t,e,(i,o)=>i?r(i):n.filter?l(c,o,t,e,n,r):c(o,t,e,n,r))}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(9),o=n(0),s=n(4),a=n(16),u=r(function(t,e){e=e||function(){},i.readdir(t,(n,r)=>{if(n)return s.mkdirs(t,e);r=r.map(e=>o.join(t,e)),function t(){const n=r.pop();if(!n)return e();a.remove(n,n=>{if(n)return e(n);t()})}()})});function c(t){let e;try{e=i.readdirSync(t)}catch(e){return s.mkdirsSync(t)}e.forEach(e=>{e=o.join(t,e),a.removeSync(e)})}t.exports={emptyDirSync:c,emptydirSync:c,emptyDir:u,emptydir:u}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(21),s="win32"===process.platform;function a(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(e=>{t[e]=t[e]||r[e],t[e+="Sync"]=t[e]||r[e]}),t.maxBusyTries=t.maxBusyTries||3}function u(t,e,n){let r=0;"function"==typeof e&&(n=e,e={}),o(t,"rimraf: missing path"),o.strictEqual(typeof t,"string","rimraf: path should be a string"),o.strictEqual(typeof n,"function","rimraf: callback function required"),o(e,"rimraf: invalid options argument provided"),o.strictEqual(typeof e,"object","rimraf: options should be object"),a(e),c(t,e,function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<e.maxBusyTries){return r++,setTimeout(()=>c(t,e,i),100*r)}"ENOENT"===o.code&&(o=null)}n(o)})}function c(t,e,n){o(t),o(e),o("function"==typeof n),e.lstat(t,(r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&s?l(t,e,r,n):i&&i.isDirectory()?p(t,e,r,n):void e.unlink(t,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return s?l(t,e,r,n):p(t,e,r,n);if("EISDIR"===r.code)return p(t,e,r,n)}return n(r)}))}function l(t,e,n,r){o(t),o(e),o("function"==typeof r),n&&o(n instanceof Error),e.chmod(t,438,i=>{i?r("ENOENT"===i.code?null:n):e.stat(t,(i,o)=>{i?r("ENOENT"===i.code?null:n):o.isDirectory()?p(t,e,n,r):e.unlink(t,r)})})}function f(t,e,n){let r;o(t),o(e),n&&o(n instanceof Error);try{e.chmodSync(t,438)}catch(t){if("ENOENT"===t.code)return;throw n}try{r=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw n}r.isDirectory()?d(t,e,n):e.unlinkSync(t)}function p(t,e,n,r){o(t),o(e),n&&o(n instanceof Error),o("function"==typeof r),e.rmdir(t,s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?r(n):r(s):function(t,e,n){o(t),o(e),o("function"==typeof n),e.readdir(t,(r,o)=>{if(r)return n(r);let s,a=o.length;if(0===a)return e.rmdir(t,n);o.forEach(r=>{u(i.join(t,r),e,r=>{if(!s)return r?n(s=r):void(0==--a&&e.rmdir(t,n))})})})}(t,e,r)})}function h(t,e){let n;a(e=e||{}),o(t,"rimraf: missing path"),o.strictEqual(typeof t,"string","rimraf: path should be a string"),o(e,"rimraf: missing options"),o.strictEqual(typeof e,"object","rimraf: options should be object");try{n=e.lstatSync(t)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&s&&f(t,e,n)}try{n&&n.isDirectory()?d(t,e,null):e.unlinkSync(t)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return s?f(t,e,n):d(t,e,n);if("EISDIR"!==n.code)throw n;d(t,e,n)}}function d(t,e,n){o(t),o(e),n&&o(n instanceof Error);try{e.rmdirSync(t)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(t,e){if(o(t),o(e),e.readdirSync(t).forEach(n=>h(i.join(t,n),e)),!s){const n=e.rmdirSync(t,e);return n}{const n=Date.now();do{try{const n=e.rmdirSync(t,e);return n}catch(t){}}while(Date.now()-n<500)}}(t,e);else if("ENOENT"!==r.code)throw r}}t.exports=u,u.sync=h},function(t,e,n){"use strict";const r=n(97),i=n(98),o=n(99);t.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(0),o=n(1),s=n(4),a=n(6).pathExists;t.exports={createFile:r(function(t,e){function n(){o.writeFile(t,"",t=>{if(t)return e(t);e()})}o.stat(t,(r,o)=>{if(!r&&o.isFile())return e();const u=i.dirname(t);a(u,(t,r)=>t?e(t):r?n():void s.mkdirs(u,t=>{if(t)return e(t);n()}))})}),createFileSync:function(t){let e;try{e=o.statSync(t)}catch(t){}if(e&&e.isFile())return;const n=i.dirname(t);o.existsSync(n)||s.mkdirsSync(n),o.writeFileSync(t,"")}}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(0),o=n(1),s=n(4),a=n(6).pathExists;t.exports={createLink:r(function(t,e,n){function r(t,e){o.link(t,e,t=>{if(t)return n(t);n(null)})}a(e,(u,c)=>u?n(u):c?n(null):void o.lstat(t,o=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);const u=i.dirname(e);a(u,(i,o)=>i?n(i):o?r(t,e):void s.mkdirs(u,i=>{if(i)return n(i);r(t,e)}))}))}),createLinkSync:function(t,e){if(o.existsSync(e))return;try{o.lstatSync(t)}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const n=i.dirname(e);return o.existsSync(n)?o.linkSync(t,e):(s.mkdirsSync(n),o.linkSync(t,e))}}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(0),o=n(1),s=n(4),a=s.mkdirs,u=s.mkdirsSync,c=n(100),l=c.symlinkPaths,f=c.symlinkPathsSync,p=n(101),h=p.symlinkType,d=p.symlinkTypeSync,m=n(6).pathExists;t.exports={createSymlink:r(function(t,e,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,m(e,(s,u)=>s?r(s):u?r(null):void l(t,e,(s,u)=>{if(s)return r(s);t=u.toDst,h(u.toCwd,n,(n,s)=>{if(n)return r(n);const u=i.dirname(e);m(u,(n,i)=>n?r(n):i?o.symlink(t,e,s,r):void a(u,n=>{if(n)return r(n);o.symlink(t,e,s,r)}))})}))}),createSymlinkSync:function(t,e,n){if(o.existsSync(e))return;const r=f(t,e);t=r.toDst,n=d(r.toCwd,n);const s=i.dirname(e);return o.existsSync(s)?o.symlinkSync(t,e,n):(u(s),o.symlinkSync(t,e,n))}}},function(t,e,n){"use strict";const r=n(0),i=n(1),o=n(6).pathExists;t.exports={symlinkPaths:function(t,e,n){if(r.isAbsolute(t))return i.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:t}));{const s=r.dirname(e),a=r.join(s,t);return o(a,(e,o)=>e?n(e):o?n(null,{toCwd:a,toDst:t}):i.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:r.relative(s,t)})))}},symlinkPathsSync:function(t,e){let n;if(r.isAbsolute(t)){if(!(n=i.existsSync(t)))throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}{const o=r.dirname(e),s=r.join(o,t);if(n=i.existsSync(s))return{toCwd:s,toDst:t};if(!(n=i.existsSync(t)))throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:r.relative(o,t)}}}}},function(t,e,n){"use strict";const r=n(1);t.exports={symlinkType:function(t,e,n){if(n="function"==typeof e?e:n,e="function"!=typeof e&&e)return n(null,e);r.lstat(t,(t,r)=>{if(t)return n(null,"file");e=r&&r.isDirectory()?"dir":"file",n(null,e)})},symlinkTypeSync:function(t,e){let n;if(e)return e;try{n=r.lstatSync(t)}catch(t){return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(22);i.outputJson=r(n(104)),i.outputJsonSync=n(105),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,t.exports=i},function(t,e,n){var r;try{r=n(1)}catch(t){r=n(9)}function i(t,e){var n,r="\n";return"object"==typeof e&&null!==e&&(e.spaces&&(n=e.spaces),e.EOL&&(r=e.EOL)),JSON.stringify(t,e?e.replacer:null,n).replace(/\n/g,r)+r}function o(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t=t.replace(/^\uFEFF/,"")}var s={readFile:function(t,e,n){null==n&&(n=e,e={}),"string"==typeof e&&(e={encoding:e});var i=(e=e||{}).fs||r,s=!0;"throws"in e&&(s=e.throws),i.readFile(t,e,function(r,i){if(r)return n(r);var a;i=o(i);try{a=JSON.parse(i,e?e.reviver:null)}catch(e){return s?(e.message=t+": "+e.message,n(e)):n(null,null)}n(null,a)})},readFileSync:function(t,e){"string"==typeof(e=e||{})&&(e={encoding:e});var n=e.fs||r,i=!0;"throws"in e&&(i=e.throws);try{var s=n.readFileSync(t,e);return s=o(s),JSON.parse(s,e.reviver)}catch(e){if(i)throw e.message=t+": "+e.message,e;return null}},writeFile:function(t,e,n,o){null==o&&(o=n,n={});var s=(n=n||{}).fs||r,a="";try{a=i(e,n)}catch(t){return void(o&&o(t,null))}s.writeFile(t,a,n,o)},writeFileSync:function(t,e,n){var o=(n=n||{}).fs||r,s=i(e,n);return o.writeFileSync(t,s,n)}};t.exports=s},function(t,e,n){"use strict";const r=n(0),i=n(4),o=n(6).pathExists,s=n(22);t.exports=function(t,e,n,a){"function"==typeof n&&(a=n,n={});const u=r.dirname(t);o(u,(r,o)=>r?a(r):o?s.writeJson(t,e,n,a):void i.mkdirs(u,r=>{if(r)return a(r);s.writeJson(t,e,n,a)}))}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(4),s=n(22);t.exports=function(t,e,n){const a=i.dirname(t);r.existsSync(a)||o.mkdirsSync(a),s.writeJsonSync(t,e,n)}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(44).copySync,s=n(16).removeSync,a=n(4).mkdirsSync,u=n(47);function c(t,e,n){return r.statSync(t).isDirectory()?function(t,e,n){const r={overwrite:!1};n?(s(e),i()):i();function i(){return o(t,e,r),s(t)}}(t,e,n):function(t,e,n){const i=u(65536),o=n?"w":"wx",s=r.openSync(t,"r"),a=r.fstatSync(s),c=r.openSync(e,o,a.mode);let l=0;for(;l<a.size;){const t=r.readSync(s,i,0,65536,l);r.writeSync(c,i,0,t),l+=t}return r.closeSync(s),r.closeSync(c),r.unlinkSync(t)}(t,e,n)}t.exports={moveSync:function t(e,n,o){const u=(o=o||{}).overwrite||o.clobber||!1;if(e=i.resolve(e),n=i.resolve(n),e===n)return r.accessSync(e);if(function(t,e){try{return r.statSync(t).isDirectory()&&t!==e&&e.indexOf(t)>-1&&e.split(i.dirname(t)+i.sep)[1].split(i.sep)[0]===i.basename(t)}catch(t){return!1}}(e,n))throw new Error(`Cannot move '${e}' into itself '${n}'.`);a(i.dirname(n)),function(){if(u)try{r.renameSync(e,n)}catch(r){if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)return s(n),o.overwrite=!1,t(e,n,o);if("EXDEV"!==r.code)throw r;return c(e,n,u)}else try{r.linkSync(e,n),r.unlinkSync(e)}catch(t){if("EXDEV"===t.code||"EISDIR"===t.code||"EPERM"===t.code||"ENOTSUP"===t.code)return c(e,n,u);throw t}}()}}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(1),o=n(0),s=n(48).copy,a=n(16).remove,u=n(4).mkdirp,c=n(6).pathExists;function l(t,e,n,r){i.rename(t,e,i=>i?"EXDEV"!==i.code?r(i):function(t,e,n,r){s(t,e,{overwrite:n,errorOnExist:!0},e=>e?r(e):a(t,r))}(t,e,n,r):r())}t.exports={move:r(function(t,e,n,r){"function"==typeof n&&(r=n,n={});const s=n.overwrite||n.clobber||!1;if(t=o.resolve(t),e=o.resolve(e),t===e)return i.access(t,r);i.stat(t,(n,i)=>n?r(n):i.isDirectory()&&function(t,e){const n=t.split(o.sep),r=e.split(o.sep);return n.reduce((t,e,n)=>t&&r[n]===e,!0)}(t,e)?r(new Error(`Cannot move '${t}' to a subdirectory of itself, '${e}'.`)):void u(o.dirname(e),n=>n?r(n):function(t,e,n,r){if(n)return a(e,i=>i?r(i):l(t,e,n,r));c(e,(i,o)=>i?r(i):o?r(new Error("dest already exists.")):l(t,e,n,r))}(t,e,s,r)))})}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(1),o=n(0),s=n(4),a=n(6).pathExists;t.exports={outputFile:r(function(t,e,n,r){"function"==typeof n&&(r=n,n="utf8");const u=o.dirname(t);a(u,(o,a)=>o?r(o):a?i.writeFile(t,e,n,r):void s.mkdirs(u,o=>{if(o)return r(o);i.writeFile(t,e,n,r)}))}),outputFileSync:function(t,...e){const n=o.dirname(t);if(i.existsSync(n))return i.writeFileSync(t,...e);s.mkdirsSync(n),i.writeFileSync(t,...e)}}},function(t,e){t.exports=(()=>new Date)},function(t,e,n){const r=n(19);t.exports=class extends r{constructor(t,e,n,r){r||(r={}),e&&(r.maxSize=e),n||(n=1),r.numToKeep=n,super(t,r),this.backups=this.options.numToKeep,this.size=this.options.maxSize}get theStream(){return this.currentFileStream}}},function(t,e,n){const r=n(19);t.exports=class extends r{constructor(t,e,n){e&&"object"==typeof e&&(n=e,e=null),n||(n={}),e||(e="yyyy-MM-dd"),n.daysToKeep&&(n.numToKeep=n.daysToKeep),e.startsWith(".")&&(e=e.substring(1)),n.pattern=e,super(t,n),this.mode=this.options.mode}get theStream(){return this.currentFileStream}}},function(t,e,n){"use strict";const r=n(39),i=n(8).EOL||"\n";t.exports.configure=function(t,e){let n=e.basicLayout;return t.layout&&(n=e.layout(t.layout.type,t.layout)),t.alwaysIncludePattern||(t.alwaysIncludePattern=!1),function(t,e,n,o,s){const a=new r.DateRollingFileStream(t,e,o),u=function(t){a.write(n(t,s)+i,"utf8")};return u.shutdown=function(t){a.write("","utf-8",()=>{a.end(t)})},u}(t.filename,t.pattern,n,t,t.timezoneOffset)}},function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=113},function(t,e,n){"use strict";const r=n(10)("log4js:logger"),i=n(38),o=n(14),s=n(18),a=n(50),u=n(13);class c{constructor(t){if(!t)throw new Error("No category provided.");this.category=t,this.context={},r(`Logger created (${this.category}, ${this.level})`)}get level(){return o.getLevel(a.getLevelForCategory(this.category),o.TRACE)}set level(t){a.setLevelForCategory(this.category,o.getLevel(t,this.level))}log(t,...e){const n=o.getLevel(t,o.INFO);this.isLevelEnabled(n)&&this._log(n,e)}isLevelEnabled(t){return this.level.isLessThanOrEqualTo(t)}_log(t,e){r(`sending log data (${t}) to appenders`);const n=new i(this.category,t,e,this.context);s.send(n)}addContext(t,e){this.context[t]=e}removeContext(t){delete this.context[t]}clearContext(){this.context={}}}function l(t){const e=o.getLevel(t),n=e.toString().toLowerCase().replace(/_([a-z])/g,t=>t[1].toUpperCase()),r=n[0].toUpperCase()+n.slice(1);c.prototype[`is${r}Enabled`]=function(){return this.isLevelEnabled(e)},c.prototype[n]=function(...t){this.log(e,...t)}}o.levels.forEach(l),u.addListener(()=>{o.levels.forEach(l)}),t.exports=c},function(t,e,n){"use strict";const r=n(14);function i(t,e){for(let n=0;n<e.length;n++)t=t.replace(e[n].token,e[n].replacement);return t}t.exports=function(t,e){e="string"==typeof e||"function"==typeof e?{format:e}:e||{};const n=t;let o=r.getLevel(e.level,r.INFO);const s=e.format||':remote-addr - - ":method :url HTTP/:http-version" :status :content-length ":referrer" ":user-agent"',a=function(t){let e=null;if(t instanceof RegExp&&(e=t),"string"==typeof t&&(e=new RegExp(t)),Array.isArray(t)){const n=t.map(t=>t.source?t.source:t);e=new RegExp(n.join("|"))}return e}(e.nolog);return(t,u,c)=>{if(t._logging)return c();if(a&&a.test(t.originalUrl))return c();if(n.isLevelEnabled(o)||"auto"===e.level){const a=new Date,c=u.writeHead;t._logging=!0,u.writeHead=((t,e)=>{u.writeHead=c,u.writeHead(t,e),u.__statusCode=t,u.__headers=e||{}}),u.on("finish",()=>{u.responseTime=new Date-a,u.statusCode&&"auto"===e.level&&(o=r.INFO,u.statusCode>=300&&(o=r.WARN),u.statusCode>=400&&(o=r.ERROR)),o=function(t,e,n){let i=e;if(n){const e=n.find(e=>{let n=!1;return n=e.from&&e.to?t>=e.from&&t<=e.to:-1!==e.codes.indexOf(t)});e&&(i=r.getLevel(e.level,i))}return i}(u.statusCode,o,e.statusRules);const c=function(t,e,n){const r=[];return r.push({token:":url",replacement:function(t){return t.originalUrl||t.url}(t)}),r.push({token:":protocol",replacement:t.protocol}),r.push({token:":hostname",replacement:t.hostname}),r.push({token:":method",replacement:t.method}),r.push({token:":status",replacement:e.__statusCode||e.statusCode}),r.push({token:":response-time",replacement:e.responseTime}),r.push({token:":date",replacement:(new Date).toUTCString()}),r.push({token:":referrer",replacement:t.headers.referer||t.headers.referrer||""}),r.push({token:":http-version",replacement:`${t.httpVersionMajor}.${t.httpVersionMinor}`}),r.push({token:":remote-addr",replacement:t.headers["x-forwarded-for"]||t.ip||t._remoteAddress||t.socket&&(t.socket.remoteAddress||t.socket.socket&&t.socket.socket.remoteAddress)}),r.push({token:":user-agent",replacement:t.headers["user-agent"]}),r.push({token:":content-length",replacement:e.getHeader("content-length")||e.__headers&&e.__headers["Content-Length"]||"-"}),r.push({token:/:req\[([^\]]+)]/g,replacement:function(e,n){return t.headers[n.toLowerCase()]}}),r.push({token:/:res\[([^\]]+)]/g,replacement:function(t,n){return e.getHeader(n.toLowerCase())||e.__headers&&e.__headers[n]}}),(t=>{const e=t.concat();for(let t=0;t<e.length;++t)for(let n=t+1;n<e.length;++n)e[t].token==e[n].token&&e.splice(n--,1);return e})(n.concat(r))}(t,u,e.tokens||[]);if("function"==typeof s){const e=s(t,u,t=>i(t,c));e&&n.log(o,e)}else n.log(o,i(s,c))})}return c()}}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(117),o=n(138),s=n(5).Logger.getLogger("VipRenewButton:viprenew-button");class a{constructor(){this.mAbtest=!1}init(){return r(this,void 0,void 0,function*(){s.information("准备获取ABTEST值"),this.getAbTestConfig()})}getAbTestConfig(){return r(this,void 0,void 0,function*(){s.information("getAbTestConfig"),this.mAbtest=!0,this.chooseAb(this.mAbtest)})}chooseAb(t){s.information("是否选择B接口 = ",t),s.information("type isB = ",typeof t),t?o.default.init():i.default.init().catch()}}e.VipRenewButton=a,e.default=new a},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(51),o=n(28),s=n(0),a=n(27),u=n(7),c=n(61),l=n(137),f=n(5),p=n(12),h=s.normalize(s.join(__dirname,"./../")),d=f.Logger.getLogger("VipRenewButton:solution-a");class m{constructor(){this.cashHover=!1,this.hasCash=!1,this.expiredRange=7,this.userType=0,this.aidfromMap=new Map,this.iconData=null,this.iconUrl=null,this.mIsButtonExist=!1,this.stat_config=""}initDataDir(){return r(this,void 0,void 0,function*(){let t=yield u.client.callServerFunction("GetProfilesDir");if(!t)return!1;this.iconDataDir=s.resolve(t,"viprenewbutton/"),d.information("iconDataDir",this.iconDataDir);let e=yield c.FileSystemAWNS.mkdirsAW(this.iconDataDir);return e||d.information("初始化路径目录失败"),e})}init(){return r(this,void 0,void 0,function*(){this.aidfromMap.set(15,"xfbtn_grow0_mrkt_zcj"),this.aidfromMap.set(16,"xfbtn_grow1_mrkt_zcj"),this.aidfromMap.set(17,"xfbtn_grow1_mrkt_zcj"),this.aidfromMap.set(18,"xfbtn_pt_mrxf_zcj"),this.aidfromMap.set(19,"xfbtn_pt_mrxf_zcj"),this.aidfromMap.set(20,"xfbtn_bj_mrxf_zcj"),this.aidfromMap.set(21,"xfbtn_bj_mrxf_zcj"),this.aidfromMap.set(22,"xfbtn_cj_mrxf_zcj"),this.aidfromMap.set(23,"xfbtn_cj_mrxf_zcj"),yield this.querySettingInfo(),a.default.isLogin&&this.updateUserVipData(),this.attachUserEvents()})}calculateExpireDate(){let t=void 0;try{let e,n,r;e=a.default.vipData.expireDate.substring(0,4),n=a.default.vipData.expireDate.substring(4,6),r=a.default.vipData.expireDate.substring(6,8);let i=new Date(e+"-"+n+"-"+r+" 00:00:00").getTime()/1e3,o=new Date,s=o.getFullYear(),u=o.getMonth(),c=o.getDate(),l=(o=new Date(s+"-"+(u<10?"0"+(u+1):u+1)+"-"+(c<10?"0"+c:c)+" 00:00:00")).getTime()/1e3,f=86400;t=Math.ceil((i-l)/f)}catch(t){d.information("calculateExpireDate error",t)}return t}updateUserVipData(){return r(this,void 0,void 0,function*(){d.information("updateUserData---\x3e"),this.clear(),null!==a.default.vipData?(d.information("expireDate",a.default.vipData.expireDate),d.information("isVip",a.default.isVip),d.information("vasType",a.default.vasType),d.information("expirerange",this.expiredRange),d.information("cashHover",this.cashHover),yield this.queryCashInfo(),yield this.queryUserTagInfo(),d.information("<----updateUserData")):d.information("vipData is null")})}onLogout(){this.clear(),this.updateButton()}clear(){this.userType=0,this.hasCash=!1,this.iconUrl=null,this.iconData=null,this.stat_config=""}openNewTab(){if(!this.iconUrl&&this.mSetting)for(let t=0;t<this.mSetting.settings.length;t++){let e=this.mSetting.settings[t];e.id===this.userType&&e.url&&(this.iconUrl=e.url)}let t=this.aidfromMap.get(this.userType)||"",e=this.iconUrl?this.iconUrl:"https://pay.xunlei.com/pay.html?bizNo=baijin&referfrom=v_pc_xl11_ggong_pay_top&aidfrom="+t;d.information("openNewTab---\x3e",e),u.client.callServerFunction("OpenNewTab",e).catch()}onButtonClick(){d.information("onIconClick---\x3e"),this.openNewTab();let t=this.aidfromMap.get(this.userType)||"",e=a.default.isVip?1:0,n=new Map;n.set("show_type",this.userType),n.set("isvip",e),n.set("vas_type",a.default.vasType),n.set("referfrom","v_pc_xl11_ggong_pay_top"),n.set("aidfrom",t),n.set("plugin_version",p.default.pluginVersion),n.set("config",this.stat_config);let r={attribute1:"xufei_botton_click",extData:n};o.StatUtilitiesNS.trackEvent("clienttop",r),d.information("<----onIconClick")}onIconShow(){d.information("onIconShow---\x3e");let t=a.default.isVip?1:0,e=new Map;e.set("show_type",this.userType),e.set("isvip",t),e.set("vas_type",a.default.vasType),e.set("aidfrom",this.aidfromMap.get(this.userType)),e.set("plugin_version",p.default.pluginVersion),e.set("config",this.stat_config);let n={attribute1:"xufei_botton_show",extData:e};o.StatUtilitiesNS.trackEvent("clienttop",n),d.information("<----onIconShow")}querySettingInfo(){return r(this,void 0,void 0,function*(){d.information("querySettingInfo----\x3e");let t=new i.UserHttpSession;this.mSetting=yield t.querySettingInfo(),d.information("this.mSetting :",this.mSetting),this.mSetting&&(1===this.mSetting.cash_hover&&(this.cashHover=!0),this.hasCash&&!this.cashHover&&(this.hasCash=!1),this.mSetting.expired_day>0&&(this.expiredRange=this.mSetting.expired_day),d.information("<---querySettingInfo"))})}downLoadIcon(t){return r(this,void 0,void 0,function*(){if(d.information("downLoadIcon"),t&&t.icon)do{if(t.icon_url)break;if(!(yield this.initDataDir()))break;let e=void 0;try{let n=t.icon.substring(t.icon.lastIndexOf("/")+1);e=this.iconDataDir+"/"+n,d.information("imageLocalPath",e)}catch(t){d.information("downLoadIcon","error",t)}if(!e)break;let n=yield l.AxiosNS.downloadFileAW(t.icon,e);if(d.information("ret",n),!n)break;if(!(yield c.FileSystemAWNS.existsAW(e)))break;let r=yield c.FileSystemAWNS.lstatAW(e);if(!r||0===r.size)break;t.icon_url=e}while(0)})}checkUserType(t){if(d.information("checkUserType---\x3e"),t&&t.code&&1===t.code&&a.default.vipData)if(this.stat_config="former",d.information("isVip",a.default.isVip),a.default.isVip){let e=this.calculateExpireDate();d.information("leftdays",e),void 0!==e&&e<=this.expiredRange&&(5===a.default.vasType?0===t.usedToActPay?this.userType=23:this.userType=22:3===a.default.vasType?0===t.usedToActPay?this.userType=21:this.userType=20:2===a.default.vasType&&(0===t.usedToActPay?this.userType=19:this.userType=18))}else 0===t.payTimesRangeForDL?this.userType=15:0===t.usedToActPay?this.userType=17:this.userType=16;else if(a.default.vipData)if(this.stat_config="former_default",a.default.isVip){let t=this.calculateExpireDate();d.information("leftdays",t),void 0!==t&&t<=this.expiredRange&&(5===a.default.vasType?this.userType=23:3===a.default.vasType?this.userType=21:2===a.default.vasType&&(this.userType=19))}else this.userType=15;d.information("usertype ",this.userType),d.information("<---checkUserType")}setIconData(){return r(this,void 0,void 0,function*(){if(d.information("setIconData---\x3e"),this.mSetting)for(let t=0;t<this.mSetting.settings.length;t++){let e=this.mSetting.settings[t];this.userType===e.id&&(yield this.downLoadIcon(e),d.information("element.icon_url",e.icon_url),this.iconData={iconUrl:e.icon_url,iconText:e.icon_text})}d.information("<---setIconData")})}queryUserTagInfo(){return r(this,void 0,void 0,function*(){d.information("queryUserTagInfo---\x3e");let t=new i.UserHttpSession,e=yield a.default.userId,n=yield a.default.getSessionId();d.information("userId",e),d.information("sessionId",n);let r=yield t.queryUserTags(e,n);d.information("response :",r),this.checkUserType(r),yield this.setIconData(),this.updateButton(),d.information("<---queryUserTagInfo")})}queryCashInfo(){return r(this,void 0,void 0,function*(){d.information("queryCashInfo---\x3e");let t=new i.UserHttpSession,e=a.default.userId,n=yield a.default.getSessionId();d.information("userId",e),d.information("sessionId",n);let r=yield t.queryCashInfo(e,n);d.information("response",r),d.information("this.cashHover",this.cashHover),r&&0===r.result&&r.totalnum>0&&this.cashHover?this.hasCash=!0:this.hasCash=!1,d.information("<---queryCashInfo")})}updateButton(){d.information("updateButton---\x3e");let t=s.join(h,p.default.pluginVersion,"/images");d.information("defaultImgDir",t);let e=!1,n="";n=this.iconData?this.iconData.iconUrl:"";let r="xf";this.userType>=15&&this.userType<=23&&(e=!0,n&&""!==n||(this.userType>=15&&this.userType<=17?(n=s.join(t,"/openvip.png"),r="kt"):n=s.join(t,"/renewvip.png"),this.stat_config="former_default")),this.userType>=15&&this.userType<=17&&(r="kt");let i="您有代金券可使用";this.hasCash||(i=null),d.information("imgurl",n),d.information("title",i),d.information("isVisible",e),d.information("buttonType",r),e&&this.onIconShow(),this.mIsButtonExist?u.client.callServerFunction("UpdateButton","vip_renew_button",{imgSrc:n,title:i,isVisible:e,buttonType:r}):e&&(u.client.callServerFunction("CreateButton","vip_renew_button",{imgSrc:n,title:i,isVisible:e,buttonType:r,onClick:()=>{this.onButtonClick()}}),this.mIsButtonExist=!0),d.information("<---updateButton")}attachUserEvents(){d.information("attachUserEvents"),a.default.addListener(a.UserEventNS.login,()=>r(this,void 0,void 0,function*(){this.updateUserVipData()})),a.default.addListener(a.UserEventNS.logout,()=>r(this,void 0,void 0,function*(){this.onLogout()})),a.default.addListener(a.UserEventNS.vipInfoChange,(t,e)=>r(this,void 0,void 0,function*(){this.updateUserVipData()}))}}e.SolutionA=m,e.default=new m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(23);e.HttpSession=class{constructor(){this.mRetries=0,this.mHost=void 0,this.mPort=80,this.mPath=void 0,this.mAuth=void 0,this.mAccept=void 0,this.mBody=null,this.mUrl=void 0,this.mTimeout=void 0,this.mCurRetries=0}set host(t){this.mHost=t}get host(){return this.mHost}set port(t){this.mPort=t}get port(){return this.mPort}set path(t){this.mPath=t}get path(){return this.mPath}set url(t){this.mUrl=t}get url(){return this.mUrl}set auth(t){this.mAuth=t}get auth(){return this.mAuth}set accept(t){this.mAccept=t}get accept(){return this.mAccept}set body(t){this.mBody=t}get body(){return this.mBody}set retries(t){this.mRetries=t}get retries(){return this.mRetries}set timeout(t){this.mTimeout=t}get timeout(){return this.mTimeout}get(t,e){let n={hostname:this.host,port:this.port,path:this.path||"/",method:"GET"};this.getImpl(n,t,n=>{this.mCurRetries<this.retries?(this.mCurRetries++,this.get(t,e)):e(n)})}getImpl(t,e,n){r.get(t,t=>{let n=null;t.on("data",t=>{n=n?Buffer.concat([n,t]):t}),t.on("end",()=>{e({statusCode:t.statusCode,headers:t.headers,body:n})})}).on("error",t=>{n(t)})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5).Logger.getLogger("VipRenewButton:http-package");!function(t){t.praseSettingBuffer=function(t){r.information("--\x3epraseSettingBuffer");let e=null;if(t){let n=t.toString();if(n){r.information("jsonStr :",n);try{let t=JSON.parse(n);r.information("resobj",t);let i=[];for(let e=15;e<=23;e++)if(t[e]&&t[e].url){let n=t[e];n.id=e,r.information("node",n),i.push(n)}e={cash_hover:Number(t.cash_hover),expired_day:Number(t.expired_day),settings:i}}catch(t){r.information(t),r.information("parser json error")}}}return r.information("<--praseSettingBuffer"),e},t.praseCashBuffer=function(t){r.information("--\x3epraseCashBuffer");let e=null;if(t){let n=t.toString();if(n){r.information("jsonStr :",n);try{let t=JSON.parse(n);e={result:Number(t.result),msg:t.msg,totalnum:Number(t.data.total_num),expirenum:Number(t.data.expire_num)}}catch(t){r.information("parser json error")}}}return r.information("<--praseCashBuffer"),e},t.praseTagBuffer=function(t){r.information("--\x3epraseTagBuffer");let e=null;if(t){let n=t.toString();if(n){r.information("jsonStr :",n);try{let t=JSON.parse(n);e={code:Number(t.code),msg:t.message,isSign:t.result?Number(t.result.isSign):0,payTimesRangeForDL:t.result?Number(t.result.payTimesRangeForDL):0,usedToActPay:t.result?Number(t.result.usedToActPay):0}}catch(t){r.information("parser json error")}}}return r.information("<--praseTagBuffer"),e}}(e.UserHttpPackageNS||(e.UserHttpPackageNS={}))},function(t,e,n){"use strict";var r=n(3),i=n(52),o=n(122),s=n(24);function a(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=a(s);u.Axios=o,u.create=function(t){return a(r.merge(s,t))},u.Cancel=n(60),u.CancelToken=n(135),u.isCancel=n(59),u.all=function(t){return Promise.all(t)},u.spread=n(136),t.exports=u,t.exports.default=u},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var r=n(24),i=n(3),o=n(130),s=n(131);function a(t){this.defaults=t,this.interceptors={request:new o,response:new o}}a.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=a},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(3),i=n(53),o=n(55),s=n(125),a=n(126),u=n(25),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(127);t.exports=function(t){return new Promise(function(e,l){var f=t.data,p=t.headers;r.isFormData(f)&&delete p["Content-Type"];var h=new XMLHttpRequest,d="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in h||a(t.url)||(h=new window.XDomainRequest,d="onload",m=!0,h.onprogress=function(){},h.ontimeout=function(){}),t.auth){var v=t.auth.username||"",g=t.auth.password||"";p.Authorization="Basic "+c(v+":"+g)}if(h.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h[d]=function(){if(h&&(4===h.readyState||m)&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:n,config:t,request:h};i(e,l,r),h=null}},h.onerror=function(){l(u("Network Error",t,null,h)),h=null},h.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var y=n(128),_=(t.withCredentials||a(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;_&&(p[t.xsrfHeaderName]=_)}if("setRequestHeader"in h&&r.forEach(p,function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete p[e]:h.setRequestHeader(e,t)}),t.withCredentials&&(h.withCredentials=!0),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){h&&(h.abort(),l(t),h=null)}),void 0===f&&(f=null),h.send(f)})}},function(t,e,n){"use strict";var r=n(3),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(r.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}}),s):s}},function(t,e,n){"use strict";var r=n(3);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,o=String(t),s="",a=0,u=r;o.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&e>>8-a%1*8)){if((n=o.charCodeAt(a+=.75))>255)throw new i;e=e<<8|n}return s}},function(t,e,n){"use strict";var r=n(3);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t){t.exports={_args:[["axios@0.18.0","D:\\Code\\vip-plugin\\thunderx_plugin_vip_renew_button\\VipRenewButton"]],_from:"axios@0.18.0",_id:"axios@0.18.0",_inBundle:!1,_integrity:"sha1-MtU+SFHv3AoRmTts0AB4nXDAUQI=",_location:"/axios",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"axios@0.18.0",name:"axios",escapedName:"axios",rawSpec:"0.18.0",saveSpec:null,fetchSpec:"0.18.0"},_requiredBy:["/"],_resolved:"http://xnpm.repo.xunlei.cn/axios/-/axios-0.18.0.tgz",_spec:"0.18.0",_where:"D:\\Code\\vip-plugin\\thunderx_plugin_vip_renew_button\\VipRenewButton",author:{name:"Matt Zabriskie"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bugs:{url:"https://github.com/axios/axios/issues"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}],dependencies:{"follow-redirects":"^1.3.0","is-buffer":"^1.1.5"},description:"Promise based HTTP client for the browser and node.js",devDependencies:{bundlesize:"^0.5.7",coveralls:"^2.11.9","es6-promise":"^4.0.5",grunt:"^1.0.1","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.0.0","grunt-contrib-nodeunit":"^1.0.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^19.0.0","grunt-karma":"^2.0.0","grunt-ts":"^6.0.0-beta.3","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^1.3.0","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.0.0","karma-firefox-launcher":"^1.0.0","karma-jasmine":"^1.0.2","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.1.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",sinon:"^1.17.4",typescript:"^2.0.3","url-search-params":"^0.6.1",webpack:"^1.13.1","webpack-dev-server":"^1.14.1"},homepage:"https://github.com/axios/axios",keywords:["xhr","http","ajax","promise","node"],license:"MIT",main:"index.js",name:"axios",repository:{type:"git",url:"git+https://github.com/axios/axios.git"},scripts:{build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test && bundlesize",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},typings:"./index.d.ts",version:"0.18.0"}},function(t,e,n){"use strict";var r=n(3);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,n){"use strict";var r=n(3),i=n(132),o=n(59),s=n(24),a=n(133),u=n(134);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!a(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return c(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(c(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(60);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(26),o=n(17),s=n(0),a=n(61),u=n(5).Logger.getLogger("VipRenewButton:Axios.Helper");!function(t){t.getFileSizeWithUrlAW=function(t){return r(this,void 0,void 0,function*(){let e=0;do{let n=i.parse(t);if("https:"!==n.protocol&&"http:"!==n.protocol)break;let r=null;try{r=yield o.default.get(t,{responseType:"arraybuffer"})}catch(t){u.warning(t)}if(null!==r&&void 0!==r.status&&200===r.status){let t=r.headers["content-length"];void 0!==t&&(e=parseInt(t,10))}}while(0);return e})},t.downloadFileAW=function(t,e){return r(this,void 0,void 0,function*(){let n=!1;do{let r=null;try{r=yield o.default.get(t,{responseType:"arraybuffer"})}catch(t){u.information(t);break}if(null!==r&&void 0!==r.status&&200===r.status&&void 0!==r.data&&null!==r.data&&""!==r.data){let t=s.dirname(e),i=yield a.FileSystemAWNS.mkdirsAW(t);i&&(i=yield a.FileSystemAWNS.writeFileAW(e,r.data))&&(n=!0)}}while(0);return n})}}(e.AxiosNS||(e.AxiosNS={}))},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(27),o=n(0),s=n(5),a=n(7),u=n(51),c=n(28),l=n(12),f=n(139),p=o.normalize(o.join(__dirname,"./../")),h=s.Logger.getLogger("VipRenewButton:solution-b");let d=o.join(p,l.default.pluginVersion,"/images");h.information("defaultImgDir",d);class m{constructor(){this.mButtonInfo={}}init(){this.attachUserEvents(),i.default.init()}attachUserEvents(){h.information("监听B接口登录相关事件"),i.default.addListener(i.UserEventNS.login,()=>r(this,void 0,void 0,function*(){h.information("B 接口 登录回调"),yield this.binterface()})),i.default.addListener(i.UserEventNS.logout,()=>r(this,void 0,void 0,function*(){h.information("B 接口 登出回调"),this.clear()})),i.default.addListener(i.UserEventNS.vipInfoChange,(t,e)=>r(this,void 0,void 0,function*(){h.information("B 接口 用户信息变化回调"),this.clear(),yield this.binterface()}))}binterface(){return r(this,void 0,void 0,function*(){yield this.queryCashInfo();(new u.UserHttpSession).queryAdvertpay("xl11_ggong_pay_top").then(t=>r(this,void 0,void 0,function*(){let e=!1;if(h.information("请求B(NEW) vipData = ",t||""),t&&(h.information("请求B(NEW) vipData.status = ",t.status),h.information("请求B(NEW) vipData.data = ",t.data),t.data&&(h.information("请求B(NEW) vipData.data.result = ",t.data.result),h.information("请求B(NEW) vipData.data.msg = ",t.data.msg))),t&&200===t.status&&t.data&&0===t.data.result&&t.data.data&&(h.information("请求B(NEW) vipData.data.data = ",t.data.data),t.data.data.xl11_ggong_pay_top&&t.data.data.xl11_ggong_pay_top[0])){h.information("请求B(NEW) vipData.data.data.xl11_ggong_pay_top = ",t.data.data.xl11_ggong_pay_top);let n=t.data.data.xl11_ggong_pay_top[0];h.information("请求B(NEW) xl11_vipicon.img = ",n.img),h.information("请求B(NEW) xl11_vipicon.image_link = ",n.url),h.information("请求B(NEW) xl11_vipicon.aidfrom = ",n.aidfrom),h.information("请求B(NEW) xl11_vipicon.referfrom = ",n.referfrom),h.information("请求B(NEW) xl11_vipicon.text = ",n.text),h.information("请求B(NEW) xl11_vipicon.hover = ",n.hover);let r=n.img,o=n.url,s=n.aidfrom||"",a=n.referfrom||"",u=n.hover||"";r||(r=i.default.isVip?"续费会员":"开通会员"),o&&""!==o&&(this.mButtonInfo.clickUrl=o,this.mButtonInfo.aidfrom=s,this.mButtonInfo.referfrom=a,this.mButtonInfo.text=r,this.mButtonInfo.badge=u,this.mButtonInfo.config="tagsys",e=!0,this.refreshVipButton())}e||(h.information("请求B(NEW) 条件不成立"),this.updateUIDefault())})).catch(t=>{h.information("请求B(NEW) catch error"),this.updateUIDefault(),h.error(t)})})}updateUIDefault(){i.default.isVip?(this.mButtonInfo.text="续费会员",this.mButtonInfo.clickUrl="https://pay.xunlei.com/pay.html?bizNo=baijin&referfrom=v_pc_xlx_ggong_pay_top&aidfrom=hy",this.mButtonInfo.aidfrom="hy",this.mButtonInfo.referfrom="v_pc_xlx_ggong_pay_top"):(this.mButtonInfo.text="开通会员",this.mButtonInfo.clickUrl="https://pay.xunlei.com/pay.html?bizNo=baijin&referfrom=v_pc_xlx_ggong_pay_top&aidfrom=nonmembers",this.mButtonInfo.aidfrom="nonmembers",this.mButtonInfo.referfrom="v_pc_xlx_ggong_pay_top"),this.refreshVipButton(),h.information("updateUIDefault VipUpdate",this.mButtonInfo.text)}refreshVipButton(){this.mButtonInfo=this.mButtonInfo||{},i.default.isLogin||(this.mButtonInfo={});let t=i.default.isVip?"xf":"kt";h.information("refreshVipButton VipUpdate",this.mButtonInfo.text),a.client.callServerFunction("UpdateButton","vip_renew_button",{title:this.mButtonInfo.title,text:this.mButtonInfo.text?this.mButtonInfo.text:"",badge:this.mButtonInfo.badge?this.mButtonInfo.badge:"",buttonType:t,onClick:()=>{this.onButtonClick()}}).catch(),this.trackShow()}clear(){this.mButtonInfo={},this.refreshVipButton()}queryCashInfo(){return r(this,void 0,void 0,function*(){h.information("queryCashInfo---\x3e");let t=new u.UserHttpSession,e=i.default.userId,n=yield i.default.getSessionId();h.information("userId",e),h.information("sessionId",n);let r=yield t.queryCashInfo(e,n);h.information("response",r),r&&0===r.result&&r.totalnum>0?this.mButtonInfo.title="您有代金券可使用":this.mButtonInfo.title="",h.information("<---queryCashInfo")})}onButtonClick(){if(h.information("onButtonClick"),!this.mButtonInfo)return;let t=this.mButtonInfo.clickUrl,e=this.mButtonInfo.referfrom,n=this.mButtonInfo.aidfrom;if(t){t=t.trim();let r={referfrom:e,aidfrom:n};t=f.ThunderUtil.RepleaseUrlArgs(r,t)}else this.mButtonInfo.config="tagsys_default",i.default.isVip?(t="https://pay.xunlei.com/pay.html?bizNo=baijin&referfrom=v_pc_xlx_ggong_pay_top&aidfrom=hy",this.mButtonInfo.aidfrom="hy",this.mButtonInfo.referfrom="v_pc_xlx_ggong_pay_top"):(t="https://pay.xunlei.com/pay.html?bizNo=baijin&referfrom=v_pc_xlx_ggong_pay_top&aidfrom=nonmembers",this.mButtonInfo.aidfrom="nonmembers",this.mButtonInfo.referfrom="v_pc_xlx_ggong_pay_top");a.client.callServerFunction("OpenNewTab",t).catch(),this.trackClick()}calculateExpireDate(){let t=void 0;try{let e,n,r;e=i.default.vipData.expireDate.substring(0,4),n=i.default.vipData.expireDate.substring(4,6),r=i.default.vipData.expireDate.substring(6,8);let o=new Date(e+"-"+n+"-"+r+" 00:00:00").getTime()/1e3,s=new Date,a=s.getFullYear(),u=s.getMonth(),c=s.getDate(),l=(s=new Date(a+"-"+(u<10?"0"+(u+1):u+1)+"-"+(c<10?"0"+c:c)+" 00:00:00")).getTime()/1e3,f=86400;t=Math.ceil((o-l)/f)}catch(t){h.information("calculateExpireDate error",t)}return t}trackShow(){h.information("trackShow");let t=i.default.isVip?1:0,e=new Map;e.set("isvip",t),e.set("vas_type",i.default.vasType),e.set("aidfrom",this.mButtonInfo.aidfrom),e.set("plugin_version",l.default.pluginVersion),e.set("config",this.mButtonInfo.config?this.mButtonInfo.config:"tagsys_default");let n={attribute1:"xufei_botton_show",extData:e};c.StatUtilitiesNS.trackEvent("clienttop",n)}trackClick(){h.information("trackClick");let t=i.default.isVip?1:0,e=new Map;e.set("isvip",t),e.set("vas_type",i.default.vasType),e.set("referfrom",this.mButtonInfo.referfrom),e.set("aidfrom",this.mButtonInfo.aidfrom),e.set("plugin_version",l.default.pluginVersion),e.set("config",this.mButtonInfo.config?this.mButtonInfo.config:"tagsys_default");let n={attribute1:"xufei_botton_click",extData:e};c.StatUtilitiesNS.trackEvent("clienttop",n)}}e.SolutionB=m,e.default=new m},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(140);function o(t){let e=t;return 0===t.indexOf('"')&&t.lastIndexOf('"')===t.length-1?e=t.substring(1,t.length-1):0===t.indexOf("'")&&t.lastIndexOf("'")===t.length-1&&(e=t.substring(1,t.length-1)),e}!function(t){function e(t){let e=null;do{if(void 0===t||null===t)break;e=t.match(/[\/]?([^?]*)\?([^\s]*)/)?RegExp.$2:""}while(0);return e}function n(t){let e={};do{if(void 0===t||null===t)break;let n=/([^&=?]+)=([^&]*)/g;for(;n.exec(t);)e[RegExp.$1]=RegExp.$2}while(0);return e}function s(t){return n(e(t))}function a(t){let e=null;do{if(void 0===t||null===t)break;e=t.match(/[\/]?([^?]*)\?([^\s]*)/)?RegExp.$1:t}while(0);return e}t.formatSize=function(t,e){e=e||2;let n="0B";if("number"==typeof t&&t>0){let r=["B","KB","MB","GB","TB"],i=0,o=t;for(;o>=1e3&&!(i>=4);)o/=1024,i+=1;n=-1===String(o).indexOf(".")?o+r[i]:o.toFixed(e)+r[i]}return n},t.isDigital=function(t){let e=!1;return/^\d+$/.test(t)&&(e=!0),e},t.isAlpha=function(t){let e=!1;return/[A-Za-z]/.test(t)&&(e=!0),e},t.isUpperCase=function(t){let e=!1;return/[A-Z]/.test(t)&&(e=!0),e},t.isLowerCase=function(t){let e=!1;return/[a-z]/.test(t)&&(e=!0),e},t.isChinese=function(t){let e=!1;return/[\u4E00-\u9FA5]/.test(t)&&(e=!0),e},t.replaceNonDigital=function(t){return t.replace(/[^\d]/g,"")},t.replaceNonAlpha=function(t){return t.replace(/[^A-Za-z]/g,"")},t.replaceNonWord=function(t){return t.replace(/[^\W]/g,"")},t.deepCopy=function(t){let e=JSON.stringify(t),n=null;try{n=JSON.parse(e)}catch(t){}return n},t.swap=function(t,e,n){do{if(e<0||e>=t.length)break;if(n<0||n>=t.length)break;if(e===n)break;t[e]=t.splice(n,1,t[e])[0]}while(0);return t},t.compareNocase=function(t,e){let n=!1;do{if(void 0===t&&void 0===e){n=!0;break}if(void 0===t||void 0===e)break;if("string"!=typeof t||"string"!=typeof e)break;n=t.toLowerCase()===e.toLowerCase()}while(0);return n},t.parseCommandLine=function(t){let e=0,n="",r=!1,i=[],s=t.length;for(let a=0;a<s;a++){let u=t[a];if('"'!==u&&"'"!==u||(""===n?(r=!0,n=u):n===u&&(r=!1,n=""))," "!==u||r||a===s-1){if(a===s-1){let n=t.substring(e);""!==n.trim()&&i.push(o(n))}}else{let n=t.substring(e,a);""!==n.trim()&&i.push(o(n)),e=a+1}}return i},t.setQueryString=function(t,e){return Object.keys(e).forEach((n,r)=>{t+=0===r?"?":"&",t+=`${n}=${e[n]}`}),t},t.getQueryString=function(t,e){return t&&e&&t.match(new RegExp(`(^${e}|[?|&]${e})=([^&#]+)`))?RegExp.$2:""},t.isDef=function(t){return void 0!==t&&null!==t},t.isUndef=function(t){return void 0===t||null===t},t.setCSSProperties=function(t,e){Object.entries(e).forEach(([e,n])=>{t.style.setProperty(e,n)})},t.versionCompare=function(t,e){let n=t.split("."),r=e.split("."),i=0;for(let t=0;t<n.length;t++){if(Number(n[t])-Number(r[t])>0){i=1;break}if(Number(n[t])-Number(r[t])<0){i=-1;break}}return i},t.parseDynamicUrlPath=e,t.parseDynamicUrlArgs=n,t.getUrlArgs=s,t.sleep=function(t){return r(this,void 0,void 0,function*(){return new Promise(e=>{setTimeout(()=>{e()},t)})})},t.genarateMd5=function(t){let e=void 0,n=i.createHash("md5");return null!==n&&(e=n.update(t).digest("hex")),e},t.GetUrlHost=a,t.RepleaseUrlArgs=function(t,e){let n=Object.getOwnPropertyNames(t),r=s(e);n.forEach(e=>{r[e]=t[e]}),n=Object.getOwnPropertyNames(r);let i=a(e);return n.forEach(t=>{i.indexOf("?")>0?i+=`&${t}=${r[t]}`:i+=`?${t}=${r[t]}`}),i}}(e.ThunderUtil||(e.ThunderUtil={}))},function(t,e){t.exports=require("crypto")},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(7),o=n(5),s=n(17),a=o.Logger.getLogger("ad-platform-sence");var u,c;!function(t){t.FunctionalHigh="pack_using",t.Functional="pack_before",t.Renew="renew",t.Exactly="exactly",t.AdPlatform="adplatform"}(u||(u={})),function(t){t[t.Unknown=0]="Unknown",t[t.Click=1]="Click",t[t.Priority=2]="Priority",t[t.Expired=3]="Expired"}(c||(c={}));class l{constructor(){this.loginCookie=void 0,this.logoutCookie=void 0,this.ref=2,this.renewShowed=!1,this.exactlyShowed=!1,this.renewTimerId=void 0,this.exactlyTimerId=void 0,this.peerid="",this.tpPeerid="",this.thunderVersion="",this.isLogin=!1,this.userInfo={userId:"",sessionId:"",deviceId:"",vasType:""}}init(){return r(this,void 0,void 0,function*(){this.loginCookie=i.client.attachServerEvent("OnLoginSuc",(t,...e)=>r(this,void 0,void 0,function*(){this.isLogin=!0,this.userInfo=yield this.getUserInfo(),this.delayGetRenewSence(),this.delayGetExactlySence()})),this.logoutCookie=i.client.attachServerEvent("OnLogout",(t,...e)=>{this.isLogin=!1,this.userInfo={userId:"",sessionId:"",deviceId:"",vasType:""}}),(yield i.client.callServerFunction("IsLogined"))&&(this.isLogin=!0,this.userInfo=yield this.getUserInfo(),this.delayGetRenewSence()),this.delayGetExactlySence()})}getPeerId(){return r(this,void 0,void 0,function*(){return this.peerid||(this.peerid=yield i.client.callServerFunction("GetPeerID")),this.peerid})}getThunderVersion(){return r(this,void 0,void 0,function*(){return this.thunderVersion||(this.thunderVersion=yield i.client.callServerFunction("GetThunderVersion")),this.thunderVersion})}getTpPeerId(){return r(this,void 0,void 0,function*(){return this.tpPeerid||(this.tpPeerid=yield i.client.callServerFunction("GetTpPeerId")),this.tpPeerid})}getUserInfo(){return r(this,void 0,void 0,function*(){let t=yield i.client.callServerFunction("GetUserInfoAw"),e="",n="",r="",o="";return t&&(e=t.userid||"",n=t.sessionid||"",r=t.deviceid),t.vipList&&t.vipList[0]&&(o=t.vipList[0].vasType),{userId:e,sessionId:n,deviceId:r,vasType:o}})}stat(t,e,n,o){return r(this,void 0,void 0,function*(){let r=yield this.getThunderVersion(),s=this.userInfo.vasType||"";o=o||{},o=Object.assign({},o,{client_version:r,vip_type:s,referfrom:e,aidfrom:n});let u=[];for(let t in o)u.push(`${t}=${o[t]}`);let c=u.join(",");a.information("TrackEvent xlx_vip_event",t,c),i.client.callServerFunction("TrackEvent","xlx_vip_event",t,"",0,0,0,0,c).catch()})}releaseEvent(){do{if(0===this.ref)break;this.ref=this.ref-1,0===this.ref&&(void 0!==this.loginCookie&&(i.client.detachServerEvent("OnLoginSuc",this.loginCookie),this.loginCookie=void 0),void 0!==this.logoutCookie&&(i.client.detachServerEvent("OnLogout",this.logoutCookie),this.logoutCookie=void 0))}while(0)}checkRenewData(t){let e=!0;do{if(!t.content_type){e=!1;break}if("2"!==t.content_type){e=!1;break}if(!t.msgid){e=!1;break}}while(0);return e}delayGetRenewSence(){do{if(void 0!==this.renewTimerId&&(clearTimeout(this.renewTimerId),this.renewTimerId=void 0),this.renewShowed){a.information("renew scence already shown");break}this.renewTimerId=setTimeout(()=>r(this,void 0,void 0,function*(){yield this.getRenewSence()}),1e4)}while(0)}delayGetExactlySence(){do{if(void 0!==this.exactlyTimerId&&(clearTimeout(this.exactlyTimerId),this.exactlyTimerId=void 0),this.exactlyShowed){a.information("exactly scence already shown");break}this.exactlyTimerId=setTimeout(()=>r(this,void 0,void 0,function*(){yield this.getExactlySence()}),2e4)}while(0)}getRenewSence(){return r(this,void 0,void 0,function*(){do{let t=this.userInfo;if(!t||!t.userId){a.information("get renew but userid is undefined");break}let e="http://touch.vip.xunlei.com/xl11/touch?",n={iver:"2148204801",over:yield this.getThunderVersion(),deviceid:yield this.getPeerId(),scene:"xl11_xf_xht"},o=[];for(let t in n)o.push(`${t}=${n[t]}`);e=`${e}${o.join("&")}`;let l={headers:{Cookie:`userid=${t.userId};sessionid=${t.sessionId}`,"Content-Type":"application/json"}},f=yield s.default.get(e,l);if(a.information("request",e),!f||200!==f.status){a.information("request renew fail",f.status);break}if(!f.data){a.information("request renew data null");break}a.information("request renew data get",JSON.stringify(f.data));let p=f.data;if(0!==p.result){a.information("request renew result error",p.result,p.msg);break}if(!p.data||!p.data.touches||0===p.data.touches.length){a.information("request renew no touches");break}let h=p.data.touches[0];if(!this.checkRenewData(h)){a.information("request renew checkRenewData fail",h);break}let d=null;try{d=JSON.parse(h.content)}catch(t){d=null}if(!d){a.information("request renew content null");break}let m={msgid:h.msgid,aidfrom:d.aid,referfrom:d.refer,buttonText:d.button,url:d.url,icon:d.image,maintitle:d.maintitle,subtitle:d.subtitle?d.subtitle:void 0};yield i.client.callServerFunction("EnqueueAdPlatform",u.Renew,m,()=>r(this,void 0,void 0,function*(){this.stat("tab_xufei_tips_xht_show","v_pc_xl11_push_noti_xht",d.aid);let t=void 0;t=i.client.attachServerEvent("OnLogout",(e,...n)=>{i.client.detachServerEvent("OnLogout",t),t=void 0,a.information("renew close on logout"),i.client.callServerFunction("CloseAdPlatform",u.Renew,h.msgid,c.Expired)}),this.renewShowed=!0,this.releaseEvent();let e=`http://touch.vip.xunlei.com/xl11/setreaded?msgid=${h.msgid}&reachtype=${h.reach_type}`;a.information("renew on show callback",e);let n=yield s.default.get(e,Object.assign({},l));do{if(!n||200!==n.status||!n.data){a.information("setreaded failed",n.status);break}a.information("setreaded",n.data.result,n.data.msg)}while(0)}),(t,e)=>{let n=e;t!==c.Click||"btn"!==n&&"content"!==n||this.stat("tab_xufei_tips_xht_click","v_pc_xl11_push_noti_xht",d.aid)})}while(0)})}getExactlySence(){return r(this,void 0,void 0,function*(){do{let t=this.userInfo,e=yield this.getThunderVersion(),n=yield this.getPeerId(),o=yield this.getTpPeerId(),l={iver:"2148204801",over:e,deviceid:n,cpeerid:o,scene:"xl11_act_noti_xht",obj:"1",market:"",edition:""},f=[];for(let t in l)f.push(`${t}=${l[t]}`);let p=`http://advertpay.vip.xunlei.com/xl11/advertisement?${f.join("&")}`,h={headers:{Cookie:`userid=${t.userId};sessionid=${t.sessionId}`,"Content-Type":"application/json"}},d=yield s.default.get(p,h);if(a.information("request exactly",p),!d||200!==d.status){a.information("request exactly fail",d.status);break}if(!d.data){a.information("request exactly data null");break}a.information("request exactly data get",JSON.stringify(d.data));let m=d.data;if(0!==m.result){a.information("request exactly result error",m.result,m.msg);break}if(!m.data||!m.data.xl11_act_noti_xht){a.information("request exactly no xl11_act_noti_xht");break}let v=m.data.xl11_act_noti_xht.button,g=m.data.xl11_act_noti_xht.image,y=m.data.xl11_act_noti_xht.maintitle,_=m.data.xl11_act_noti_xht.subtitle;if(!v||!g||!y){a.information("request exactly lack key");break}let w={msgid:v.aidfrom,aidfrom:v.aidfrom,referfrom:v.referfrom,urlParams:"1"===v.jumpType?{payconfid:v.payParam}:void 0,buttonText:v.text,url:v.url,icon:g.img,maintitle:y.text,subtitle:_?_.text:void 0};yield i.client.callServerFunction("EnqueueAdPlatform",u.Exactly,w,()=>r(this,void 0,void 0,function*(){if(this.stat("tab_act_tips_xht_show","v_pc_xl11_act_noti_xht",v.aidfrom,{is_login:this.isLogin?"1":"0"}),t.userId){a.information("exactly should be close when logout");let t=void 0;t=i.client.attachServerEvent("OnLogout",(e,...n)=>{i.client.detachServerEvent("OnLogout",t),t=void 0,a.information("exactly close on logout",v&&v.aidfrom),i.client.callServerFunction("CloseAdPlatform",u.Exactly,v.aidfrom,c.Expired)})}this.exactlyShowed=!0,this.releaseEvent();let e=`http://advertpay.vip.xunlei.com/xl11/report?deviceid=${n}&advertisingid=${v.aidfrom}`;a.information("exactly on show callback",e);let r=yield s.default.get(e,Object.assign({},h));do{if(!r||200!==r.status||!r.data){a.information("exactly setreaded failed",r.status);break}a.information("exactly setreaded",r.data.result,r.data.msg)}while(0)}),(t,e)=>{let n=e;t!==c.Click||"btn"!==n&&"content"!==n||this.stat("tab_act_tips_xht_click","v_pc_xl11_act_noti_xht",v.aidfrom,{is_login:this.isLogin?"1":"0"})})}while(0)})}}e.AdPlatformSence=l,e.default=new l}]);
//# sourceMappingURL=index.js.map