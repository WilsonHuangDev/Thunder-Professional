module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=175)}([function(e,t,n){e.exports=n(17)(21)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=require("path")},function(e,t,n){var i=n(53)("wks"),o=n(48),r=n(1).Symbol,s="function"==typeof r;(e.exports=function(e){return i[e]||(i[e]=s&&r[e]||(s?r:o)("Symbol."+e))}).store=i},function(e,t){e.exports=require("electron")},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(8),r=n(59),s=n(19),a=n(32);function c(e){a.information("on object freeer"),global.__xdasIPCClienInstance.notifyFreer(e.remoteId,e.callbackId)}let l=void 0;global.__xdasIPCClienInstance||(global.__xdasIPCClienInstance=new class extends o.EventEmitter{constructor(){super(),this.rid=0,this.apis={},this.singletonMap={},this.connectedMap={},this.retCallbackMap={},this.eventCallbackMaps={},this.contextCallbackMap={}}start(e,t,n,i){do{if(t||(t=s.getDefaultPrex()),this.singletonMap.hasOwnProperty(t.toLowerCase())){if(i)if(this.connectedMap.hasOwnProperty(t.toLowerCase()))i("connect");else{let e=this.singletonMap[t.toLowerCase()];e.on("error",e=>{i("error",e)}),e.on("connect",()=>{i("connect")}),e.on("end",()=>{let t=e.isInprocess();i("end",e.getContext(),n,t)})}break}if(global.__xdasPluginConfig&&global.__xdasPluginConfig.name?e={name:global.__xdasPluginConfig.name,version:global.__xdasPluginConfig.version}:void 0!==e&&null!==e||(e=this.parseContext()),!e){if(!this.client||!this.client.getContext())throw new Error("no suitable context for client, please specify context with start function");e={name:this.client.getContext().name,version:this.client.getContext().version}}if(e.name===s.serverContextName)throw new Error("client context must difference from server");if(n&&!this.client)throw new Error("connect to other product must start self firstly");global.__xdasPluginConfig||(global.__xdasPluginConfig=e);let o=new r.Client({context:e,socketPrex:t});this.singletonMap[t.toLowerCase()]=o,n||(this.client=o),o.on("message",e=>{if("fire_event"===e.action)this.fireServerEvent(o,e.name,[e.__context].concat(e.args));else if("client_context_freer"===e.action)do{let t=e.rid;if(t){if(!this.contextCallbackMap[t])break;delete this.contextCallbackMap[t]}}while(0);else if("call_client_by_id"===e.action)this.callFunctionById(o,e.rid,e.s_rid,e.args);else if("call_client_api"===e.action)this.callRegisterFunction(o,e);else if("check_client_function"===e.action){let t=e.method,n=!0;t&&this.apis&&this.apis[t]||(n=!1),this.sendAdapter(o,{s_rid:e.s_rid,action:"check_client_function_callback",success:!0,data:n})}else if(void 0!==e.success&&null!==e.success){let t=e;this.client===o&&this.emit("stat_call_function_back",o.getContext(),e);const n=this.retCallbackMap[t.rid].callback;if(n)if(t.success)do{if("remote_client_callback"===e.action&&e.__context&&e.__context.name&&e.__context.productId){let i=`${e.__context.productId}-${e.__context.name}`.toLowerCase();n(null,this.decodeParameter(t.data,i));break}n(null,t.data)}while(0);else n(t.error,t.data);delete this.retCallbackMap[t.rid]}}),o.on("error",e=>{i&&i("error",e),this.emit("socket-error",e,o.getContext(),n,o.isInprocess()),delete this.singletonMap[t.toLowerCase()],delete this.connectedMap[t.toLowerCase()],n||(this.client=null)}),o.isInprocess()?(this.connectedMap[t.toLowerCase()]=o,i&&i("connect"),this.emit("connect",o.getContext(),n,!0)):o.on("connect",()=>{this.connectedMap[t.toLowerCase()]=o,i&&i("connect"),this.emit("connect",o.getContext(),n,!1)}),o.on("end",()=>{let e=o.isInprocess();a.information("server is ended, and this client emit end",t,n,e),i&&i("end",o.getContext(),n,e),this.emit("end",o.getContext(),n,e),delete this.singletonMap[t.toLowerCase()],delete this.connectedMap[t.toLowerCase()],n||(this.client=null)}),this.registry(o)}while(0)}registerFunctions(e){do{if(!e)break;let t=void 0;for(let n in e)if(this.apis.hasOwnProperty(n)){t=n;break}if(t)throw new Error(`try to coverd function ${t}`);this.apis=Object.assign({},this.apis,e)}while(0)}checkServerFunction(e){return i(this,void 0,void 0,function*(){return this.internalCheckServerFunction(this.client,e)})}callServerFunction(e,...t){return i(this,void 0,void 0,function*(){let n=null,i=yield this.callServerFunctionEx(e,...t);return i&&(n=i[0]),n})}callServerFunctionEx(e,...t){return this.internalCallServerFunctionEx(this.client,e,...t)}isRemoteClientExist(e){return this.internalIsRemoteClientExist(this.client,e)}checkRemoteFunction(e,t){return this.internalCheckRemoteFunction(this.client,e,t)}callRemoteClientFunction(e,t,...n){return this.internalCallRemoteClientFunction(this.client,e,t,...n)}notifyFreer(e,t){this.sendAdapter(this.client,{action:"client_context_freer",dst:e,rid:t})}callRemoteContextById(e,t,...n){this.sendAdapter(this.client,{dst:e,action:"call_remote_context_by_id",rid:t,args:n})}attachServerEvent(e,t){return this.internalAttachServerEvent(this.client,e,t)}detachServerEvent(e,t){this.internalDetachServerEvent(this.client,e,t)}broadcastEvent(e,...t){this.sendAdapter(this.client,{action:"broadcast",name:e,args:t})}crossCheckServerFunction(e,t){return i(this,void 0,void 0,function*(){{if(!e)throw new Error("An argument for 'productId' was not provided");let n=this.singletonMap[e.toLowerCase()];if(!n)throw new Error("Please call the 'start' interface first");return this.internalCheckServerFunction(n,t)}})}crossCallServerFunction(e,t,...n){return i(this,void 0,void 0,function*(){let i=null,o=yield this.crossCallServerFunctionEx(e,t,...n);return o&&(i=o[0]),i})}crossCallServerFunctionEx(e,t,...n){{if(!e)throw new Error("An argument for 'productId' was not provided");let i=this.singletonMap[e.toLowerCase()];if(!i)throw new Error("Please call the 'start' interface first");if(!t)throw new Error("An argument for 'funcName' was not provided");return this.internalCallServerFunctionEx(i,t,...n)}}crossIsRemoteClientExist(e,t){return i(this,void 0,void 0,function*(){{if(!e)throw new Error("An argument for 'productId' was not provided");let n=this.singletonMap[e.toLowerCase()];if(!n)throw new Error("Please call the 'start' interface first");return this.internalIsRemoteClientExist(n,t)}})}crossCheckRemoteFunction(e,t,n){return i(this,void 0,void 0,function*(){{if(!e)throw new Error("An argument for 'productId' was not provided");let i=this.singletonMap[e.toLowerCase()];if(!i)throw new Error("Please call the 'start' interface first");if(!t)throw new Error("An argument for 'remoteId' was not provided");if(!n)throw new Error("An argument for 'funcName' was not provided");return this.internalCheckRemoteFunction(i,t,n)}})}crossCallRemoteClientFunction(e,t,n,...i){{if(!e)throw new Error("An argument for 'productId' was not provided");let o=this.singletonMap[e.toLowerCase()];if(!o)throw new Error("Please call the 'start' interface first");if(!t)throw new Error("An argument for 'remoteId' was not provided");if(!n)throw new Error("An argument for 'funcName' was not provided");return this.internalCallRemoteClientFunction(o,t,n,...i)}}crossAttachServerEvent(e,t,n){let i=void 0;{if(!e)throw new Error("An argument for 'productId' was not provided");let o=this.singletonMap[e.toLowerCase()];if(!o)throw new Error("Please call the 'start' interface first");if(!t)throw new Error("An argument for 'eventName' was not provided");i=this.internalAttachServerEvent(o,t,n)}return i}crossDetachServerEvent(e,t,n){{if(!e)throw new Error("An argument for 'productId' was not provided");let i=this.singletonMap[e.toLowerCase()];if(!i)throw new Error("Please call the 'start' interface first");if(!t)throw new Error("An argument for 'eventName' was not provided");this.internalDetachServerEvent(i,t,n)}}crossBroadcastEvent(e,t,...n){{if(!e)throw new Error("An argument for 'productId' was not provided");let i=this.singletonMap[e.toLowerCase()];if(!i)throw new Error("Please call the 'start' interface first");if(!t)throw new Error("An argument for 'eventName' was not provided");this.sendAdapter(i,{action:"broadcast",name:t,args:n,__context:Object.assign({},this.client.getContext())})}}registry(e){let t=this.getFullContextName(this.client);return new Promise((n,i)=>{do{if(!t){n(!1);break}let i=this.generateId();const o={alias:t,action:"register",rid:i};let r=(e,i)=>{e?(a.error("register error",e.message),n(i)):n(t)};this.retCallbackMap[i]=Object.assign({callback:r},o),this.sendAdapter(e,o)}while(0)})}getNow(){return Date.now()}sendAdapter(e,t){do{if(!t)break;let n=this.getNow();if(t.timestamp?t.timestamp=[...t.timestamp].concat(n):t.timestamp=[].concat(n),!t.__context){let n=e.getContext();n&&(t=Object.assign({__context:n},t))}e.isInprocess()?(a.information("send to server in process"),global.__xdasIPCServer.emit("message",t,e)):e.send(t)}while(0)}parseContext(){let e=void 0;do{let t="";for(let e=0;e<process.argv.length;e++){let n=process.argv[e];if(0===n.indexOf("--xdas-plugin-name=",0)){t=n.substr("--xdas-plugin-name=".length);break}}if(!t)break;e={name:t}}while(0);return e}generateId(){return this.rid++}getFullContextName(e,t){let n="";do{if(t===s.serverContextName){n=t;break}if(void 0===t){n=`${e.getContext().productId}-${e.getContext().name}`.toLowerCase();break}n=`${e.getContext().productId}-${t}`.toLowerCase()}while(0);return n}internalCheckServerFunction(e,t){return new Promise((n,i)=>{do{if(!e){n(!1);break}if(!t){n(!1);break}let i=this.generateId();const o={action:"check_server_function_exist",method:t,rid:i};let r=(e,t)=>{n(!e&&t)};this.retCallbackMap[i]=Object.assign({callback:r},o),this.sendAdapter(e,o)}while(0)})}internalCallServerFunctionEx(e,t,...n){return new Promise((i,o)=>{do{if(!e){i([null,"client doesn't ready"]);break}if(!t){i([null,"funcName is not specifed"]);break}e===this.client&&this.emit("stat_call_function",this.client.getContext(),t);let o=this.generateId();if(n)for(let e=0;e<n.length;e++)n[e]=this.convertFunction2IdEx(n[e]);const r={rid:o,method:t,args:n};let s=(t,n)=>{t?(a.error("callServerFunction error",t,e.getContext()),i([null,t])):i([n,void 0])};this.retCallbackMap[o]=Object.assign({callback:s},r),this.sendAdapter(e,r)}while(0)})}internalIsRemoteClientExist(e,t){return new Promise((n,i)=>{do{if(!t){n([!1,"remote client alias is not specifed"]);break}if(e===this.client&&t.toLowerCase()===e.getContext().name.toLowerCase()){n([!0,"self is exist"]);break}let i=this.generateId();const o={dst:this.getFullContextName(e,t),action:"check_client_exist",rid:i};let r=(e,t)=>{n(e?[!1,e]:[t,"success"])};this.retCallbackMap[i]=Object.assign({callback:r},o),this.sendAdapter(e,o)}while(0)})}internalCheckRemoteFunction(e,t,n){return new Promise((i,o)=>{do{if(!e){i(!1);break}if(!t){i(!1);break}if(!n){i(!1);break}if(e===this.client&&t.toLowerCase()===e.getContext().name.toLowerCase()){i(!(!this.apis||!this.apis[n]));break}let o=this.generateId();const r={action:"check_client_function_exist",method:n,rid:o,src:this.getFullContextName(this.client),dst:this.getFullContextName(e,t)};let s=(e,t)=>{i(!e&&t)};this.retCallbackMap[o]=Object.assign({callback:s},r),this.sendAdapter(e,r)}while(0)})}internalCallRemoteClientFunction(e,t,n,...i){return new Promise((o,r)=>{do{if(!e){o([null,"client doesn't ready"]);break}if(!t){o([null,"remote client alias is not specifed"]);break}if(!n){o([null,"funcName is not specifed"]);break}let r=(e,t)=>{e?(a.information("callRemoteClientFunction",e.message),o([null,e])):o([t,void 0])};if(i)for(let e=0;e<i.length;e++)i[e]=this.convertFunction2IdEx(i[e]);let s=this.generateId();const c={src:this.getFullContextName(this.client),dst:this.getFullContextName(e,t),action:"call_remote_client_api",method:n,args:i,rid:s};this.retCallbackMap[s]=Object.assign({callback:r},c),this.sendAdapter(e,c)}while(0)})}internalAttachServerEvent(e,t,n){let i=e.getContext().productId.toLowerCase();this.eventCallbackMaps.hasOwnProperty(i)||(this.eventCallbackMaps[i]={}),this.eventCallbackMaps[i].hasOwnProperty(t)||(this.eventCallbackMaps[i][t]={}),s.isObjectEmpty(this.eventCallbackMaps[i][t])&&this.sendAdapter(e,{action:"attach_event",name:t});let o=this.generateId();return this.eventCallbackMaps[i][t][o]=n,o}internalDetachServerEvent(e,t,n){let i=e.getContext().productId.toLowerCase();do{if(!this.eventCallbackMaps.hasOwnProperty(i))break;if(!this.eventCallbackMaps[i].hasOwnProperty(t))break;delete this.eventCallbackMaps[i][t][n],s.isObjectEmpty(this.eventCallbackMaps[i][t])&&this.sendAdapter(e,{action:"detach_event",name:t})}while(0)}fireServerEvent(e,t,...n){let i=e.getContext().productId.toLowerCase();do{if(!this.eventCallbackMaps.hasOwnProperty(i))break;if(!this.eventCallbackMaps[i].hasOwnProperty(t))break;let e=this.eventCallbackMaps[i][t];for(let t in e){let i=e[t];i&&i.apply(null,...n)}}while(0)}callFunctionById(e,t,n,...i){let o=void 0,r=!1;do{const s=this.contextCallbackMap[t];if(!s){a.error("the context function has been freeer",t),o={s_rid:n,action:"call_client_by_id_callback",success:!1,error:"the context function has been freeer"};break}let c=void 0,l=void 0;try{c=s.apply(null,...i)}catch(e){l=e.message;break}if(void 0===n||null===n)break;if(o={s_rid:n,action:"call_client_by_id_callback",success:!1},void 0!==l){o.error=l;break}if(c&&c.then){c.then(t=>{o.data=this.convertFunction2IdEx(t),o.success=!0,this.sendAdapter(e,o)}).catch(t=>{o.error=t instanceof Error?t.message:t,this.sendAdapter(e,o)}),r=!0;break}o.success=!0,o.data=this.convertFunction2IdEx(c)}while(0);!r&&o&&this.sendAdapter(e,o)}convertFunction2IdEx(e){let t=e;if("function"==typeof e){let n=this.generateId();this.contextCallbackMap[n]=e,t={"__nodeipc_callback_id__{A9C9D760-14E8-42CB-A3CB-9C0A0DDFD732}":n}}else if(e&&"object"==typeof e){t=Array.isArray(e)?[...e]:Object.assign({},e);for(let e in t){let n=t[e];if("function"==typeof n){let i=this.generateId();this.contextCallbackMap[i]=n,t[e]={"__nodeipc_callback_id__{A9C9D760-14E8-42CB-A3CB-9C0A0DDFD732}":i}}else n&&"object"==typeof n&&(t[e]=this.convertFunction2IdEx(n))}}return t}decodeParameter(e,t){let n=e;do{if(!e)break;if(!t)break;if("object"!=typeof e)break;let i=e["__nodeipc_callback_id__{A9C9D760-14E8-42CB-A3CB-9C0A0DDFD732}"];if(i){n=((...e)=>{this.callRemoteContextById(t,i,...e)}),global.__xdasObjectLiftMonitor&&global.__xdasObjectLiftMonitor.setObjectFreer(n,{remoteId:t,callbackId:i},c);break}for(let n in e){let i=e[n];e[n]=this.decodeParameter(i,t)}}while(0);return n}callRegisterFunction(e,t){let n=void 0,i=!1;do{if(!t)break;let o=t.method;if(!o)break;let r=this.getNow();if(n={s_rid:t.s_rid,action:"remote_client_callback",success:!1,rid:t.rid,method:t.method,src:t.src,timestamp:t.timestamp?t.timestamp.concat(r):[].concat(r)},!this.apis||!this.apis[o]){n.error=`callRegisterFunction ${o} is undefined`;break}let s=void 0,a=this.decodeParameter(t.args,t.src);try{s=this.apis[o].apply(null,[t.src].concat(a))}catch(e){n.error=e.message;break}if(s&&s.then){s.then(t=>{n.data=this.convertFunction2IdEx(t),n.success=!0,this.sendAdapter(e,n)}).catch(t=>{n.error=t instanceof Error?t.message:t,this.sendAdapter(e,n)}),i=!0;break}n.success=!0,n.data=this.convertFunction2IdEx(s)}while(0);a.information("callRegisterFunction",n),!i&&n&&this.sendAdapter(e,n)}}),l=global.__xdasIPCClienInstance,t.client=l},function(e,t,n){"use strict";function i(e,t,n,i,o,r,s,a){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):o&&(c=a?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:l}}n.d(t,"a",function(){return i})},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=t.log=t.error=t.warn=t.info=t.trace=t.timeEnd=t.time=t.traceback=void 0;const i=n(2);let o,r=console;function s(e=5){let t=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/i,n=/at\s+()(.*):(\d*):(\d*)/i,o=(new Error).stack.split("\n").slice(e+1);o.shift();let r=[];return o.forEach((e,o)=>{let s=t.exec(e)||n.exec(e),a={};s&&5===s.length&&(a.method=s[1],a.path=s[2],a.line=s[3],a.pos=s[4],a.file=i.basename(a.path),r.push(a))}),r}if(o="renderer"===process.type?"[Renderer] [async-remote]:":"browser"===process.type?"[Browser] [async-remote]:":`[${process.type}] [async-remote]`,t.traceback=function(e=5){return s(e).map(e=>e.method+"@("+e.file+")").join(" <= ")},t.time=function(...e){r.time(...e)},t.timeEnd=function(...e){r.timeEnd(...e)},t.trace=function(...e){let t=s(),n="";t[0]&&t[0].method&&(n=n),r.trace(o,...e)},t.info=function(...e){let t=s(),n="anonymous";t[0]&&t[0].method&&(n=n),r.info(o,"["+n+"]",e.join(","))},t.warn=function(...e){let t=s(),n="";t[0]&&t[0].method&&(n=n),r.warn("<WARN>"+o,"["+n+"]",e.join(","))},t.error=function(...e){let t=s(),n="";t[0]&&t[0].method&&(n=n),r.error("<ERROR>"+o,"["+n+"]",e.join(","))},t.log=function(...e){r.log(o,...e)},t.assert=function(e,t){if(!e)throw new Error(t)},!process.env.DEBUG_ASYNC_REMOTE){let e=function(){};t.traceback=e,t.time=e,t.timeEnd=e,t.trace=e,t.info=e,t.warn=e,t.error=e,t.log=e,t.assert=e}},function(e,t,n){var i=n(15);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var i=n(14),o=n(36);e.exports=n(16)?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return require(e)}},function(e,t,n){e.exports=n(17)(50)},function(e,t,n){var i=n(10),o=n(86),r=n(74),s=Object.defineProperty;t.f=n(16)?Object.defineProperty:function(e,t,n){if(i(e),t=r(t,!0),i(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(45)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=vendor_67f12d0c83789636af43},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(22),o=n(2);t.getDefaultPrex=function(){return o.basename(process.execPath,".exe")},t.getSockPath=function(e){const t=i.tmpdir();let n=e;e||(n=o.basename(process.execPath,".exe"));let r=o.join(t,`${n}-xunlei-node-net-ipc-{FD196984-2591-4588-AA6F-5C8AC1266290}.sock`);return"win32"===process.platform&&(r="\\\\.\\pipe\\"+(r=(r=r.replace(/^\//,"")).replace(/\//g,"-"))),r},t.serverContextName="xunlei-node-net-ipc-server-{46105371-DE78-4442-B59F-FDA1D6D7D430}",t.mainProcessContext="main-process",t.mainRendererContext="main-renderer",t.isObjectEmpty=function(e){let t=!0;do{if(!e)break;if(0===Object.keys(e).length)break;t=!1}while(0);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubtitleFunction=t.TimeTipFunction=t.VipBufferTipFunction=t.XmpPluginFunction=t.XmpSubtitleFunction=t.XmpPlayerFunction=t.XmpPlayType=t.VideoTipFunction=t.UIFunction=t.MainMenuFunction=t.SnapshotFunction=t.LoginSDKFunction=t.LoginFunction=t.DKFunction=t.ConfigFunction=void 0,function(e){e.saveConfig="SaveConfig",e.getConfigValue="GetConfigValue",e.setConfigValue="SetConfigValue",e.isConfigInitFinish="IsConfigInitFinish",e.getConfigModules="GetConfigModules",e.setXmpAndThunderConfigValue="SetXmpAndThunderConfigValue"}(t.ConfigFunction||(t.ConfigFunction={})),function(e){e.getTaskChannelInfo="GetTaskChannelInfo",e.getTaskBaseInfo="GetTaskBaseInfo",e.getTaskBaseInfos="GetTaskBaseInfos",e.getTaskAttribute="GetTaskAttribute",e.getTaskStatus="GetTaskStatus",e.findTask="FindTask",e.isTaskExist="IsTaskExist",e.isSupportPlay="IsSupportPlay",e.getTaskDownloadSpeed="GetTaskDownloadSpeed",e.enableDcdnWithVipCert="EnableDcdnWithVipCert",e.updateDcdnWithVipCert="UpdateDcdnWithVipCert",e.disableDcdnWithVipCert="DisableDcdnWithVipCert",e.getTpPeerId="GetTpPeerId",e.execSqlite="ExecSqlite",e.querySqlite="QuerySqlite",e.getCategoryViewTaskList="GetCategoryViewTaskList",e.getCategoryViewTaskListForSuspensionWnd="GetCategoryViewTaskListForSuspensionWnd",e.isLoadStorageTaskFinish="IsLoadStorageTaskFinish",e.isSingleBtTask="IsSingleBtTask",e.setTaskExtStat="SetTaskExtStat"}(t.DKFunction||(t.DKFunction={})),function(e){e.login="Login",e.logout="Logout",e.getUserID="GetUserID",e.getSessionID="GetSessionID",e.getSessionIDAw="GetSessionIDAw",e.getLoginOption="GetLoginOption",e.isLogined="IsLogined",e.getAllUserInfo="GetAllUserInfo",e.getAllUserInfoAw="GetAllUserInfoAw",e.getUserInfoEx="GetUserInfoEx",e.getUserInfo="GetUserInfo",e.getUserInfoAw="GetUserInfoAw",e.getUserHeader="GetUserHeader",e.showLoginDlg="ShowLoginDlg",e.createPersonalInfoWnd="CreatePersonalInfoWnd",e.createRetryLoginWnd="CreateRetryLoginWnd",e.switchAccount="SwitchAccount",e.updateHeader="UpdateHeader",e.pingThroughXLUserServer="PingThroughXLUserServer",e.retryLogIn="RetryLogIn",e.createWebWnd="CreateWebWnd",e.isAutoLoginAw="IsAutoLoginAw",e.channel="Channel",e.getVipInfo="GetVipInfo",e.getUserInfoByKeyAw="GetUserInfoByKeyAw"}(t.LoginFunction||(t.LoginFunction={})),function(e){e.getDeviceID="GetDeviceID",e.getInitData="GetInitData",e.saveData="SaveData"}(t.LoginSDKFunction||(t.LoginSDKFunction={})),function(e){e.subtitleIsSupportJpeg="XmpSubtitleIsSupportJpeg",e.queryMediaInfo="QueryMediaInfo",e.openVideoEdit="OpenVideoEdit",e.openGifEdit="OpenGifEdit",e.createSnapShotEx="CreateSnapShotEx",e.createSnapShot="CreateSnapShot",e.createHDPicture="CreateHDPicture",e.isHDPicCreating="IsHDPicCreating",e.openClearBlack="OpenClearBlack",e.closeClearBlack="CloseClearBlack",e.clearBlackWindow="ClearBlackWindow",e.getBlackCollectCount="GetBlackCollectCount",e.getCollectData="GetCollectData",e.getClearBlackRect="GetClearBlackRect",e.createPreViewSnapshot="CreatePreViewSnapshot",e.getPreViewSnapshot="GetPreViewSnapshot"}(t.SnapshotFunction||(t.SnapshotFunction={})),function(e){e.showSystemMenu="ShowSystemMenu"}(t.MainMenuFunction||(t.MainMenuFunction={})),function(e){e.createButton="CreateButton",e.updateButton="UpdateButton",e.createWebview="CreateWebview",e.setDefaultVipSpeedStatus="SetDefaultVipSpeedStatus",e.updateVipSpeedStatus="UpdateVipSpeedStatus",e.getWebviewInfo="GetWebviewInfo",e.createVipView="CreateVipview",e.showCurveChart="showCurveChart",e.applyBrowserView="ApplyBrowserView",e.getBrowserViewId="GetBrowserViewId",e.initBrowserViewConfig="initBrowserViewConfig",e.createVipMenu="CreateVipMenu",e.getMenuSlot="GetMenuSlot",e.openNewTab="OpenNewTab",e.videoPause="DoVideoPause",e.videoPlay="DoVideoPlay",e.videoPauseEx="DoVideoPauseEx",e.videoPlayEx="DoVideoPlayEx",e.setPlaySpeed="SetPlaySpeed",e.setProgressColor="SetProgressColor",e.getProgressColor="GetProgressColor",e.showBufferingEntry="ShowBufferingEntry",e.isBufferingEntryShow="IsBufferingEntryShow",e.showOpenVipEntry="ShowOpenVipEntry",e.registerFunctionCall="RegisterFunctionCall",e.executeFunctionCall="ExecuteFunctionCall",e.videoGetPlayState="VideoGetPlayState",e.setXmpFocus="SetXmpFocus",e.leaveFullScreen="LeaveFullScreen"}(t.UIFunction||(t.UIFunction={})),function(e){e.addItem="VideoTipLeftTopAddItem",e.addLinkItem="VideoTipLeftTopAddLinkItem",e.updateItemText="VideoTipLeftTopUpdateItemText",e.removeItem="VideoTipLeftTopRemoveItem",e.showTip="VideoTipLeftTopShowTip",e.closeTip="VideoTipLeftTopCloseTip",e.hideTip="HideTip"}(t.VideoTipFunction||(t.VideoTipFunction={})),function(e){e.unKnow="UnKnow",e.localFile="LocalFile",e.downloadAndPlay="DownloadAndPlay",e.yunBo="YunBo"}(t.XmpPlayType||(t.XmpPlayType={})),function(e){e.init="XmpPlayerInit",e.showAPlayerWindow="XmpShowAPlayerWindow",e.createXmpMedia="XmpPlayerCreateXmpMedia",e.open="XmpPlayerOpen",e.openFile="XmpPlayerOpenFile",e.addFile="XmpPlayerAddFile",e.openFolder="XmpPlayerOpenFolder",e.openBt="XmpPlayerOpenBt",e.openUrl="XmpPlayerOpenUrl",e.openMedia="XmpPlayerOpenMedia",e.close="XmpPlayerClose",e.stop="XmpPlayerStop",e.play="XmpPlayerPlay",e.pause="XmpPlayerPause",e.getVersion="XmpPlayerGetVersion",e.getState="XmpPlayerGetState",e.isPlaying="XmpPlayerIsPlaying",e.getDuration="XmpPlayerGetDuration",e.getPosition="XmpPlayerGetPosition",e.setPosition="XmpPlayerSetPosition",e.getVideoWidth="XmpPlayerGetVideoWidth",e.getVideoHeight="XmpPlayerGetVideoHeight",e.getVolume="XmpPlayerGetVolume",e.setVolume="XmpPlayerSetVolume",e.isSeeking="XmpPlayerIsSeeking",e.getBufferProgress="XmpPlayerGetBufferProgress",e.getConfig="XmpPlayerGetConfig",e.setConfig="XmpPlayerSetConfig",e.setCurrentMedia="XmpPlayerSetCurrentMedia",e.getCurrentMedia="XmpPlayerGetCurrentMedia",e.getMediaAttribute="XmpPlayerMediaAttribute",e.getCurrentMediaAttribute="XmpPlayerGetCurrentMediaAttribute",e.clearCurrentMedia="XmpPlayerClearCurrentMedia",e.openPreMedia="XmpPlayerOpenPreMedia",e.openNextMedia="XmpPlayerOpenNextMedia",e.isPlayOrderFirstMedia="XmpPlayerIsPlayOrderFirstMedia",e.isPlayOrderLastMedia="XmpPlayerIsPlayOrderLastMedia",e.isFirstMedia="XmpPlayerIsFirstMedia",e.isLastMedia="XmpPlayerIsLastMedia",e.isMediasLoadFinished="XmpPlayerIsMediasLoadFinished",e.getMediasInfo="XmpPlayerGetMediasInfo",e.removeMedia="XmpPlayerRemoveMedia",e.removeAllMedia="XmpPlayerRemoveAllMedia",e.setASpectRatioAtive="XmpPlayerSetASpectRatioAtive",e.setPlayForward="XmpPlayerSetPlayForward",e.postionChange="XmpPlayerPostionChange",e.getBufferRange="XmpPlayerGetBufferRange",e.fireKeyDown="XmpPlayerFireKeyDown",e.fireKeyUp="XmpPlayerFireKeyUp",e.setAudioTime="XmpPlayerSetAudioTime",e.setProportion="XmpPlayerSetProportion",e.setVlomue="XmpPlayerSetVlomue",e.getCurView="XmpPlayerGetCurView",e.recordStat="XmpPlayerRecordStat",e.getHostWnd="XmpPlayerGetHostWnd",e.startWindowZorderChecker="StartWindowZorderChecker",e.stopWindowZorderChecker="StopWindowZorderChecker",e.setZOrderCheckerWindowHandle="SetZOrderCheckerWindowHandle",e.removeZOrderCheckerWindowHandle="RemoveZOrderCheckerWindowHandle",e.getVideoDuration="GetVideoDuration",e.getDownloadState="GetDownloadState",e.getResConfig="GetResConfig",e.queryTaskState="QueryTaskState",e.shareMediaInfo="ShareMediaInfo",e.getThunderDirState="GetThunderDirState",e.setThunderDirState="SetThunderDirState",e.showSyncDig="ShowSyncDig",e.isXmpLite="IsXmpLite",e.handleVipPlaySpeed="handleVipPlaySpeed",e.getMediaInfo="GetMediaInfo",e.getCurrentMediaInfo="GetCurrentMediaInfo",e.setMediaAttribute="XmpPlayerSetMediaAttribute",e.updateDownloadEmbedRect="UpdateDownloadEmbedRect",e.updatePanEmbedRect="UpdatePanEmbedRect",e.createIndependentWindow="CreateIndependentWindow",e.thunderResize="ThunderResize",e.updateScrollShowOrHide="UpdateScrollShowOrHide",e.updateFloatWindow="IpdateFloatWindow",e.updateAplayerHwnd="UpdateAplayerHwnd",e.updatePlaySource="UpdatePlaySource",e.setXmpCurrentMode="SetXmpCurrentMode",e.getXmpCurrentMode="GetXmpCurrentMode",e.destroy="XmpDestroy",e.maximize="XmpMaximize",e.unmaximize="XmpUnmaximize",e.minmized="XmpMinmized",e.setPlaySpeed="SetPlaySpeed",e.getPlaySpeed="GetPlaySpeed",e.setWindowTopMode="SetWindowTopMode",e.calcelWindowTopMode="CalcelWindowTopMode",e.enterFullScreen="EnterFullScreen",e.leaveFullScreen="LeaveFullScreen",e.setFullcScreen="SetFullcScreen",e.getIsFullScreen="GetIsFullScreen",e.setPlayingTaskId="SetPlayingTaskId",e.setlayPingPanFileId="SetPlayingPanFileId",e.setSelectTaskId="SetSelectTaskId",e.setSelectPanel="SetSelectPanel",e.setSelectTab="SetSelectTab",e.setSelectPanFileId="SetSelectPanFileId",e.getPlayingTaskId="GetPlayingTaskId",e.getPlayingPanFileId="GetPlayingPanFileId",e.getSelectTaskId="GetSelectTaskId",e.getSelectPanel="GetSelectPanel",e.getSelectTab="GetSelectTab",e.getSelectPanFileId="GetSelectPanFileId",e.getXmpPlayType="GetXmpPlayType",e.getDownloadAndPlayTaskData="GetDownloadAndPlayTaskData",e.openDLNA="OpenDLNA",e.disConnectDLNA="DisConnectDLNA",e.addXmpVideoTipPos="AddXmpVideoTipPos",e.removeXmpVideoTipPos="RemoveXmpVideoTipPos",e.addXmpVideoTipPosMainRenderer="AddXmpVideoTipPosRenderer",e.removeXmpVideoTipPosMainRenderer="RemoveXmpVideoTipPosRenderer",e.switchSilent="XmpSwitchSilent",e.isSilent="XmpIsSilent",e.cancelDownloadCodecs="OnCancelDownloadCodecs",e.getCachedDownloadCodecInfo="OnGetCachedDownloadCodecInfo",e.onTaskStopped="OnTaskStopped",e.showOrHideXmpWindow="OnShowOrHideXmpWindow",e.getPlayingSoure="OnGetPlayingSoure",e.userLogout="OnUserLogout",e.isCurrentBuffingIsByDrag="IsCurrentBuffingIsByDrag",e.thunderQuit="ThunderQuit",e.getLastPlayError="GetLastPlayError",e.showAplayerAndFloatWindow="ShowAplayerAndFloatWindow",e.hideAplayerAndFloatWindow="HideAplayerAndFloatWindow",e.hideEmbedAplayerAndFloatWindow="HideEmbedAplayerAndFloatWindow",e.isPlayMusic="IsPlayMusic",e.getMediaById="GetMediaById",e.setPlayEndInfo="SetPlayEndInfo"}(t.XmpPlayerFunction||(t.XmpPlayerFunction={})),function(e){e.isSubtitleShow="XmpSubtitleIsSubtitleShow",e.isSubtitle2Show="XmpSubtitleIsSubtitle2Show",e.showSubtitle="XmpSubtitleShowSubtitle",e.showSubtitle2="XmpSubtitleShowSubtitle2",e.getCurrentSubtitle="XmpSubtitleGetCurrentSubtitle",e.getCurrentSubtitle2="XmpSubtitleGetCurrentSubtitle2",e.getSubtitleList="XmpSubtitleGetSubtitleList",e.loadSubtitleFile="XmpSubtitleLoadSubtitleFile",e.setCurrentSubtitle="XmpSubtitleSetCurrentSubtitle",e.setSubtitleLanguageIndex="XmpSubtitleSetSubtitleLanguageIndex",e.setSubtitlePosition="XmpSubtitleSetSubtitlePosition",e.getSubtitlePosition="XmpSubtitleGetSubtitlePosition",e.setSubtitleFontStyle="XmpSubtitleSetSubtitleFontStyle",e.getSubtitleSize="XmpSubtitleGetSubtitleSize",e.getSubtitleColor="XmpSubtitleGetSubtitleColor",e.getSubtitleFont="XmpSubtitleGetSubtitleFont",e.setSubtitleTimming="XmpSubtitleSetSubtitleTimming",e.getSubtitleTimming="XmpSubtitleGetSubtitleTimming",e.setSubtitle3DMode="XmpSubtitleSetSubtitle3DMode",e.setUseHardware="XmpSubtitleSetUseHardware",e.reportSubTitle="ReportSubTitle",e.uploadSubTitle="UploadubTitle",e.onSubtitleInit="XmpSubtitleInit",e.onSubtitleLoadSuc="XmpSubtitleLoadSuc",e.createSuppress="CreateSuppress",e.getSuppressState="GetSuppressState",e.getSuppressPlayUrl="GetSuppressPlayUrl",e.getSuppressProgress="GetSuppressProgress",e.getSuppressNeedTime="GetSuppressNeedTime",e.showSubtitleSuppressDialog="ShowSubtitleSuppressDialog",e.continueSuppress="ContinueSuppress",e.getFullState="GetFullState",e.isSettingDefaultSecondSubtitle="IsSettingDefaultSecondSubtitle",e.isSecondSubtitle="IsSecondSubtitle"}(t.XmpSubtitleFunction||(t.XmpSubtitleFunction={})),function(e){e.getTaskInfo="GetTaskInfo",e.shellOpen="ShellOpen",e.openFolderWithSelectFile="OpenFolderWithSelectFile",e.getFileMd5="GetFileMd5",e.getPeerID="GetPeerID",e.getDeviceID="GetDeviceID",e.getThunderVersion="GetThunderVersion",e.getXmpVersion="GetXmpVersion",e.trackEvent="TrackEvent",e.getCurInternetState="GetCurInternetState",e.getCurPlatform="GetCurPlatform",e.getXmpShowMode="GetXmpShowMode",e.isModuleEnable="IsModuleEnable",e.updateTabSelectState="UpdateTabSelectState",e.getMouseShow="getMouseShow",e.updateFullFill="UpdateFullFill",e.getWindowTopMode="GetWindowTopMode",e.isVideoEditMode="IsVideoEditMode",e.showCtrlView="ShowCtrlView",e.showTopView="ShowTopView",e.showMoreAbout="ShowMoreAbout",e.setMenuPopUp="SetMenuPopUp",e.setWindowPopUp="SetWindowPopUp",e.isListExpand="IsListExpand",e.isMenuPopUp="IsMenuPopUp",e.isWindowPopUp="IsWindowPopUp",e.isMouseInFloat="IsMouseInFloat",e.switchtoNormalMode="SwitchtoNormalMode",e.switchToTransparentMode="SwitchToTransparentMode",e.dropOpenFiles="DropOpenFiles",e.dropOpenUrl="DropOpenUrl",e.getShowCondition="GetShowCondition",e.utf8StringEncodeToBinary="Utf8StringEncodeToBinary",e.utf8StringDecodeFromBinary="Utf8StringDecodeFromBinary",e.getErrorCodeConfigMessage="GetErrorCodeConfigMessage",e.quitProcess="QuitProcess",e.associate="Associate",e.checkXmpUpdate="CheckXmpUpdate",e.changeVideoRatio="ChangeVideoRatio",e.getVideoScaleRate="GetVideoScaleRate",e.getHoverPos="GetHoverPos",e.setHoverPos="SetHoverPos",e.getCurrentDevice="GetCurrentDevice",e.activeDevice="ActiveDevice",e.setCurrentDevice="SetCurrentDevice",e.getDeviceList="GetDeviceList",e.searchDevice="SearchDevice",e.isDeviceSupport="IsDeviceSupport",e.getInitUserLoginParam="GetInitUserLoginParam",e.handleMouseTimeOut="HandleMouseTimeOut",e.getOpenFrom="GetOpenFrom",e.setHideAndPauseWindow="SetHideAndPauseWindow",e.setHideWindowNotPause="SetHideWindowNotPause",e.setFullWindowMouseEnter="SetFullWindowMouseHover",e.setDragMove="SetDragMove",e.isEmbedMode="IsEmbedMode",e.getBackUpValue="getBackUpValue"}(t.XmpPluginFunction||(t.XmpPluginFunction={})),function(e){e.getVideoStuckVipData="GetVideoStuckVipData",e.openPayVipUrl="OpenPayVipUrl",e.actionPreOpen="ActionPreOpen"}(t.VipBufferTipFunction||(t.VipBufferTipFunction={})),function(e){e.showTimeTips="ShowTimeTips",e.destroyTimeTips="DestroyTimeTips"}(t.TimeTipFunction||(t.TimeTipFunction={})),function(e){e.loadSubtitle="LoadSubtitle",e.onlineSubtitleMatch="OnlineSubtitleMatch",e.showOrHideSubtitle="ShowOrHideSubtitle",e.isEnableHideSubtitle="IsEnableHideSubtitle",e.isSubtitleHided="IsSubtitleHided",e.loadEmbedSubtitle="LoadEmbedSubtitle",e.loadOnlineSubtitle="LoadOnlineSubtitle",e.loadLocalSubtitle="LoadLocalSubtitle",e.getOnlineSubtitleList="GetOnlineSubtitleList",e.getEmbedSubtitleList="GetEmbedSubtitleList",e.getLocalSubtitleList="GetLocalSubtitleList",e.getManualSubtitleList="GetManualSubtitleList",e.getCurrentTitle="GetCurrentTitle",e.getCurrentTitle2="GetCurrentTitle2",e.manualLoadSubtitle="ManualLoadSubtitle"}(t.SubtitleFunction||(t.SubtitleFunction={}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=require("os")},function(e,t,n){var i=n(1),o=n(7),r=n(25),s=n(11),a=n(21),c=function(e,t,n){var l,u,d,f=e&c.F,h=e&c.G,p=e&c.S,m=e&c.P,g=e&c.B,v=e&c.W,_=h?o:o[t]||(o[t]={}),w=_.prototype,S=h?i:p?i[t]:(i[t]||{}).prototype;for(l in h&&(n=t),n)(u=!f&&S&&void 0!==S[l])&&a(_,l)||(d=u?S[l]:n[l],_[l]=h&&"function"!=typeof S[l]?n[l]:g&&u?r(d,i):v&&S[l]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?r(Function.call,d):d,m&&((_.virtual||(_.virtual={}))[l]=d,e&c.R&&w&&!w[l]&&s(w,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){e.exports={}},function(e,t,n){var i=n(30);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(128),o=n(44);e.exports=function(e){return i(o(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";const i=n(9);if("renderer"===process.type){if(i.info("client running"),!global.__xdasAsyncRemoteExports){let e={};global.__xdasAsyncRemoteExports=e;let t=n(63);e.require=t.remoteRequire,e.getCurrentWebContents=t.getCurrentWebContents,e.getCurrentWindow=t.getCurrentWindow,e.Interest=t.Interest,e.global=new Proxy({},{get:(e,n,i)=>t.getGlobal(n)}),e.electron=new Proxy({},{get:(e,n,i)=>t.getBuiltin(n)}),Object.defineProperty(e,"currentWindow",{get:()=>t.getCurrentWindow()}),Object.defineProperty(e,"currentWebContents",{get:()=>t.getCurrentWebContents()}),Object.defineProperty(e,"process",{get:()=>t.getGlobal("process")}),Object.defineProperty(e,"webContents",{get:()=>t.getWebContents()})}}else if("browser"===process.type&&(i.info("server running"),!global.__xdasAsyncRemoteExports)){let e={};global.__xdasAsyncRemoteExports=e;const t=n(68);t.startServer(),e.getObjectRegistry=t.getObjectRegistry}e.exports=global.__xdasAsyncRemoteExports},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u});var i=n(83),o=n.n(i),r=n(84),s=n.n(r);function a(){return"undefined"!=typeof process&&s()(process,"versions","electron")}function c(e){return void 0!==e&&null!==e}function l(e){return void 0===e||null===e}function u(e){return new o.a(function(t,n){e?t():n()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.information=((...e)=>{}),t.error=((...e)=>{}),t.warning=((...e)=>{}),t.critical=((...e)=>{}),t.verbose=((...e)=>{})},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t,n;!function(e){e.require="AR_BROWSER_REQUIRE",e.builtIn="AR_BROWSER_GET_BUILTIN",e.global="AR_BROWSER_GET_GLOBAL",e.functionCall="AR_BROWSER_FUNCTION_CALL",e.construct="AR_BROWSER_CONSTRUCTOR",e.memberConstruct="AR_BROWSER_MEMBER_CONSTRUCTOR",e.memberCall="AR_BROWSER_MEMBER_CALL",e.memberSet="AR_BROWSER_MEMBER_SET",e.memberGet="AR_BROWSER_MEMBER_GET",e.currentWindow="AR_BROWSER_CURRENT_WINDOW",e.currentWebContents="AR_BROWSER_CURRENT_WEB_CONTENTS",e.clientWebContents="AR_BROWSER_CLIENT_WEB_CONTENTS",e.webContents="AR_BROWSER_WEB_CONTENTS",e.sync="AR_BROWSER_SYNC",e.contextRelease="AR_BROWSER_CONTEXT_RELEASE"}(t=e.browser||(e.browser={})),function(e){e.requireReturn="AR_RENDERER_REQUIRE_RETURN",e.getBuiltInReturn="AR_RENDERER_BUILTIN_RETURN",e.getGlobalReturn="AR_RENDERER_GLOBAL_RETURN",e.functionCallReturn="AR_RENDERER_FUNCTION_CALL_RETURN",e.memberConstructReturn="AR_RENDERER_MEMBER_CONSTRUCTOR_RETURN",e.constructReturn="AR_RENDERER_CONSTRUCTOR_RETURN",e.memberCallReturn="AR_RENDERER_MEMBER_CALL_RETURN",e.memberSetReturn="AR_RENDERER_MEMBER_SET_RETURN",e.memberGetReturn="AR_RENDERER_MEMBER_GET_RETURN",e.currentWindowReturn="AR_BROWSER_CURRENT_WINDOW_RETURN",e.currentWebContentsReturn="AR_RENDERER_CURRENT_WEB_CONTENTS_RETURN",e.clientWebContentsReturn="AR_RENDERER_CLIENT_WEB_CONTENTS_RETURN",e.webContentsReturn="AR_RENDERER_WEB_CONTENTS_RETURN",e.syncReturn="AR_RENDERER_SYNC_RETURN",e.callback="AR_RENDERER_CALLBACK"}(n=e.renderer||(e.renderer={}))}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;!function(e){e.getRemoteObjectName=function(e){let t=typeof e;if("function"===t)t=e.name;else if("object"===t){let t=e.name;if("string"!=typeof t){let n=e.constructor;t=n?n.name:Object.toString.call(e)}}return t},e.isPromise=function(e){return e&&e.then&&e.then instanceof Function&&e.constructor&&e.constructor.reject&&e.constructor.reject instanceof Function&&e.constructor.resolve&&e.constructor.resolve instanceof Function}}(i||(i={})),e.exports=i},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ThunderHelper=void 0;const o=n(2),r=n(12),s=n(41),a=n(0).default.getLogger("XMP.ThunderHelper"),c=r.default(o.join(__rootDir,"../bin/ThunderHelper.node"));!function(e){function t(e){return i(this,void 0,void 0,function*(){if(!e||(yield e.isDestroyed()))return 0;let t=0,n=yield e.getNativeWindowHandle();return n&&(t=n.readUIntLE(0,4)),t})}function n(e,t,n,i,o,r,a,l){if(!c||!e)return;let u="";l&&l.length>3&&(u=l.substring(0,l.length-3)),a|=s.Uflag.SWP_ASYNCWINDOWPOS,c.setWindowPos(e,t,n,i,o,r,a)}function o(){return c.getDPIAwareSupport()}function r(e){return c.getMonitorDPIFactor(e)}function l(){return c.getSysDPIFactor()}e.getDriveInfo=function(e){return c.getDriveInfo(e)},e.getFreePartitionSpace=function(e){return c.getFreePartitionSpace(e)},e.getLogicalDriveStrings=function(){return c.getLogicalDriveStrings()},e.getPartitionSpace=function(e){return c.getPartitionSpace(e)},e.getSystemTempPath=function(){return c.getSystemTempPath()},e.getTaskTypeFromUrl=function(e){return c.getTaskTypeFromUrl(e)},e.dwmIsCompositionEnabled=function(){return c.dwmIsCompositionEnabled()},e.setWindowLong=function(e,t,n){return c.setWindowLong(e,t,n)},e.showCursor=function(e){c&&c.showCursor(e)},e.isWindowVisible=function(e){return!!c&&c.isWindowVisible(e)},e.isWindowEnable=function(e){return!!c&&c.isWindowEnable(e)},e.enableWindow=function(e,t){return!!c&&c.enableWindow(e,t)},e.shChangeNotify=function(){if(c)return c.refreshIcon()},e.getBrowserWindowHandle=t,e.setTopMostWindow=function(e){return i(this,void 0,void 0,function*(){c&&e&&n(yield t(e),s.OptionOfHWNDInAfter.HWND_TOPMOST,0,0,0,0,s.Uflag.SWP_NOSIZE|s.Uflag.SWP_NOMOVE)})},e.getGraphicsAdapterList=function(){return c?c.getGraphicsAdapterList():null},e.getFileVersion=function(e){return c&&e?c.getFileVersion(e):""},e.getCursorPos=function(){return c?c.getCursorPos():{x:0,y:0}},e.getPowerInfo=function(){return c?c.getPowerInfo():null},e.setWindowRectRgn=function(e,t,n,i,o){c&&c.setWindowRectRgn(e,t,n,i,o)},e.createRectRgn=function(e,t,n,i){return c?c.createRectRgn(e,t,n,i):0},e.combineRgn=function(e,t,n=s.CombineRgnType.RGN_OR){return c?c.combineRgn(e,t,n):-1},e.deleteObject=function(e){return!!c&&c.deleteObject(e)},e.setWindowRgn=function(e,t,n=!0){return c?c.setWindowRgn(e,t,n):-1},e.hitCaption=function(e){return!!c&&c.hitCaption(e)},e.isWindowForeGround=function(e){return i(this,void 0,void 0,function*(){if(!c)return!1;let t=c.getForegroundWindow();return e===t})},e.getForegroundWindow=function(){return c?c.getForegroundWindow():0},e.isWindowForceGroundEx=function(e){return!!c&&e===c.getForegroundWindow()},e.setListExpandMode=function(e){return c?c.setListExpandMode(e):0},e.setTopMostWindowEx=function(e){c&&e&&n(e,s.OptionOfHWNDInAfter.HWND_TOPMOST,0,0,0,0,s.Uflag.SWP_NOSIZE|s.Uflag.SWP_NOMOVE)},e.cancelTopMostWindow=function(e,o){return i(this,void 0,void 0,function*(){if(!c||!e)return;let i=yield t(e),r=s.Uflag.SWP_NOSIZE|s.Uflag.SWP_NOMOVE|s.Uflag.SWP_NOACTIVATE;o&&(r|=o),n(i,s.OptionOfHWNDInAfter.HWND_NOTOPMOST,0,0,0,0,r)})},e.cancelTopMostWindowEx=function(e,t){if(!c||!e)return;let i=s.Uflag.SWP_NOSIZE|s.Uflag.SWP_NOMOVE|s.Uflag.SWP_NOACTIVATE;t&&(i|=t),n(e,s.OptionOfHWNDInAfter.HWND_NOTOPMOST,0,0,0,0,i)},e.getTempPath=function(){return c?c.getSystemTempPath():""},e.switchToThisWindow=function(e,t=!1){c&&c.switchToThisWindow(e,t)},e.setScreenSaveActive=function(e){if(c)return c.setScreenSaveActive(e)},e.getDiskFreeSpace=function(e){return c?c.getFreePartitionSpace(e):0},e.getMemInfoByPointer=function(e,t){return c?c.getMemInfoByPointer(e,t):null},e.setMinTrackSize=function(e,t,n){return c?c.setMinTrackSize(e,t,n):null},e.setWindowPos=function(e,t,i,o,r,s,a,l){if(!c||!e||e.isDestroyed())return;n(e.getNativeWindowHandle().readUIntLE(0,4),t,i,o,r,s,a,l)},e.moveWindowGently=function(e,t,n,i,o,r,s){c&&t&&c.moveWindowGently(e,t,n,i,o,r,s)},e.moveWindow=function(e,t){c&&e&&c.moveWindow(e,t.x,t.y,t.width,t.height,!0)},e.setWindowFocus=function(e,t=!0){c&&e&&c.setWindowFocus(e,t)},e.getWindowRect=function(e){return c&&e?c.getWindowRect(e):{x:0,y:0,width:0,height:0}},e.getClientRect=function(e){return c&&e?c.getClientRect(e):{x:0,y:0,width:0,height:0}},e.getCurrentScreenRect=function(e){return c&&e?c.getCurrentScreenRect(e):{x:0,y:0,width:0,height:0}},e.getCurrentWorkRect=function(e){return c&&e?c.getCurrentScreenRect(e,!0):{x:0,y:0,width:0,height:0}},e.getChildWindow=function(e){return c&&e?c.getChildWindow(e):0},e.getParentWindow=function(e){return c&&e?c.getParentWindow(e):0},e.getKeyState=function(e){return c?c.getKeyState(e):0},e.setWindowPosEx=n,e.beginDeferWindowPos=function(e){return c&&e?c.beginDeferWindowPos(e):0},e.endDeferWindowPos=function(e){return c&&e?c.endDeferWindowPos(e):0},e.deferWindowPos=function(e,t,n,i,o,r,s,a){return c&&e?c.deferWindowPos(e,t,n,i,o,r,s,a):0},e.bindChildWindow=function(e,t,n){if(!c||!t||!e)return;let i=t.getNativeWindowHandle().readUIntLE(0,4),o=e.getNativeWindowHandle().readUIntLE(0,4);n?c.bindChildWindow(o,i,n.x,n.y,n.width,n.height):c.bindChildWindow(o,i)},e.bindChildWindowEx=function(e,t,n){c&&t&&e&&(n?c.bindChildWindow(e,t,n.x,n.y,n.width,n.height):c.bindChildWindow(e,t))},e.setDllDirectory=function(e){c&&e&&c.setDllDirectory(e)},e.bringWindowToTop=function(e){if(!e)return;let t=e.getNativeWindowHandle().readUIntLE(0,4);c.bringWindowToTop(t)},e.bringWindowToTopEx=function(e){e&&c.bringWindowToTop(e)},e.modifyStyleEx=function(e,t,n){e&&c.modifyStyle(e,t,n)},e.modifyStyle=function(e,t,n){if(!e)return;let i=e.getNativeWindowHandle().readUIntLE(0,4);c.modifyStyle(i,t,n)},e.registerSliderCreate=function(e){c.registerSliderCreate(e)},e.showSlider=function(e){c.showSlider(e)},e.initSideBar=function(e,t,n,i){c.initSideBar(e,t,n,i)},e.uninitSideBar=function(){return i(this,void 0,void 0,function*(){return new Promise(e=>{c.uninitSideBar(()=>{e()})})})},e.createSideBar=function(){c.createSideBar()},e.destroySideBar=function(){c.destroySideBar()},e.readRegValue=function(e,t,n){return c?c.readRegString(e,t,n):""},e.setForcegroundWindow=function(e){if(!e)return;let t=e.getNativeWindowHandle().readUIntLE(0,4);c.setForegroundWindow(t)},e.setActiveWindowEx=function(e){c&&e&&c.setActiveWindow(e)},e.setForcegroundWindowEx=function(e){e&&c.setForegroundWindow(e)},e.is64BitWindows=function(){return!!c&&c.is64bitSystem()},e.setSideBarExpandState=function(e){c.setExpandState(e)},e.unBindChildWindow=function(e,t){if(!c||!t||!e)return;a.information("unBindChildWindow");let n=t.getNativeWindowHandle().readUIntLE(0,4),i=e.getNativeWindowHandle().readUIntLE(0,4);c.unBindChildWindow(i,n)},e.unBindChildWindowEx=function(e,t){c&&t&&e&&(a.information("unBindChildWindowEx"),c.unBindChildWindow(e,t))},e.addBrowserWindowClipStyle=function(e){if(!c||!e)return!1;let t=e.getNativeWindowHandle().readUIntLE(0,4),n=c.findChildWindow(t,"Intermediate D3D Window");return n&&c.setWindowLong(n,s.SetWindowType.GWL_STYLE,s.WindowStyle.WS_CLIPSIBLINGS),c.setWindowLong(t,s.SetWindowType.GWL_STYLE,s.WindowStyle.WS_CLIPCHILDREN),!!n},e.addBrowserWindowClipStyleEx=function(e){if(!c)return!1;let t=c.findChildWindow(e,"Intermediate D3D Window");return t&&c.setWindowLong(t,s.SetWindowType.GWL_STYLE,s.WindowStyle.WS_CLIPSIBLINGS),c.setWindowLong(e,s.SetWindowType.GWL_STYLE,s.WindowStyle.WS_CLIPCHILDREN),!!t},e.getDoubleClickTime=function(){return c?c.getDoubleClickTime():50},e.invalidateRect=function(e,t,n){c&&c.invalidateRect(e,t,n)},e.isIconic=function(e){return!!c&&c.isIconic(e)},e.isZoomed=function(e){return!!c&&c.isZoomed(e)},e.showWindow=function(e){return!!c&&c.showWindow(e,s.ShowWindowCmd.SW_SHOW)},e.hideWindow=function(e){return!!c&&c.showWindow(e,s.ShowWindowCmd.SW_HIDE)},e.setZorderWindow=function(e,t,n){if(c)return c.setZorderWindow(e,t,n)},e.getWindowLong=function(e,t){return c?c.getWindowLong(e,t):0},e.getHelperObject=function(){return c},e.getPeerID=function(){return c.getPeerID()},e.getDPIAwareSupport=o,e.getMonitorDPIFactor=r,e.getSysDPIFactor=l,e.getDpi=function(e){let t=1;return t=o()?r(e):l()}}(t.ThunderHelper||(t.ThunderHelper={}))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(14).f,o=n(21),r=n(3)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,r)&&i(e,r,{configurable:!0,value:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThunderChannelList=void 0,function(e){e.channelBase="ChannelBase",e.channelRMNewTaskSetTaskData=e.channelBase+"1",e.channelRMPreNewTaskSetTaskData=e.channelBase+"2",e.channelRMNewTaskCreateNewTask=e.channelBase+"3",e.channelRMNewTaskSetBTInfo=e.channelBase+"4",e.channelRMNewTaskDownloadTorrent=e.channelBase+"5",e.channelRMNewTaskCreateBtTask=e.channelBase+"6",e.channelRMNewTaskCancleMagnet=e.channelBase+"7",e.channelRMImportTorrent=e.channelBase+"8",e.channelRMGetConfigValueResolve=e.channelBase+"9",e.channelRMGetConfigValueReject=e.channelBase+"10",e.channelMRTrayMenuClick=e.channelBase+"11",e.channelMRNewTaskMagnetTaskCreated=e.channelBase+"12",e.channelMRNewTaskDownloadTorrentResult=e.channelBase+"13",e.channelMRNewTaskCreateNewTaskResult=e.channelBase+"14",e.channelMRNewTaskCreateBtTaskResult=e.channelBase+"15",e.channelMRGetConfigValue=e.channelBase+"16",e.channelMRSetConfigValue=e.channelBase+"17",e.channelRMCommitPlanTask=e.channelBase+"18",e.channelRMPerformePlanTask=e.channelBase+"19",e.channelRMProcessSend=e.channelBase+"20",e.channelRMGetPrivateSpaceInfo=e.channelBase+"21",e.channelMRGetPrivateSpaceInfoResult=e.channelBase+"22",e.channelRMFileCopy=e.channelBase+"23",e.channelRMFileMove=e.channelBase+"24",e.channelMRFileCopyResult=e.channelBase+"25",e.channelMRFileMoveResult=e.channelBase+"26",e.channelRMGetSutitleByCid=e.channelBase+"27",e.channelMRGetSutitleByCidResult=e.channelBase+"28",e.channelRMGetSutitleByName=e.channelBase+"29",e.channelMRGetSutitleByNameResult=e.channelBase+"30",e.channelRMDownloadSutitle=e.channelBase+"31",e.channelMRDownloadSutitleSuc=e.channelBase+"32",e.channelMRDownloadSutitleFail=e.channelBase+"33",e.channelRMGetDisplayName=e.channelBase+"34",e.channelMRGetDisplayNameResult=e.channelBase+"35",e.channelMRBringWindowToTop=e.channelBase+"36",e.channelRMDownloadXmp=e.channelBase+"37",e.channelMRFixXmpSuc=e.channelBase+"38",e.channelMRFixXMPFail=e.channelBase+"39",e.channelMRAPlayerCreated=e.channelBase+"41",e.channelMRMainRendererNativeCallInited=e.channelBase+"42",e.channelMRShowWindow=e.channelBase+"43",e.channelMRCreateTopView=e.channelBase+"44",e.channelMRSendTopView=e.channelBase+"44.1",e.channelMRDestroyTopView=e.channelBase+"44.5",e.channelMRCreateTopViewReadyFinish=e.channelBase+"45",e.channelMRCreateTopViewFinish=e.channelBase+"45.5",e.channelMRCreateCtrlView=e.channelBase+"46",e.channelMRSendCtrlView=e.channelBase+"46.1",e.channelMRDestroyCtrlView=e.channelBase+"46.5",e.channelMRCreateCtrlViewReadyFinish=e.channelBase+"47",e.channelMRCreateCtrlViewFinish=e.channelBase+"47.5",e.channelMRCreateSideBar=e.channelBase+"48",e.channelMRCreateSideBarFinish=e.channelBase+"49",e.channelMRExpandListWindow=e.channelBase+"52",e.channelMRExpandListVue=e.channelBase+"53",e.channelMRSetChangeViewSize=e.channelBase+"54",e.channelMRSyncShowMode=e.channelBase+"55",e.channelMRAPWindowUpdate=e.channelBase+"56",e.channelMRUpdateAPlayerPos=e.channelBase+"57",e.channelMRXmpVideoTipCreated=e.channelBase+"58",e.channelMRXmpVideoTipDestroy=e.channelBase+"59",e.channelMRShowSettingCenterWindow=e.channelBase+"60",e.channelRMSetPosition=e.channelBase+"61",e.channelRMShowPlaySettingWindow=e.channelBase+"62",e.channelRMShowCursor=e.channelBase+"63",e.channelRMAPlayerState=e.channelBase+"64",e.channelRMAPlayerProgress=e.channelBase+"65",e.channelRMPlayAction=e.channelBase+"66",e.channelRMSetFoucs=e.channelBase+"67",e.channelMRSetZorder=e.channelBase+"68",e.channelRMGetBrowserStartType=e.channelBase+"69",e.channelMRGetBrowserStartTypeResult=e.channelBase+"70",e.channelMRWindowPopUp=e.channelBase+"71",e.channelMRUpdateTipWindowZorder=e.channelBase+"72",e.channelMRSetShadowWindowResize=e.channelBase+"73",e.channelMRBrowserWindowChange=e.channelBase+"74",e.channelMRChangeFullScreen=e.channelBase+"75",e.channelMRTabNumberChange=e.channelBase+"76",e.channelMRThumbTaskBarAction=e.channelBase+"77",e.channelMRThumbTaskBarButtonStatus=e.channelBase+"78",e.channelRMOpenFolder=e.channelBase+"79",e.channelRReCreateCtrlWindow=e.channelBase+"80",e.channelRReCreateTopWindow=e.channelBase+"81",e.channelRMSetEnvironmentVariable=e.channelBase+"82",e.channelRMServerStarted=e.channelBase+"83",e.channelRMOpenDevTools=e.channelBase+"84",e.channelEnterEditMode=e.channelBase+"85",e.channelUpdateEditRect=e.channelBase+"86",e.channelMessageBoxClose=e.channelBase+"87",e.channelPreventSleep=e.channelBase+"88",e.channelCancelPreventSleep=e.channelBase+"89",e.channelCloseEffectWindow=e.channelBase+"90",e.channelPopUpMenu=e.channelBase+"91",e.channelHideTray=e.channelBase+"92",e.channelEmbedMoveResize=e.channelBase+"94",e.channelTimeTipPos=e.channelBase+"95",e.channelUpdateVideoTip=e.channelBase+"96",e.channelGetBrowserView=e.channelBase+"97",e.channelGetBrowserViewResult=e.channelBase+"98",e.channelBrowserViewLoad=e.channelBase+"99",e.channelBrowserViewOpenDev=e.channelBase+"100",e.channelApplyBrowserView=e.channelBase+"101",e.channelCreateBrowserView=e.channelBase+"102",e.channelCreateBrowserViewResult=e.channelBase+"103",e.channelBrowserViewCall=e.channelBase+"104",e.channelBrowserViewCallRet=e.channelBase+"105",e.channelEmbedWindowRgn=e.channelBase+"106",e.channelRMUpdateLogEnviroment="RM_UPDATE_LOG_ENVIRONMENT",e.channelMRUpdateLogEnviroment="MR_UPDATE_LOG_ENVIRONMENT"}(t.ThunderChannelList||(t.ThunderChannelList={}))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ThunderUtil=void 0;const o=n(4),r=n(2),s=n(0),a=n(40),c=n(35),l=n(5),u=n(20),d=s.default.getLogger("Thunder.Util"),f="Thunder Network\\Xmp6\\";function h(e){let t=e;return 0===e.indexOf('"')&&e.lastIndexOf('"')===e.length-1?t=e.substring(1,e.length-1):0===e.indexOf("'")&&e.lastIndexOf("'")===e.length-1&&(t=e.substring(1,e.length-1)),t}!function(e){function t(){let e=c.ThunderHelper.getSystemTempPath(),t=c.ThunderHelper.getLogicalDriveStrings(),n=0;for(let i=0;i<t.length;i++){let o=c.ThunderHelper.getDriveInfo(t[i]);3===o.type&&n<o.freeBytes&&t[i]!==e&&(n=o.freeBytes,e=t[i])}return e.substring(0,1)+":\\迅雷下载"}function s(e){let t="00";return t=e>=10?e.toString():"0"+e.toString()}function p(e){let t=(e.style.webkitTransform||getComputedStyle(e,"").getPropertyValue("-webkit-transform")||e.style.transform||getComputedStyle(e,"").getPropertyValue("transform")).match(/\-?[0-9]+\.?[0-9]*/g);return{x:parseInt(t&&(t[12]||t[4])||"0",10),y:parseInt(t&&(t[13]||t[5])||"0",10)}}function m(e){let t=null;do{if(void 0===e||null===e)break;t=e.match(/[\/]?([^?]*)\?([^\s]*)/)?RegExp.$2:""}while(0);return t}function g(e){let t={};do{if(void 0===e||null===e)break;let n=/([^&=?]+)=([^&]*)/g;for(;n.exec(e);)t[RegExp.$1]=RegExp.$2}while(0);return t}e.formatSize=function(e,t){t=t||2;let n="0B";if("number"==typeof e&&e>0){let i=["B","KB","MB","GB","TB"],o=0,r=e;for(;r>=1e3&&!(o>=4);)r/=1024,o+=1;n=-1===String(r).indexOf(".")?r+i[o]:r.toFixed(t)+i[o]}return n},e.isDigital=function(e){let t=!1;return/^\d+$/.test(e)&&(t=!0),t},e.isAlpha=function(e){let t=!1;return/[A-Za-z]/.test(e)&&(t=!0),t},e.isUpperCase=function(e){let t=!1;return/[A-Z]/.test(e)&&(t=!0),t},e.isLowerCase=function(e){let t=!1;return/[a-z]/.test(e)&&(t=!0),t},e.isChinese=function(e){let t=!1;return/[\u4E00-\u9FA5]/.test(e)&&(t=!0),t},e.replaceNonDigital=function(e){return e.replace(/[^\d]/g,"")},e.replaceNonAlpha=function(e){return e.replace(/[^A-Za-z]/g,"")},e.replaceNonWord=function(e){return e.replace(/[^\W]/g,"")},e.getConfigValueAW=function(e,t,n){return i(this,void 0,void 0,function*(){return l.client.callServerFunction(u.ConfigFunction.getConfigValue,e,t,n)})},e.getDefaultDownloadDir=t,e.getMaxFreeDriver=function(){return t().substring(0,1)},e.deepCopy=function(e){let t=JSON.stringify(e),n=null;try{n=JSON.parse(t)}catch(e){d.warning(e)}return n},e.swap=function(e,t,n){do{if(t<0||t>=e.length)break;if(n<0||n>=e.length)break;if(t===n)break;e[t]=e.splice(n,1,e[t])[0]}while(0);return e},e.compareNocase=function(e,t){let n=!1;do{if(void 0===e&&void 0===t){n=!0;break}if(void 0===e||void 0===t)break;if("string"!=typeof e||"string"!=typeof t)break;n=e.toLowerCase()===t.toLowerCase()}while(0);return n},e.parseCommandLine=function(e){let t=0,n="",i=!1,o=[],r=e.length;for(let s=0;s<r;s++){let a=e[s];if('"'!==a&&"'"!==a||(""===n?(i=!0,n=a):n===a&&(i=!1,n=""))," "!==a||i||s===r-1){if(s===r-1){let n=e.substring(t);""!==n.trim()&&o.push(h(n))}}else{let n=e.substring(t,s);""!==n.trim()&&o.push(h(n)),t=s+1}}return o},e.getXmpTempPath=function(e,t){return i(this,void 0,void 0,function*(){const i=yield Promise.resolve().then(()=>n(22));let o=r.join(i.tmpdir(),f);return t&&(o=r.join(o,t)),void 0!==e&&e&&(yield a.FileSystemAWNS.mkdirsAW(o)),o})},e.setQueryString=function(e,t){return Object.keys(t).forEach((n,i)=>{e+=0===i?"?":"&",e+=`${n}=${encodeURIComponent(t[n])}`}),e},e.getQueryString=function(e,t){let n="";if(e&&t){n=e.match(new RegExp(`(^${t}|[?|&]${t})=([^&#]+)`))?RegExp.$2:"";try{n=decodeURIComponent(n)}catch(e){}}return n},e.isClipboardTextFormatAvailable=function(){let e=!1,t=o.clipboard.availableFormats();for(let n of t)if("text/plain"===n){e=!0;break}return e},e.resizeToFitContent=function(){let e=document.querySelector(".td-dialog");window.resizeTo(e.offsetWidth,e.offsetHeight)},e.keywordsHighLight=function(e,t,n){if(!e)return"";if(!t)return e;if(0===e.length)return e;if(0===t.length)return e;let i=/\\/,o=t.split(" ");if(0===(o=o.filter(e=>e.trim().length>0)).length)return e;for(let t=0;t<o.length;t++)if(o[t].search(i)>0)return e;n=void 0===n||null===n?"#FF0000":n;let r="",s=["\\[","\\^","\\*","\\(","\\)","\\|","\\?","\\$","\\.","\\+"],a="",c="|";for(let e=0;e<o.length;e++){for(let t=0;t<s.length;t++){let n=new RegExp(s[t],"g");o[e]=o[e].replace(n,s[t])}e===o.length-1&&(c=""),a=a.concat(o[e],c)}let l=new RegExp(a,"gi");return r=e.replace(l,e=>'<span style= "color:'+n+'">'+e+"</span>")},e.convertTimeToMinutes=function(e,t,n){return 3600*e+60*t+n},e.convertMinuteToTime=function(e){return[Math.floor(e/3600),Math.floor(e/60%60),Math.floor(e%60)]},e.formatTimeNumber=s,e.createGUID=function(){let e;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t,n)=>(e=16*Math.random()|0,("x"===t?e:3&e|8).toString(16)))},e.formatDate=function(e,t){let n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(let t in n)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[t]:("00"+n[t]).substr((""+n[t]).length)));return e},e.formatMilliSecondTime2=function(e){let t=((e=Math.floor(e))%1e3).toString();1===t.length?t="00"+t:2===t.length&&(t="0"+t),e=Math.floor(e/1e3);let n=[];for(;e>0;){let t=Math.floor(e/60);if(n.push(e-60*t),e=t,n.length>=3)break}let i="";return i=1===n.length?s(n[0])+"秒":2===n.length?s(n[1])+"分"+s(n[0])+"秒":3===n.length?s(n[2])+"时"+s(n[1])+"分"+s(n[0])+"秒":"0秒"},e.formatMilliSecondTime=function(e,t,n=":"){let i=((e=Math.floor(e))%1e3).toString();1===i.length?i="00"+i:2===i.length&&(i="0"+i),e=Math.floor(e/1e3);let o=[];for(;e>0;){let t=Math.floor(e/60);if(o.push(e-60*t),e=t,o.length>=3)break}let r="";return r=1===o.length?`00${n}00${n}`+s(o[0]):2===o.length?`00${n}`+s(o[1])+`${n}`+s(o[0]):3===o.length?s(o[2])+n+s(o[1])+n+s(o[0]):`00${n}00${n}00`,t&&(r+=n+i),r},e.formatSeconds=function(e){let t="";do{if(e<=0){t="00分00秒";break}let n=Math.floor(e/3600),i=Math.floor(e/60)%60,o=Math.floor(e%60);n>0&&(t=n<10?"0"+n+"时":n+"时"),t=(t+=i<10?"0"+i+"分":i+"分")+(o<10?"0"+o:""+o)+"秒"}while(0);return t},e.isDef=function(e){return void 0!==e&&null!==e},e.isUndef=function(e){return void 0===e||null===e},e.setStyle=function(e,t){Object.entries(t).forEach(([t,n])=>{e.style[t]=n})},e.setCSSProperties=function(e,t){Object.entries(t).forEach(([t,n])=>{e.style.setProperty(t,n)})},e.versionCompare=function(e,t){let n=e.split("."),i=t.split("."),o=0;for(let e=0;e<n.length;e++){if(Number(n[e])-Number(i[e])>0){o=1;break}if(Number(n[e])-Number(i[e])<0){o=-1;break}}return o},e.throttle=function(e,t){let n,i=0;return(...o)=>{const r=Date.now();clearTimeout(n),r-i>t?(e(...o),i=r):n=setTimeout(()=>{e(...o),i=r},t)}},e.getElementFixed=function(e){let t=e.offsetLeft,n=e.offsetTop,i=e.offsetParent;for(;null!==i;){let e=p(i);t+=i.offsetLeft+e.x,n+=i.offsetTop+e.y,i=i.offsetParent}return{x:t,y:n}},e.getElementRelative=function(e){let t=e.offsetLeft,n=e.offsetTop,i=e.offsetParent;for(;null!==i;)t+=i.offsetLeft,n+=i.offsetTop,i=i.offsetParent;return{x:t,y:n}},e.getCmdParam=function(e,t,n){if(!e)return{};let i,o={};for(let r=0;r<e.length;r++)if(e[r].includes(t)){o.key=t,o.index=r,n&&(i=e[r].split(n))&&(o.val=i[1]);break}return o},e.parseDynamicUrlPath=m,e.parseDynamicUrlArgs=g,e.getUrlArgs=function(e){return g(m(e))},e.debounce=function(e,t){let n=null;return(...i)=>{n&&clearTimeout(n),n=setTimeout(()=>{e(...i)},t)}}}(t.ThunderUtil||(t.ThunderUtil={}))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemAWNS=void 0;const o=n(51),r=n(2),s=n(18),a=n(22),c=s.promisify,l=n(0).default.getLogger("Thunder.base.fs-utilities");!function(e){function t(e){return i(this,void 0,void 0,function*(){let t=null;if(void 0!==e){const n=c(o.open);try{t=yield n(e,"r")}catch(e){l.warning(e)}}return t})}function n(e){return i(this,void 0,void 0,function*(){let t=!1;if(void 0!==e){const n=c(o.access);try{yield n(e),t=!0}catch(e){l.information(e)}}return t})}function s(e){return i(this,void 0,void 0,function*(){let t=!1;if(void 0!==e){const n=c(o.mkdir);try{yield n(e),t=!0}catch(e){l.warning(e)}}return t})}function u(e){return i(this,void 0,void 0,function*(){let t=!1;if(void 0!==e){const n=c(o.rmdir);try{yield n(e),t=!0}catch(e){l.warning(e)}}return t})}function d(e){return i(this,void 0,void 0,function*(){let t=!1;if(void 0!==e){const n=c(o.unlink);try{yield n(e),t=!0}catch(e){l.warning(e)}}return t})}function f(e){return i(this,void 0,void 0,function*(){let t=null;if(void 0!==e){const n=c(o.readdir);try{t=yield n(e)}catch(e){l.warning(e)}}return t})}function h(e){return i(this,void 0,void 0,function*(){let t=null;if(void 0!==e){const n=c(o.lstat);try{t=yield n(e)}catch(e){l.warning(e)}}return t})}function p(e,t){return i(this,void 0,void 0,function*(){let n=!1;if(void 0!==e&&void 0!==t){let i=r.join(e,t),o=yield h(i);n=null!==o&&o.isDirectory()?yield m(i):yield d(i)}return n})}function m(e){return i(this,void 0,void 0,function*(){let t=!1;if(void 0!==e){if(yield n(e)){t=!0;let n=yield f(e);for(let i=0;i<n.length;i++)t=(yield p(e,n[i]))&&t;(t||0===n.length)&&(t=(yield u(e))&&t)}}return t})}function g(e){return i(this,void 0,void 0,function*(){let t=!1;return l.information("mkdirsAW",e),void 0!==e&&((yield n(e))?t=!0:r.dirname(e)===e?t=!1:(yield g(r.dirname(e)))&&(t=yield s(e))),t})}function v(e,t){return i(this,void 0,void 0,function*(){let i;if(e.toLowerCase()!==t.toLowerCase()&&(yield n(e))){let n=o.createReadStream(e),r=o.createWriteStream(t);i=new Promise(e=>{n.pipe(r).on("finish",()=>{e(!0)})})}else i=new Promise(e=>{e(!1)});return i})}e.readFileAW=function(e){return i(this,void 0,void 0,function*(){let t=null;if(void 0!==e){const n=c(o.readFile);try{t=yield n(e)}catch(e){l.warning(e)}}return t})},e.openFile=t,e.readFilePartAw=function(e,n,r,s=0){return i(this,void 0,void 0,function*(){let i={bytesRead:0,buffer:new Buffer(0)},a=yield t(e);if(!a)return i;const u=c(o.read);try{let e=new Buffer(r);i=yield u(a,e,n,r,s),e=void 0}catch(e){l.warning(e)}return yield c(o.close)(a),i})},e.writeFileAW=function(e,t){return i(this,void 0,void 0,function*(){let n=!1;if(void 0!==e&&null!==t){const i=c(o.writeFile);try{yield i(e,t),n=!0}catch(e){l.warning(e)}}return n})},e.existsAW=n,e.mkdirAW=s,e.rmdirAW=u,e.unlinkAW=d,e.readdirAW=f,e.readdirAllFiles=function e(t){return i(this,void 0,void 0,function*(){let i=!1,o=[],s=yield h(t),a=yield f(t);for(let c=0;c<a.length;c++){let l=r.join(t,a[c]);(i=yield n(l))&&((s=yield h(l)).isDirectory()?o.push(...yield e(l)):o.push(l))}return o})},e.lstatAW=h,e.rmdirsAW=m,e.mkdirsAW=g,e.renameAW=function(e,t){return i(this,void 0,void 0,function*(){if(void 0!==e&&void 0!==t){const n=c(o.rename);try{yield n(e,t)}catch(e){l.warning(e)}}})},e.copyFileAW=v,e.copyDirsAW=function e(t,o){return i(this,void 0,void 0,function*(){let i=!1,s=yield h(t);if(s.isDirectory()){i=yield g(o);let a=yield f(t);for(let c=0;c<a.length;c++){let l=r.join(t,a[c]),u=r.join(o,a[c]);(i=yield n(l))&&(i=(s=yield h(l)).isDirectory()?yield e(l,u):yield v(l,u))}}return i})},e.mkdtempAW=function(){return i(this,void 0,void 0,function*(){let e=!1;const t=c(o.mkdtemp),n=a.tmpdir();try{e=yield t(`${n}${r.sep}`)}catch(e){l.warning(e)}return e})},e.getFileSize=function e(t){return i(this,void 0,void 0,function*(){let i=0;do{if(!t)break;if(!(yield n(t)))break;let o=yield h(t);if(o)if(o.isDirectory()){let n=yield f(t);for(let o=0;o<n.length;o++)i+=(yield e(r.join(t,n[o])))}else i=o.size}while(0);return i})}}(t.FileSystemAWNS||(t.FileSystemAWNS={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayCardInfo=t.DetailIndex=t.PanelID=t.XmpPlaySoure=t.WindowParams=t.CombineRgnType=t.ZOrderChangedType=t.WindowTopMode=t.XmpMode=t.ShowWindowCmd=t.VirtualKeyCode=t.HitTestPositionCode=t.GWCmd=t.WindowMessage=t.SetWindowType=t.WindowStyleEx=t.WindowStyle=t.CmdShow=t.Uflag=t.OptionOfHWNDInAfter=void 0,function(e){e[e.HWND_NOTOPMOST=-2]="HWND_NOTOPMOST",e[e.HWND_TOPMOST=-1]="HWND_TOPMOST",e[e.HWND_TOP=0]="HWND_TOP",e[e.HWND_BOTTOM=1]="HWND_BOTTOM"}(t.OptionOfHWNDInAfter||(t.OptionOfHWNDInAfter={})),function(e){e[e.SWP_ASYNCWINDOWPOS=16384]="SWP_ASYNCWINDOWPOS",e[e.SWP_DEFERERASE=8192]="SWP_DEFERERASE",e[e.SWP_DRAWFRAME=32]="SWP_DRAWFRAME",e[e.SWP_FRAMECHANGED=32]="SWP_FRAMECHANGED",e[e.SWP_HIDEWINDOW=128]="SWP_HIDEWINDOW",e[e.SWP_NOACTIVATE=16]="SWP_NOACTIVATE",e[e.SWP_NOCOPYBITS=256]="SWP_NOCOPYBITS",e[e.SWP_NOMOVE=2]="SWP_NOMOVE",e[e.SWP_NOOWNERZORDER=512]="SWP_NOOWNERZORDER",e[e.SWP_NOREDRAW=8]="SWP_NOREDRAW",e[e.SWP_NOREPOSITION=512]="SWP_NOREPOSITION",e[e.SWP_NOSENDCHANGING=1024]="SWP_NOSENDCHANGING",e[e.SWP_NOSIZE=1]="SWP_NOSIZE",e[e.SWP_NOZORDER=4]="SWP_NOZORDER",e[e.SWP_SHOWWINDOW=64]="SWP_SHOWWINDOW"}(t.Uflag||(t.Uflag={})),function(e){e[e.SW_FORCEMINIMIZE=11]="SW_FORCEMINIMIZE",e[e.SW_HIDE=0]="SW_HIDE",e[e.SW_MAXIMIZE=3]="SW_MAXIMIZE",e[e.SW_MINIMIZE=6]="SW_MINIMIZE",e[e.SW_RESTORE=9]="SW_RESTORE",e[e.SW_SHOW=5]="SW_SHOW",e[e.SW_SHOWDEFAULT=10]="SW_SHOWDEFAULT",e[e.SW_SHOWMAXIMIZED=3]="SW_SHOWMAXIMIZED",e[e.SW_SHOWMINIMIZED=2]="SW_SHOWMINIMIZED",e[e.SW_SHOWMINNOACTIVE=7]="SW_SHOWMINNOACTIVE",e[e.SW_SHOWNA=8]="SW_SHOWNA",e[e.SW_SHOWNOACTIVATE=4]="SW_SHOWNOACTIVATE",e[e.SW_SHOWNORMAL=1]="SW_SHOWNORMAL"}(t.CmdShow||(t.CmdShow={})),function(e){e[e.WS_BORDER=8388608]="WS_BORDER",e[e.WS_CAPTION=12582912]="WS_CAPTION",e[e.WS_CHILD=1073741824]="WS_CHILD",e[e.WS_CHILDWINDOW=1073741824]="WS_CHILDWINDOW",e[e.WS_CLIPCHILDREN=33554432]="WS_CLIPCHILDREN",e[e.WS_CLIPSIBLINGS=67108864]="WS_CLIPSIBLINGS",e[e.WS_POPUP=2147483648]="WS_POPUP",e[e.WS_THICKFRAME=262144]="WS_THICKFRAME"}(t.WindowStyle||(t.WindowStyle={})),function(e){e[e.WS_EX_TOOLWINDOW=128]="WS_EX_TOOLWINDOW",e[e.WS_EX_APPWINDOW=262144]="WS_EX_APPWINDOW",e[e.WS_EX_TOPMOST=8]="WS_EX_TOPMOST",e[e.WS_EX_WINDOWEDGE=256]="WS_EX_WINDOWEDGE",e[e.WS_EX_NOACTIVATE=134217728]="WS_EX_NOACTIVATE"}(t.WindowStyleEx||(t.WindowStyleEx={})),function(e){e[e.GWL_EXSTYLE=-20]="GWL_EXSTYLE",e[e.GWL_HINSTANCE=-6]="GWL_HINSTANCE",e[e.GWL_ID=-12]="GWL_ID",e[e.GWL_STYLE=-16]="GWL_STYLE",e[e.GWL_USERDATA=-21]="GWL_USERDATA",e[e.GWL_WNDPROC=-4]="GWL_WNDPROC"}(t.SetWindowType||(t.SetWindowType={})),function(e){e[e.WM_CREATE=1]="WM_CREATE",e[e.WM_DESTROY=2]="WM_DESTROY",e[e.WM_MOVE=3]="WM_MOVE",e[e.WM_SIZE=5]="WM_SIZE",e[e.WM_ACTIVATE=6]="WM_ACTIVATE",e[e.WM_SETFOCUS=7]="WM_SETFOCUS",e[e.WM_KILLFOCUS=8]="WM_KILLFOCUS",e[e.WM_ENABLE=10]="WM_ENABLE",e[e.WM_KEYDOWN=256]="WM_KEYDOWN",e[e.WM_KEYUP=257]="WM_KEYUP",e[e.WM_SYSKEYDOWN=260]="WM_SYSKEYDOWN",e[e.WM_MOUSEMOVE=512]="WM_MOUSEMOVE",e[e.WM_SETCURSOR=32]="WM_SETCURSOR",e[e.WM_LBUTTONDOWN=513]="WM_LBUTTONDOWN",e[e.WM_LBUTTONUP=514]="WM_LBUTTONUP",e[e.WM_LBUTTONDBLCLK=515]="WM_LBUTTONDBLCLK",e[e.WM_RBUTTONUP=517]="WM_RBUTTONUP",e[e.WM_MOUSEWHEEL=522]="WM_MOUSEWHEEL",e[e.WM_MOUSELEAVE=675]="WM_MOUSELEAVE",e[e.WM_DPICHANGED=736]="WM_DPICHANGED",e[e.WM_GETMINMAXINFO=36]="WM_GETMINMAXINFO",e[e.WM_NCHITTEST=132]="WM_NCHITTEST",e[e.WM_NCMOUSEMOVE=160]="WM_NCMOUSEMOVE",e[e.WM_NCLBUTTONDOWN=161]="WM_NCLBUTTONDOWN",e[e.WM_NCLBUTTONUP=162]="WM_NCLBUTTONUP",e[e.WM_NCLBUTTONDBLCLK=163]="WM_NCLBUTTONDBLCLK",e[e.WM_NCRBUTTONDOWN=164]="WM_NCRBUTTONDOWN",e[e.WM_NCRBUTTONUP=165]="WM_NCRBUTTONUP",e[e.WM_NCRBUTTONDBLCLK=166]="WM_NCRBUTTONDBLCLK",e[e.WM_NCMBUTTONDOWN=167]="WM_NCMBUTTONDOWN",e[e.WM_NCMBUTTONUP=168]="WM_NCMBUTTONUP",e[e.WM_NCMBUTTONDBLCLK=169]="WM_NCMBUTTONDBLCLK",e[e.WM_WINDOWPOSCHANGED=71]="WM_WINDOWPOSCHANGED",e[e.WM_WINDOWPOSCHANGING=70]="WM_WINDOWPOSCHANGING",e[e.WM_ACTIVATEAPP=28]="WM_ACTIVATEAPP",e[e.WM_DWMCOMPOSITIONCHANGED=798]="WM_DWMCOMPOSITIONCHANGED"}(t.WindowMessage||(t.WindowMessage={})),function(e){e[e.GW_HWNDFIRST=0]="GW_HWNDFIRST",e[e.GW_HWNDLAST=1]="GW_HWNDLAST",e[e.GW_HWNDNEXT=2]="GW_HWNDNEXT",e[e.GW_HWNDPREV=3]="GW_HWNDPREV",e[e.GW_OWNER=4]="GW_OWNER",e[e.GW_CHILD=5]="GW_CHILD",e[e.GW_ENABLEDPOPUP=6]="GW_ENABLEDPOPUP"}(t.GWCmd||(t.GWCmd={})),function(e){e[e.HTERROR=-2]="HTERROR",e[e.HTTRANSPARENT=-1]="HTTRANSPARENT",e[e.HTNOWHERE=0]="HTNOWHERE",e[e.HTCLIENT=1]="HTCLIENT",e[e.HTCAPTION=2]="HTCAPTION",e[e.HTSYSMENU=3]="HTSYSMENU",e[e.HTGROWBOX=4]="HTGROWBOX",e[e.HTSIZE=4]="HTSIZE",e[e.HTMENU=5]="HTMENU",e[e.HTHSCROLL=6]="HTHSCROLL",e[e.HTVSCROLL=7]="HTVSCROLL",e[e.HTMINBUTTON=8]="HTMINBUTTON",e[e.HTMAXBUTTON=9]="HTMAXBUTTON",e[e.HTLEFT=10]="HTLEFT",e[e.HTRIGHT=11]="HTRIGHT",e[e.HTTOP=12]="HTTOP",e[e.HTTOPLEFT=13]="HTTOPLEFT",e[e.HTTOPRIGHT=14]="HTTOPRIGHT",e[e.HTBOTTOM=15]="HTBOTTOM",e[e.HTBOTTOMLEFT=16]="HTBOTTOMLEFT",e[e.HTBOTTOMRIGHT=17]="HTBOTTOMRIGHT",e[e.HTBORDER=18]="HTBORDER",e[e.HTREDUCE=8]="HTREDUCE",e[e.HTZOOM=9]="HTZOOM",e[e.HTSIZEFIRST=10]="HTSIZEFIRST",e[e.HTSIZELAST=17]="HTSIZELAST",e[e.HTOBJECT=19]="HTOBJECT",e[e.HTCLOSE=20]="HTCLOSE",e[e.HTHELP=21]="HTHELP"}(t.HitTestPositionCode||(t.HitTestPositionCode={})),function(e){e[e.VK_LBUTTON=1]="VK_LBUTTON",e[e.VK_RBUTTON=2]="VK_RBUTTON",e[e.VK_MBUTTON=4]="VK_MBUTTON",e[e.VK_BACK=8]="VK_BACK",e[e.VK_TAB=9]="VK_TAB",e[e.VK_RETURN=13]="VK_RETURN",e[e.VK_SHIFT=16]="VK_SHIFT",e[e.VK_CONTROL=17]="VK_CONTROL",e[e.VK_MENU=18]="VK_MENU",e[e.VK_ESCAPE=27]="VK_ESCAPE",e[e.VK_SPACE=32]="VK_SPACE",e[e.VK_PRIOR=33]="VK_PRIOR",e[e.VK_NEXT=34]="VK_NEXT",e[e.VK_END=35]="VK_END",e[e.VK_LEFT=37]="VK_LEFT",e[e.VK_UP=38]="VK_UP",e[e.VK_RIGHT=39]="VK_RIGHT",e[e.VK_DOWN=40]="VK_DOWN",e[e.VK_DELETE=46]="VK_DELETE",e[e.VK_F1=112]="VK_F1",e[e.VK_F2=113]="VK_F2",e[e.VK_F3=114]="VK_F3",e[e.VK_F4=115]="VK_F4",e[e.VK_F5=116]="VK_F5",e[e.VK_F6=117]="VK_F6",e[e.VK_F7=118]="VK_F7",e[e.VK_F8=119]="VK_F8",e[e.VK_F9=120]="VK_F9",e[e.VK_F10=121]="VK_F10",e[e.VK_F11=122]="VK_F11",e[e.VK_F12=123]="VK_F12",e[e.VK_OEM_1=186]="VK_OEM_1",e[e.VK_OEM_PLUS=187]="VK_OEM_PLUS",e[e.VK_OEM_COMMA=188]="VK_OEM_COMMA",e[e.VK_OEM_MINUS=189]="VK_OEM_MINUS",e[e.VK_OEM_PERIOD=190]="VK_OEM_PERIOD",e[e.VK_OEM_2=191]="VK_OEM_2",e[e.VK_OEM_3=192]="VK_OEM_3",e[e.VK_OEM_4=219]="VK_OEM_4",e[e.VK_OEM_5=220]="VK_OEM_5",e[e.VK_OEM_6=221]="VK_OEM_6",e[e.VK_OEM_7=222]="VK_OEM_7",e[e.VK_PROCESSKEY=229]="VK_PROCESSKEY"}(t.VirtualKeyCode||(t.VirtualKeyCode={})),function(e){e[e.SW_HIDE=0]="SW_HIDE",e[e.SW_SHOWMAXIMIZED=3]="SW_SHOWMAXIMIZED",e[e.SW_SHOW=5]="SW_SHOW"}(t.ShowWindowCmd||(t.ShowWindowCmd={})),function(e){e[e.UNKNOWN_MODE=-1]="UNKNOWN_MODE",e[e.INDEPENDENT_MODE=0]="INDEPENDENT_MODE",e[e.MAGNETIC_MODE=1]="MAGNETIC_MODE",e[e.EMBED_MODE=2]="EMBED_MODE"}(t.XmpMode||(t.XmpMode={})),function(e){e[e.NO_TOPMOST_MODE=0]="NO_TOPMOST_MODE",e[e.PLAYING_TOPMOST_MODE=1]="PLAYING_TOPMOST_MODE",e[e.ALWAYLS_TOPMOST_MODE=2]="ALWAYLS_TOPMOST_MODE"}(t.WindowTopMode||(t.WindowTopMode={})),function(e){e[e.ZORDER_CHANGED_TYPE_UNKNOW=-1]="ZORDER_CHANGED_TYPE_UNKNOW",e[e.ZORDER_CHANGED_TYPE_BEFORE=0]="ZORDER_CHANGED_TYPE_BEFORE",e[e.ZORDER_CHANGED_TYPE_AFTER=1]="ZORDER_CHANGED_TYPE_AFTER"}(t.ZOrderChangedType||(t.ZOrderChangedType={})),function(e){e[e.RGN_AND=1]="RGN_AND",e[e.RGN_OR=2]="RGN_OR",e[e.RGN_XOR=3]="RGN_XOR",e[e.RGN_DIFF=4]="RGN_DIFF",e[e.RGN_COPY=5]="RGN_COPY"}(t.CombineRgnType||(t.CombineRgnType={})),function(e){e[e.DEFAULT_WIDTH=850]="DEFAULT_WIDTH",e[e.DEFAULT_HEIGHT=550]="DEFAULT_HEIGHT",e[e.MIN_WINDOW_WIDTH=350]="MIN_WINDOW_WIDTH",e[e.MIN_WINDOW_HEIGHT=200]="MIN_WINDOW_HEIGHT",e[e.TOPCTRL_HEIGHT=42]="TOPCTRL_HEIGHT",e[e.PLAYCTRL_HEIGHT=62]="PLAYCTRL_HEIGHT"}(t.WindowParams||(t.WindowParams={})),function(e){e[e.PLAY_UNKNOWN=0]="PLAY_UNKNOWN",e[e.PLAY_BY_DOWNLOAD=1]="PLAY_BY_DOWNLOAD",e[e.PLAY_BY_PAN=2]="PLAY_BY_PAN"}(t.XmpPlaySoure||(t.XmpPlaySoure={})),function(e){e.Download="download-panel",e.Cloud="pan-plugin-view",e.Browser="find-page",e.Message="message-page"}(t.PanelID||(t.PanelID={})),function(e){e.Preview="Preview",e.Speed="TaskChart",e.Attribute="Attribute"}(t.DetailIndex||(t.DetailIndex={}));t.DisplayCardInfo=class{}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.rpc=void 0;const o=n(28),r=n(4),s=n(8),a=n(18);t.rpc=new class{constructor(){this.mapObj=new Map,this.mapObjIniting=new Map,this.emitter=new s.EventEmitter}isXmpLiteEx(){return"renderer"!==process.type&&"xmplite"===r.app.getName()}getAppName(){return i(this,void 0,void 0,function*(){if(void 0===this.appName){let e=yield this.getApp();this.appName=yield e.getName()}return this.appName})}isXmpLite(){return i(this,void 0,void 0,function*(){return"xmplite"===(yield this.getAppName())})}getAppVersion(){return i(this,void 0,void 0,function*(){if(void 0===this.appVersion){let e=yield this.getApp();this.appVersion=yield e.getVersion()}return this.appVersion})}getProcess(){return i(this,void 0,void 0,function*(){return o.global.process.__resolve()})}getIpcMain(){return i(this,void 0,void 0,function*(){return this.getCurrentObject("ipcMain")})}getDialog(){return i(this,void 0,void 0,function*(){return this.getCurrentObject("dialog")})}getApp(){return i(this,void 0,void 0,function*(){return this.getCurrentObject("app")})}getShell(){return i(this,void 0,void 0,function*(){return this.getCurrentObject("shell")})}getMenu(){return i(this,void 0,void 0,function*(){return this.getCurrentObject("Menu")})}getScreen(){return i(this,void 0,void 0,function*(){return this.getCurrentObject("screen")})}getWebContents(){return i(this,void 0,void 0,function*(){return this.getCurrentObject("webContents")})}getBrowserWindow(){return i(this,void 0,void 0,function*(){return this.getCurrentObject("BrowserWindow")})}getGlobalShortcut(){return i(this,void 0,void 0,function*(){return this.getCurrentObject("globalShortcut")})}getCurrentWebContents(){return i(this,void 0,void 0,function*(){let e=this.mapObj.get("currentWebContents");return void 0===e&&(this.mapObjIniting.get("currentWebContents")?e=yield new Promise(e=>i(this,void 0,void 0,function*(){this.emitter.on("OnInitCurrentWebContents",t=>{e(t)})})):(this.mapObjIniting.set("currentWebContents",!0),e=yield o.getCurrentWebContents().__resolve(),this.mapObjIniting.set("currentWebContents",!1),this.emitter.emit("OnInitCurrentWebContents",e),this.emitter.listeners("OnInitCurrentWebContents").forEach(e=>{this.emitter.removeListener("OnInitCurrentWebContents",e)})),this.mapObj.set("currentWebContents",e)),e})}getCurrentWindow(){return i(this,void 0,void 0,function*(){let e=this.mapObj.get("currentWindow");return void 0===e&&(this.mapObjIniting.get("currentWindow")?e=yield new Promise(e=>i(this,void 0,void 0,function*(){this.emitter.on("OnInitCurrentWindow",t=>{e(t)})})):(this.mapObjIniting.set("currentWindow",!0),e=yield o.getCurrentWindow().__resolve(),this.mapObjIniting.set("currentWindow",!1),this.emitter.emit("OnInitCurrentWindow",e),this.emitter.listeners("OnInitCurrentWindow").forEach(e=>{this.emitter.removeListener("OnInitCurrentWindow",e)})),this.mapObj.set("currentWindow",e)),e})}getCurrentObject(e){return i(this,void 0,void 0,function*(){let t=this.mapObj.get(e);return a.isNullOrUndefined(t)&&(this.mapObjIniting.get(e)?t=yield new Promise(t=>i(this,void 0,void 0,function*(){this.emitter.on(e,e=>{t(e)})})):(this.mapObjIniting.set(e,!0),t=yield o.electron[e].__resolve(),this.mapObjIniting.set(e,!1),this.emitter.emit(e,t),this.emitter.listeners(e).forEach(t=>{this.emitter.removeListener(e,t)})),this.mapObj.set(e,t)),t})}}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(15),o=n(1).document,r=i(o)&&i(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},function(e,t,n){var i=n(53)("keys"),o=n(48);e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){"use strict";var i=n(30);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=i(t),this.reject=i(n)}(e)}},function(e,t,n){"use strict";n.r(t);var i={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",e._g({staticClass:"td-button",class:{"td-button--secondary":e.secondary,"is-disabled":e.disabled,"td-button--small":"small"===e.size,"td-button--large":"large"===e.size},attrs:{disabled:e.disabled}},e.$listeners),[e._t("default")],2)},staticRenderFns:[],name:"td-button",props:{secondary:Boolean,disabled:Boolean,size:String},install:function(e){e.component(i.name,i)}};t.default=i},function(e,t){e.exports=require("fs")},function(e,t,n){var i=n(43),o=Math.min;e.exports=function(e){return e>0?o(i(e),9007199254740991):0}},function(e,t,n){var i=n(7),o=n(1),r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(29)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},,,function(e,t,n){"use strict";n.r(t);var i={render:function(){var e=this.$createElement,t=this._self._c||e;return this.svg?t("svg",{staticClass:"td-icon-svg",class:"td-icon-svg-"+this.type,attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#td-icon-svg-"+this.type}})]):t("i",{class:"td-icon-"+this.type})},staticRenderFns:[],name:"td-icon",props:{type:{type:String,require:!0},svg:{type:Boolean,default:!1}},install:function(e){e.component(i.name,i)}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(18),r=n(2),s=n(12).default(r.join(__rootDir,"../bin/ThunderHelper.node")),a=n(38),c=n(4);function l(){"console"===process.env.TL_OUTPUT?i.default.outputLogger=i.outputLoggerConsole:i.default.outputLogger=function(){function e(e){return function(...t){s.printEtwLog(e,function(...e){return e.map(e=>o.inspect(e)).join(" ").replace(/%/g,"%%")}(...t))}}return{[i.LogLevel.Critical]:e(i.LogLevel.Critical),[i.LogLevel.Error]:e(i.LogLevel.Error),[i.LogLevel.Warning]:e(i.LogLevel.Warning),[i.LogLevel.Information]:e(i.LogLevel.Information),[i.LogLevel.Verbose]:e(i.LogLevel.Verbose)}}()}function u(){i.default.enableLogger="1"===process.env.TL_ENABLE,l()}l(),"browser"===process.type?c.ipcMain.on(a.ThunderChannelList.channelRMUpdateLogEnviroment,()=>{u()}):"renderer"===process.type&&c.ipcRenderer.on(a.ThunderChannelList.channelMRUpdateLogEnviroment,()=>{u()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(60),o=n(8),r=n(32),s=n(61),a=n(19);t.Client=class extends o.EventEmitter{constructor(e){if(e=e||{},super(),this.inprocess=!1,this.context=void 0,e.context&&(this.context=Object.assign({},e.context),this.context.productId=e.socketPrex),e.socket)this.socket=e.socket,this.bind();else if(global.__xdasIPCServer&&global.__xdasIPCServer.getProductId().toLowerCase()===e.socketPrex.toLowerCase())this.inprocess=!0;else{let t=a.getSockPath(e.socketPrex);this.socket=i.connect(t),this.bind()}}isInprocess(){return this.inprocess}getContext(){return this.context}bind(){const e=new s.Parser,t=this.socket;t.on("data",t=>{e.feed(t)}),t.on("connect",()=>{this.emit("connect")}),t.on("end",()=>{r.information("socket is ended"),this.socket=null,this.emit("end")}),t.on("error",e=>{this.socket=null,this.emit("error",e)}),e.on("message",e=>{this.emit("message",e)}),this.parser=e}send(e){if(this.socket)try{this.socket.write(this.parser.encode(e))}catch(e){r.error(e.message)}else r.information("This socket has been ended by the other party",this.context&&this.context.name)}}},function(e,t){e.exports=require("net")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(62),o=n(8);t.Parser=class extends o.EventEmitter{constructor(){super(),this.decoder=new i.StringDecoder("utf8"),this.jsonBuffer=""}encode(e){return JSON.stringify(e)+"\n"}feed(e){let t=this.jsonBuffer,n=0,i=(t+=this.decoder.write(e)).indexOf("\n",n);for(;i>=0;){const e=t.slice(n,i),o=JSON.parse(e);this.emit("message",o),n=i+1,i=t.indexOf("\n",n)}this.jsonBuffer=t.slice(n)}}},function(e,t){e.exports=require("string_decoder")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWebContents=t.getCurrentWebContents=t.getCurrentWindow=t.getGlobal=t.getBuiltin=t.remoteRequire=t.Interest=void 0;const i=n(4),o=n(64),r=n(65),s=n(66),a=n(33),c=n(67),l=n(9),u=n(34),d=i.ipcRenderer,f=process.electronBinding("v8_util"),h=new r.default,p=f.createIDWeakMap(),m=f.getHiddenValue(global,"contextId");class g{constructor(e){if("object"==typeof e?(this.on="object"==typeof e.on?e.on:{},this.once="object"==typeof e.once?e.once:{}):(this.on={},this.once={}),!this.check())throw new Error("unexpected param")}check(){let e=!0;do{let t=Object.getOwnPropertyNames(this.on);if(t.forEach(t=>{"function"!=typeof this.on[t]&&(e=!1)}),!e)break;(t=Object.getOwnPropertyNames(this.once)).forEach(t=>{"function"!=typeof this.once[t]&&(e=!1)})}while(0);return e}}function v(e,t=new Set){const n=e=>{if(t.has(e))return{type:"value",value:null};let i=e;if(Array.isArray(e)){t.add(e);let n={type:"array",value:v(e,t)};return t.delete(e),n}if(ArrayBuffer.isView(i))return{type:"buffer",value:o.Buffer.from(e)};if(e instanceof Date)return{type:"date",value:e.getTime()};if(null!=e&&"object"==typeof e){if(u.isPromise(e))return{type:"promise",then:n(function(t,n){e.then(t,n)})};if(f.getHiddenValue(e,"__remote_id__"))return{type:"remote-object",id:f.getHiddenValue(e,"__remote_id__")};let i={type:e instanceof g?"interest":"object",name:e.constructor?e.constructor.name:"",members:[]};t.add(e);for(let t in e)i.members.push({name:t,value:n(e[t])});return t.delete(e),i}if("function"==typeof e){return{type:"function",id:h.add(e),location:f.getHiddenValue(e,"__remote_call_location__"),length:e.length}}return{type:"value",value:e}};return e.map(n)}function _(e,t,n){u.isPromise(e)?e.then(e=>{t(e)},e=>{n(e)}):t(e)}function w(e,t,n,i=!1){const o=t=>{if(e.hasOwnProperty(t.name)&&!i)return;let n,o={enumerable:t.enumerable,configurable:!0};if("method"===t.type){if(t.value.refId){if(p.has(t.value.refId)&&(n=p.get(t.value.refId)),null==n)throw new Error("member refId pointer to null"+t.value.refId+"name: "+t.name)}else n=C(t.value,e,t.name);o.get=(()=>n),o.set=(e=>n=e)}else"get"===t.type&&(o.get=(()=>n),t.writable&&(o.set=(e=>{n=e})),n=C(t.value));Object.defineProperty(e,t.name,o)};if(Array.isArray(n)){let e=n.length;for(let t=0;t<e;t++)o(n[t])}}function S(e,t,n){if(n){let t=C(n);Object.setPrototypeOf(e,t)}}function y(e,t){f.setHiddenValue(e,"__remote_id__",t)}function b(e){return f.getHiddenValue(e,"__remote_id__")}function C(e,t,n){const i={value:()=>e.value,array:()=>e.members.map(e=>C(e)),buffer:()=>o.Buffer.from(e.value),promise:()=>Promise.resolve({then:C(e.then)}),error:()=>(function(e){const t=(()=>"error"===e.type?new Error:{})();for(let n=0;n<e.members.length;n++){let{name:i,value:o}=e.members[n];t[i]=o}return t})(e),date:()=>new Date(e.value),exception:()=>{throw new Error(`${e.message}\n${e.stack}`)}};let r;return e.type in i?r=i[e.type]():e.refId?p.has(e.refId)?(f.addRemoteObjectRef(m,e.refId),r=p.get(e.refId)):(l.warn("[metaToValue] refId point to null"+e.refId),r="function"===e.type?()=>{}:{}):e.id?p.has(e.id)?(f.addRemoteObjectRef(m,e.id),w(r=p.get(e.id),e.id,e.members,!0),S(r,e.id,e.proto)):(r="function"===e.type?t?function(e,t,n){if(p.has(n.id))return p.get(n.id);let i=b(e),o=function(...e){throw Error("never should come to a proxied function")};Object.defineProperty(o,"name",{value:t,writable:!1,enumerable:!0});let r=new Proxy(o,{apply:(e,n,o)=>new Promise((e,r)=>{let l=b(n);if(l||(l=b(n.__remoteObj_)),!l)throw Error("is this function was a bound function?");let u=a.default.browser.memberCall,f=c.default(u),h=v(o);d.send(u,m,f,l,i,t,h),s.default.add(f,t=>{try{_(C(t),e,r)}catch(e){r(e)}})}),construct:(e,n,o)=>new Promise((e,o)=>{let r=a.default.browser.memberConstruct,l=c.default(r);d.send(r,m,l,i,t,v(n)),s.default.add(l,t=>{try{let n=C(t);e(n)}catch(e){o(e)}})})});return f.setHiddenValue(o,"__remote_id__",n.id),r}(t,n,e):function(e){let t=e.id;const n=function(...e){throw new Error("Should Never com to a remoteFunction PlaceHolder")};return y(n,t),new Proxy(n,{apply:(e,n,i)=>new Promise((e,o)=>{let r=a.default.browser.functionCall,l=c.default(r),u=b(n);d.send(r,m,l,u,t,v(i)),s.default.add(l,t=>{try{_(C(t),e,o)}catch(e){o(e)}})}),construct:(e,n,i)=>new Promise((e,i)=>{let o=a.default.browser.construct,r=c.default(o);d.send(o,m,r,t,v(n)),s.default.add(r,t=>{try{let n=C(t);e(n)}catch(e){i(e)}})})})}(e):{},f.setRemoteObjectFreer(r,m,e.id),p.set(e.id,r),f.setHiddenValue(r,"__remote_id__",e.id),f.addRemoteObjectRef(m,e.id),function(e){let t=b(e);Object.defineProperties(e,{__set:{enumerable:!1,writable:!1,value:function(n,i){if("function"==typeof i)throw new Error("set a function to a remote member is dangerous");return new Promise((o,r)=>{let l=a.default.browser.memberSet,u=c.default(l),f=v([i]);d.send(l,m,u,t,n,f),s.default.add(u,t=>{try{let s=C(t);e[n]=i,o(s)}catch(e){r(e)}})})}},__get:{enumerable:!1,writable:!1,value:function(n){return new Promise((i,o)=>{let r=a.default.browser.memberGet,l=c.default(r);d.send(r,m,l,t,n),s.default.add(l,t=>{try{const r=C(t);e[n]=r,i(r)}catch(e){o(e)}})})}},__sync:{enumerable:!1,writable:!1,value:function(){return new Promise((e,n)=>{let i=a.default.browser.sync,o=c.default(i);d.send(i,m,o,t),s.default.add(o,i=>{try{if(i.id!==t)throw Error("SYNC_RETURN: remote id not match");let o=C(i);e(o)}catch(e){n(e)}})})}}})}(r),w(r,e.id,e.members),S(r,e.id,e.proto),Object.defineProperty(r.constructor,"name",{value:e.name}),e.extendedMemberNames&&e.extendedMemberNames.forEach((e,t)=>{let n=r[e],i=r.__proto__;for(;i;){if(Object.prototype.hasOwnProperty.call(i,e)){delete i[e];break}i=i.__proto__}Object.defineProperty(r,e,{value:n,enumerable:!1,writable:!1,configurable:!0})})):l.error("no id of meta:",e),r}t.Interest=g;class O{constructor(...e){if(this.__resolved_=!1,this.__promise_=null,this.__remoteObj_=null,this.__what_="",this.__name_="","string"===typeof arguments[0]){let e=arguments[0],t=arguments[1];this.__what_=e,this.__name_=t||e,this.__resolved_=!1,this.__remoteObj_=null,this.__promise_=new Promise((n,i)=>{let o=this.getChannel(e),r=c.default(o);d.send(o,m,r,t),s.default.add(r,e=>{try{let t=C(e);this.__remoteObj_=t,this.__resolved_=!0,n(t)}catch(e){i(e)}})})}else this.__remoteObj_=arguments[0],this.__resolved_=!0,this.__promise_=null}getChannel(e){let t="";switch(e){case"module":t=a.default.browser.require;break;case"builtin":t=a.default.browser.builtIn;break;case"global":t=a.default.browser.global;break;case"current_window":t=a.default.browser.currentWindow;break;case"current_web_contents":t=a.default.browser.currentWebContents;break;case"client_web_contents":t=a.default.browser.clientWebContents;break;case"web_contents":t=a.default.browser.webContents}return t}__resolve(){let e=this.__promise_;if(null!==e);else{if(!this.__resolved_)throw Error("missing the promise for ayncnomously get remote object");e=new Promise((e,t)=>{e(this.__remoteObj_)}),this.__promise_=e}return e}__isResolved(){return this.__resolved_}}function T(e,t,n){try{s.default.invoke(t,n).remove(t)}finally{s.default.remove(t)}}d.on(a.default.renderer.requireReturn,T),d.on(a.default.renderer.getBuiltInReturn,T),d.on(a.default.renderer.getGlobalReturn,T),d.on(a.default.renderer.currentWindowReturn,T),d.on(a.default.renderer.currentWebContentsReturn,T),d.on(a.default.renderer.functionCallReturn,T),d.on(a.default.renderer.constructReturn,T),d.on(a.default.renderer.memberCallReturn,T),d.on(a.default.renderer.memberSetReturn,T),d.on(a.default.renderer.memberGetReturn,T),d.on(a.default.renderer.memberConstructReturn,T),d.on(a.default.renderer.callback,(e,t,n)=>{h.apply(t,C(n))}),d.on(a.default.renderer.syncReturn,T),d.on("ELECTRON_RENDERER_RELEASE_CALLBACK",(e,t)=>{l.info("[RELEASE_CALLBACK]: callbackId:",t),h.remove(t)}),process.on("exit",()=>{d.send(a.default.browser.contextRelease)});const E=["__resolve","__isResolved"],M=["__promise_","__resolved_","__remoteObj_","__name_","__what_"],P=e=>{if(!e.__isResolved())throw Error("Can not access the property of a remote module which has not Resolved yet.")};function W(e){const t=function(){};Object.defineProperty(t,"name",{value:e.__name_}),Object.defineProperty(t,"what",{enumerable:!1,value:e.__what_});let n=new Proxy(t,{getPrototypeOf:t=>(P(e),Reflect.getPrototypeOf(e.__remoteObj_)),setPrototypeOf:(e,t)=>{throw new Error("changing prototype of remote object is forbidden")},isExtensible:t=>(P(e),Reflect.isExtensible(e.__remoteObj_)),preventExtensions:t=>(P(e),Reflect.preventExtensions(e)),getOwnPropertyDescriptor:(t,n)=>(P(e),Reflect.getOwnPropertyDescriptor(e.__remoteObj_,n)),has:(t,n)=>(P(e),Reflect.has(e.__remoteObj_,n)),deleteProperty:(t,n)=>(P(t),Reflect.deleteProperty(e.__remoteObj_,n)),defineProperty:(t,n,i)=>(P(e),Reflect.defineProperty(e.__remoteObj_,n,i)),get:(t,n,i)=>{if("string"==typeof n){if(String.prototype.includes.call(M,n)){return e[n]}if(String.prototype.includes.call(E,n)){return e[n]}}return P(e),Reflect.get(e.__remoteObj_,n)},set:(t,n,i,o)=>(P(e),Reflect.set(e.__remoteObj_,n,i,o)),ownKeys:t=>(P(e),Reflect.ownKeys(e.__remoteObj_)),apply:(t,n,i)=>{P(e),Reflect.apply(e.__remoteObj_,n,i)},construct:(t,n,i)=>{if(P(e),"function"!=typeof e.__remoteObj_)throw Error("operator new ONLY used for function");return new Promise((t,i)=>{let o=a.default.browser.construct,r=c.default(o),l=f.getHiddenValue(e.__remoteObj_,"__remote_id__");d.send(o,m,r,l,v(n)),s.default.add(r,e=>{try{t(C(e))}catch(e){i(e)}})})}});return e.__promise_.then(e=>{let t=typeof e;if("function"===t||"object"===t){let t=b(e);t&&y(n,t)}}),n}t.remoteRequire=function(e){return W(new O("module",e))},t.getBuiltin=function(e){return W(new O("builtin",e))},t.getGlobal=function(e){return W(new O("global",e))},t.getCurrentWindow=function(){return W(new O("current_window"))},t.getCurrentWebContents=function(){return W(new O("current_web_contents"))},t.getWebContents=function(){return W(new O("web_contents"))}},function(e,t){e.exports=require("buffer")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=process.electronBinding("v8_util");t.default=class{constructor(){this.nextId=0,this.callbacks={}}add(e){let t=i.getHiddenValue(e,"__remote_callback_id__");if(null!=t)return t;t=this.nextId-=1;const n=/at (.*)/gi,o=(new Error).stack;let r,s=n.exec(o);for(;null!==s;){const e=s[1];if(!e.includes("native")&&!e.includes("electron.asar")){r=/([^/^)]*)\)?$/gi.exec(e)[1];break}s=n.exec(o)}return this.callbacks[t]=e,i.setHiddenValue(e,"__remote_callback_id__",t),i.setHiddenValue(e,"__remote_call_location__",r),t}get(e){return this.callbacks[e]||function(){}}apply(e,...t){return this.get(e).apply(global,...t)}remove(e){const t=this.callbacks[e];t&&(i.deleteHiddenValue(t,"__remote_callback_id__"),delete this.callbacks[e])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(9);var o;!function(e){let t={};e.add=function(e,n,i){t[e]={func:n,thisArg:i}},e.invoke=function(n,...o){let r=t[n];return r?r.thisArg?r.func.apply(r.thisArg,...o):r.func(...o):i.error(`Cannot invoke function by unrecognize id. ${n}`),e},e.remove=function(e){delete t[e]}}(o||(o={})),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=0;t.default=function(e){return e?e.concat(".").concat(String(++i)):String(++i)}},function(e,t,n){"use strict";const i=n(4),o=n(69),r=n(33),s=n(70),a=n(9),c=n(34),l=i.ipcMain,u=process.electronBinding("v8_util");let d=u.createDoubleIDWeakMap();const f=new o.default;function h(e,t,n,i,o,r){let s,c=!1,l=null,u=!1;do{try{s=t[i]}catch(e){c=!0}if(c)try{s=n.value[i],c=!1,n.meta.extendedMemberNames.push(i),u=!0}catch(e){a.error(`property ${i} untouchable, even try root[name]`)}if(c)break;let o=Object.getOwnPropertyDescriptor(t,i);if(void 0===o){a.warn(`descriptor of property ${i} is undefined`);break}l={name:i,enumerable:o.enumerable,writable:!1,type:"get"},void 0===o.get&&"function"==typeof s?l.type="method":((o.set||o.writable)&&(l.writable=!0),l.type="get"),u?(l.configurable=!0,l.value=g(e,s,r,!1,null)):l.value=g(e,s,r,!1,n)}while(0);return l}function p(e,t,n,i=null){let o=Object.getOwnPropertyNames(t);"function"==typeof t&&(o=o.filter(function(e){return!String.prototype.includes.call(s.propertiesOfFunction,e)}));let r=[];do{if(0===o.length)break;let s=o.length;for(let a=0;a<s;a++){let s=h(e,t,n,o[a],0,i);s&&r.push(s)}}while(0);return r}function m(e,t,n,i=null){let o=null,r=Object.getPrototypeOf(t);return o=null===r||r===Object.prototype||r===Function.prototype?null:g(e,r,i,!1,n)}function g(e,t,n=null,i=!1,o=null){n=null===n?{}:n;const r={type:typeof t};"object"===r.type&&(r.type=function(e,t){let n=typeof e;if("object"!==n)throw new Error("incorrect arg at index 0. non-object");return null===e?n="value":ArrayBuffer.isView(e)?n="buffer":Array.isArray(e)?n="array":e instanceof Error?n="error":e instanceof Date?n="date":c.isPromise(e)?n="promise":Object.prototype.hasOwnProperty.call(e,"callee")&&null!=e.length?n="array":t&&u.getHiddenValue(e,"simple")&&(n="value"),n}(t,i));do{if("object"===r.type||"function"===r.type){let i=f.getIdOfObject(t);if(i&&n[i]){r.refId=i,f.add(e,t);break}}"array"===r.type?r.members=t.map(t=>g(e,t,n)):"object"===r.type||"function"===r.type?(null==o&&(r.extendedMemberNames=[],o={value:t,meta:r}),r.name=t.constructor?t.constructor.name:"",r.id=f.add(e,t),n[r.id]=!0,r.members=p(e,t,o,n),r.proto=m(e,t,o,n)):"buffer"===r.type?r.value=Buffer.from(t):"promise"===r.type?(t.then(function(){},function(){}),r.then=g(e,function(e,n){t.then(e,n)})):"error"===r.type?(r.members=v(t),r.members.push({name:"name",value:t.name})):"date"===r.type?r.value=t.getTime():(r.type="value",r.value=t)}while(0);return r}function v(e){return Object.getOwnPropertyNames(e).map(t=>({name:t,value:e[t]}))}function _(e,t,n,o){const s=function(o){let c,l,h=0,p=0;switch(o.type){case"value":return o.value;case"remote-object":return f.get(o.id);case"array":return _(e,t,n,o.value);case"buffer":return Buffer.from(o.value);case"date":return new Date(o.value);case"promise":return Promise.resolve({then:s(o.then)});case"object":case"interest":{let e={};for(Object.defineProperty(e.constructor,"name",{value:o.name}),h=0,p=(l=o.members).length;h<p;h++)e[(c=l[h]).name]=s(c.value);return e}case"function":{const s=e.id,c=[n,o.id];if(a.info("renderer function id:"+c),d.has(c))return d.get(c);let l=function(...t){a.info("[CALLBACK] args",t);let n=[...t];e.isDestroyed()||s!==e.id?function(e,t,n){let o="Attempting to call a function in a renderer window that has been closed or released."+`\nFunction provided here: ${e.location}`;if(t.length>0&&t[0].sender&&t[0].sender instanceof i.webContents.constructor){const{sender:e}=t[0],i=e.eventNames().filter(t=>{let i=e.listeners(t),o=!1;return i.forEach(e=>{e===n&&(o=!0)}),o});i.length>0&&(o+=`\nRemote event names: ${i.join(", ")}`,i.forEach(t=>{Object.getPrototypeOf(e).removeListener.call(e,t,n)}))}a.warn(o)}(o,n,l):e.send(r.default.renderer.callback,o.id,g(e,n))};return Object.defineProperty(l,"length",{value:o.length}),u.setRemoteCallbackFreer(l,t,n,o.id,e),d.set(c,l),l}default:throw new TypeError(`Unknown type: ${o.type}`)}};return o.map(s)}function w(e,t,n,i){let o,r;try{return t.apply(n,i)}catch(e){return r=t.name,new Error(`Could not call remote function '${o=null!=r?r:"anonymous"}'. Check that the function signature is correct. Underlying error: ${e.message}`)}}function S(e){return{type:"exception",message:e.message,stack:e.stack||e}}function y(e){const t=new Error(e);throw Object.defineProperty(t,"code",{value:"EBADRPC"}),Object.defineProperty(t,"errno",{value:-72}),t}var b;!function(e){const t=(e,t,...n)=>{const i=e.sender;i.isDestroyed()?a.warn("webcontext is destroyed."):i.send(t,...n)};e.startServer=function(){l.on(r.default.browser.require,(e,n,i,o)=>{a.info(`[REQUIRE] module=${o} `);let s=process.mainModule.require(o),c=g(e.sender,s);t(e,r.default.renderer.requireReturn,i,c)}),l.on(r.default.browser.builtIn,(e,n,o,s)=>{a.info(`[BUILTIN]: property=${s} contextId=${n}`);let c=i[s],l=g(e.sender,c);a.info(`[BUILTIN]: returns remoteId:${l.id}, type: ${typeof c}`),t(e,r.default.renderer.getBuiltInReturn,o,l)}),l.on(r.default.browser.global,(e,n,i,o)=>{a.info(`[GLOBAL]: proerty:${o} contextId=${n}`);let s,c=global[o];s=g(e.sender,c),a.info(`[GLOBAL]: returns remoteid=${s.id}, obj=`+typeof c),t(e,r.default.renderer.getGlobalReturn,i,s)}),l.on(r.default.browser.currentWindow,(e,n,i,o)=>{a.info(`[CURRENT_WINDOW]: property=${o} contextId=${n}`);let s=e.sender.getOwnerBrowserWindow.call(e.sender),c=g(e.sender,s);a.info(`[CURRENT_WINDOW]: returns remoteid=${c.id}, obj=`+s),t(e,r.default.renderer.currentWindowReturn,i,c)}),l.on(r.default.browser.currentWebContents,(e,n,i,o)=>{t(e,r.default.renderer.currentWebContentsReturn,i,g(e.sender,e.sender))}),l.on(r.default.browser.webContents,(e,n,o,s)=>{a.info(`[WebContents]: proerty:${s} contextId=${n}`);let c,l=i.webContents;c=g(e.sender,l),a.info(`[WebContents]: returns remoteid=${c.id}, obj=`+typeof l),t(e,r.default.renderer.webContentsReturn,o,c)});const e=(e,t)=>{const n=(t,n)=>{t&&Object.getOwnPropertyNames(t).forEach(i=>{n?e.once(i,t[i]):e.on(i,t[i])})};t.on&&n(t.on,!1),t.once&&n(t.once,!0)};l.on(r.default.browser.construct,(n,i,o,s,c)=>{let l,u=null;try{a.info(`[CONSTRUCTOR]: remoteId=${s} `);let d=c.length>0?c[c.length-1]:null;c=_(n.sender,n.frameId,i,c);let h=f.get(s);null==h&&y(`Cannot call constructor on missing remote object ${s}`),d&&"interest"===d.type&&(u=c.pop());let p=new(Function.prototype.bind.apply(h,[null,...c]));p&&u&&e(p,u),l=g(n.sender,p,null,!1),a.info(`[CONSTRUCTOR]: returns remoteId =${l.id} name=${h.name} `)}catch(e){l=S(e)}finally{t(n,r.default.renderer.constructReturn,o,l)}}),l.on(r.default.browser.functionCall,function(e,n,i,o,s,c){let l;try{a.info(`[FUNCTION_CALL]: remoteId=${s}`),c=_(e.sender,e.frameId,n,c);let u=f.get(s);if(null==u)a.error(`Cannot call function on missing remote object ${s}`),l=g(e.sender,void 0);else{let t=o?f.get(o):global;if(t){let n=w(0,u,t,c);l=g(e.sender,n)}else a.error(`Cannot call function(${s}) on missing context(${o})`),l=g(e.sender,void 0)}a.info(`[FUNCTION_CALL]: name=${u.name}`)}catch(e){l=S(e)}finally{t(e,r.default.renderer.functionCallReturn,i,l)}}),l.on(r.default.browser.memberCall,function(e,n,i,o,s,c,l){let u;a.info(`[MEMBER_CALL]: thisArg=${o}, remoteId=${s}, method=${c}, args count=${l.length}`);try{l=_(e.sender,e.frameId,n,l);let d=f.get(s);null==d&&y(`Cannot call function '${c}' on missing remote object ${s}`);let h=o?f.get(o):d;if(h){let t=w(0,d[c],h,l);u=g(e.sender,t),a.info("[MEMBER_CALL]: return="+t)}else u=g(e.sender,void 0)}catch(e){u=S(e)}finally{t(e,r.default.renderer.memberCallReturn,i,u)}}),l.on(r.default.browser.memberGet,function(e,n,i,o,s){let c;try{a.info(`[MEMBER_GET]: remoteId=${o}, property=`,s);let n=f.get(o);null==n&&y(`Cannot get property '${Object.toString.call(s)}' on missing remote object ${o}`);let l=n[s];c=g(e.sender,l)}catch(e){c=S(e)}finally{t(e,r.default.renderer.memberGetReturn,i,c)}}),l.on(r.default.browser.memberSet,function(e,n,i,o,s,c){try{a.info(`[MEMBER_SET]: remoteId=${o}, property=`+s),c=_(e.sender,e.frameId,n,c);let l=f.get(o);null==l&&y(`Cannot set property '${Object.toString.call(s)}' on missing remote object ${o}`),l[s]=c[0],t(e,r.default.renderer.memberSetReturn,i,{type:"value",value:!0})}catch(n){t(e,r.default.renderer.memberSetReturn,i,S(n))}}),l.on(r.default.browser.memberConstruct,function(n,i,o,s,c,l){let u,d=null;try{a.info(`[MEMBER_CONSTRUCTOR]: regId=${s}, method=${c}`);let h=l.length>0?l[l.length-1]:null;l=_(n.sender,n.frameId,i,l);let p=f.get(s);null==p&&y(`Cannot call constructor '${c}' on missing remote object ${s}`),h&&"interest"===h.type&&(d=l.pop());let m=p[c],v=new(Function.prototype.bind.apply(m,[null,...l]));v&&d&&e(v,d),u=g(n.sender,v)}catch(e){u=S(e)}finally{t(n,r.default.renderer.memberConstructReturn,o,u)}}),l.on(r.default.browser.sync,function(e,n,i,o){let s=f.get(o);t(e,r.default.renderer.syncReturn,i,g(e.sender,s))}),l.on("ELECTRON_BROWSER_DEREFERENCE",function(e,t){let n=f.get(t);if(i.ipcMain.emit("log_to_renderer","ELECTRON_BROWSER_DEREFERENCE",t,typeof n),n){let i=n.name;i||(i=n.constructor?n.constructor.name:""),f.remove(e.sender.id,t)}else t<0&&a.warn("remote id reference to nothing:",t)}),l.on(r.default.browser.contextRelease,e=>{f.clear(e.sender.id)})},e.getObjectRegistry=function(){return f}}(b||(b={})),e.exports=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(9),o=-1*Math.pow(2,31),r=process.electronBinding("v8_util");t.default=class{constructor(){this.nextId=0,this.storage=new Map,this.owners=new Map}add(e,t){const n=this.saveToStorage(t),i=e.id;let o=this.owners.get(i);return o||(o=new Set,this.owners.set(i,o),this.registerDeleteListener(e,i)),o.has(n)||(o.add(n),this.storage.get(n).count++),n}getIdOfObject(e){return r.getHiddenValue(e,"__remote_id__")}get(e){const t=this.storage.get(e);if(void 0!==t)return t.object}remove(e,t){this.dereference(t);let n=this.owners.get(e);n&&n.delete(t)}clear(e){let t=this.owners.get(e);if(t){for(let e of t)this.dereference(e);this.owners.delete(e)}}getStorageSize(){return this.storage.size}saveToStorage(e){let t=r.getHiddenValue(e,"__remote_id__");if(!t){if((t=--this.nextId)<=o)throw new Error("object registry id overflow");this.storage.set(t,{object:e,count:0}),r.setHiddenValue(e,"__remote_id__",t)}return t}dereference(e){let t=this.storage.get(e);null!=t&&(t.count-=1,0===t.count&&(r.deleteHiddenValue(t.object,"__remote_id__"),this.storage.delete(e)))}registerDeleteListener(e,t){const n=e.getProcessId(),o=(r,s)=>{s===n&&(i.info("render-view-deleted: processid="+n),(()=>{i.info("before clear. objectsRegistry capacity="+this.storage.size,"owners size:"+this.owners.size)})(),e.removeListener("render-view-deleted",o),this.clear(t))};e.on("render-view-deleted",o)}}},function(e,t,n){"use strict";var i;!function(e){e.propertiesOfFunction=["length","name","arguments","caller","prototype","apply","bind","call","toString"]}(i||(i={})),e.exports=i},function(e,t,n){e.exports=n(17)(5)},function(e,t,n){"use strict";var i=n(125)(!0);n(73)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var i=n(29),o=n(23),r=n(87),s=n(11),a=n(24),c=n(126),l=n(37),u=n(131),d=n(3)("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,m,g,v){c(n,t,p);var _,w,S,y=function(e){if(!f&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},b=t+" Iterator",C="values"==m,O=!1,T=e.prototype,E=T[d]||T["@@iterator"]||m&&T[m],M=E||y(m),P=m?C?y("entries"):M:void 0,W="Array"==t&&T.entries||E;if(W&&(S=u(W.call(new e)))!==Object.prototype&&S.next&&(l(S,b,!0),i||"function"==typeof S[d]||s(S,d,h)),C&&E&&"values"!==E.name&&(O=!0,M=function(){return E.call(this)}),i&&!v||!f&&!O&&T[d]||s(T,d,M),a[t]=M,a[b]=h,m)if(_={values:C?M:y("values"),keys:g?M:y("keys"),entries:P},v)for(w in _)w in T||r(T,w,_[w]);else o(o.P+o.F*(f||O),t,_);return _}},function(e,t,n){var i=n(15);e.exports=function(e,t){if(!i(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!i(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(89),o=n(54);e.exports=Object.keys||function(e){return i(e,o)}},function(e,t,n){var i=n(1).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(44);e.exports=function(e){return Object(i(e))}},function(e,t,n){var i=n(27),o=n(3)("toStringTag"),r="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:r?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var i=n(10),o=n(30),r=n(3)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||void 0==(n=i(s)[r])?t:o(n)}},function(e,t,n){var i,o,r,s=n(25),a=n(138),c=n(76),l=n(46),u=n(1),d=u.process,f=u.setImmediate,h=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,g=0,v={},_=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},w=function(e){_.call(e.data)};f&&h||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){a("function"==typeof e?e:Function(e),t)},i(g),g},h=function(e){delete v[e]},"process"==n(27)(d)?i=function(e){d.nextTick(s(_,e,1))}:m&&m.now?i=function(e){m.now(s(_,e,1))}:p?(r=(o=new p).port2,o.port1.onmessage=w,i=s(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(e){u.postMessage(e+"","*")},u.addEventListener("message",w,!1)):i="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),_.call(e)}}:function(e){setTimeout(s(_,e,1),0)}),e.exports={set:f,clear:h}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var i=n(10),o=n(15),r=n(49);e.exports=function(e,t){if(i(e),o(t)&&t.constructor===e)return t;var n=r.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){e.exports={default:n(124),__esModule:!0}},function(e,t){e.exports=function(){for(var e=[].slice.call(arguments),t=e[0],n=1;n<e.length;n++)try{t=t[e[n]]}catch(e){return}return t}},function(e,t){},function(e,t,n){e.exports=!n(16)&&!n(45)(function(){return 7!=Object.defineProperty(n(46)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=n(11)},function(e,t,n){var i=n(10),o=n(127),r=n(54),s=n(47)("IE_PROTO"),a=function(){},c=function(){var e,t=n(46)("iframe"),i=r.length;for(t.style.display="none",n(76).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;i--;)delete c.prototype[r[i]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=i(e),n=new a,a.prototype=null,n[s]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var i=n(21),o=n(26),r=n(129)(!1),s=n(47)("IE_PROTO");e.exports=function(e,t){var n,a=o(e),c=0,l=[];for(n in a)n!=s&&i(a,n)&&l.push(n);for(;t.length>c;)i(a,n=t[c++])&&(~r(l,n)||l.push(n));return l}},function(e,t,n){n(132);for(var i=n(1),o=n(11),r=n(24),s=n(3)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var l=a[c],u=i[l],d=u&&u.prototype;d&&!d[s]&&o(d,s,l),r[l]=r.Array}},function(e,t,n){var i=n(10);e.exports=function(e,t,n,o){try{return o?t(i(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&i(r.call(e)),t}}},function(e,t,n){var i=n(24),o=n(3)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||r[o]===e)}},function(e,t,n){var i=n(78),o=n(3)("iterator"),r=n(24);e.exports=n(7).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||r[i(e)]}},function(e,t,n){var i=n(3)("iterator"),o=!1;try{var r=[7][i]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r=[7],s=r[i]();s.next=function(){return{done:n=!0}},r[i]=function(){return s},e(r)}catch(e){}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModeChangeEvent=t.ClientProcessEvent=t.XmpEvent=void 0,function(e){e.onWindowMessage="OnWindowMessage",e.onStateChanged="OnStateChanged",e.onCreateMediaError="OnCreateMediaError",e.onOpenSucceeded="OnOpenSucceeded",e.onVideoSizeChanged="OnVideoSizeChanged",e.onAPlayerCreated="OnAPlayerCreated",e.onAllStoped="OnAllStoped",e.onSeekCompleted="OnSeekCompleted",e.onBuffer="OnBuffer",e.onDownloadCodec="OnDownloadCodec",e.onDownloadCodecProgress="OnDownloadCodecProgress",e.onDropFiles="OnDropFiles",e.onEvent="OnEvent",e.onGetPlayUrl="OnGetPlayUrl",e.onOpenFailed="OnOpenFailed",e.onPlayFailed="OnPlayFailed",e.onClearError="OnClearError",e.onError="OnError",e.onPlaying="OnPlaying",e.onPreOpen="OnPreOpen",e.onPaused="OnPaused",e.onPlayCompleted="OnPlayCompleted",e.onPreStop="OnPreStop",e.onStop="OnStop",e.onForceLoadingState="OnForceLoadingState",e.onVipStruckPlayState="OnVipStruckPlayState",e.onShowFloatWindow="OnShowFloatWindow",e.onTimeDesChange="OnTimeDesChange",e.onPositionChanged="OnPositionChanged",e.onSnapShotCreated="OnSnapShotCreated",e.onXmpPlayerEvent="OnXmpPlayerEvent",e.onXmpAplayerCrash="OnXmpAplayerCrash",e.onUpdateMediaCid="OnUpdateMediaCid",e.onUpdateMediaGcid="OnUpdateMediaGcid",e.onSpeedChange="OnSpeedChange",e.onFullScreenStateChange="OnFullScreenStateChange",e.onSetConfig="OnSetConfig",e.onVolumeChange="OnVolumeChange",e.onPlayStateChange="OnPlayStateChange",e.onCurViewChanged="OnCurViewChanged",e.onUserLogin="OnUserLogin",e.onDwmCompositionChanged="OnDwmCompositionChanged",e.onDpiChanged="OnDpiChanged",e.onGPUProcessCrashed="OnGPUProcessCrashed",e.onSetCurrentDevice="OnSetCurrentDevice",e.onXmpPlayerRemoveMedias="OnXmpPlayerRemoveMedias",e.onOpenMediaNotExist="OnOpenMediaNotExist",e.onSwitchModeError="OnSwitchModeError",e.onDlnaEvent="OnDlnaEvent",e.onSubtitleInit="OnSubtitleInit",e.onSubtitleUnInit="onSubtitleUnInit",e.onEmbedSubInitFinish="OnEmbedSubInitFinish",e.onEntertCurrentDevice="OnEntertCurrentDevice",e.onWindowZOrderChanged="OnWindowZOrderChanged",e.onAplayerSeekFrameChanged="OnAplayerSeekFrameChanged",e.onModeBarChange="OnModeBarChange",e.onThunderTaskRemove="OnThunderTaskRemove",e.onXmpClose="OnXmpClose",e.onXmpStartFailed="OnXmpStartFailed",e.onVipViewInitFinish="OnVipViewInitFinish",e.onModeEvent="OnModeEvent",e.onMaxmized="OnMaxmized",e.onUnMaxmized="OnUnMaxmized",e.onSetWindowTopMost="OnWindowTopMost",e.onCancelWindowTopMost="OnCancelWindowTopMost",e.onOpenOrCloseSettingCenter="OnOpenOrCloseSettingCenter",e.onUpdateBufferingUI="OnUpdateBufferingUI",e.onOpenSucceededCreateTask="OnOpenSucceededCreateTask"}(t.XmpEvent||(t.XmpEvent={})),function(e){e.onMainWindowSize="OnMainWindowSize",e.onTabSelectChange="OnTabSelectChange",e.onThunderQuit="OnThunderQuit"}(t.ClientProcessEvent||(t.ClientProcessEvent={})),function(e){e.onXmpModeChanging="OnXmpModeChanging",e.onXmpModeChanged="OnXmpModeChanged",e.onXmpEnterFullScreen="OnXmpEnterFullScreen",e.onXmpLeaveFullScreen="OnXmpLeaveFullScreen"}(t.ModeChangeEvent||(t.ModeChangeEvent={}))},,,,,function(e,t,n){"use strict";n.r(t);var i=n(101),o=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=o.a},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(13),s=n(162),a=n(160);let c=class extends r.Vue{constructor(){super(...arguments),this.popType="",this.options={title:"",type:s.MessageBox.ConfirmType.Info},this.boxId=a.parse(location.href,!0).query.boxId,this.removeDraggable=null}created(){o.ipcRenderer.once("xmp-message-box-init-reply",(e,t)=>{this.popType=t.popType,this.options=t.options}),o.ipcRenderer.send(`xmp-message-box-init-${this.boxId}`)}};c=i([r.Component({components:{Confirm:()=>Promise.resolve().then(()=>n(181)),MessageBox:()=>Promise.resolve().then(()=>n(191)),DLNAView:()=>Promise.resolve().then(()=>n(192))}})],c),t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(103),o=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=o.a},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),s=n(121),a=n(13),c=n(122),l=n(163),u=n(123),d=n(57),f=n(185),h=n(50);a.Vue.use(u.default),a.Vue.use(d.default),a.Vue.use(f.default),a.Vue.use(h.default);let p=class extends(s.mixins(c.DraggableMixin,c.PositionMixin)){constructor(){super(...arguments),this.action=l.MessageBoxNS.Action,this.icon={info:"question",warning:"warning",error:"error",success:"success"}}handleInput(e){this.$emit("update:options",Object.assign({},this.options,{checkboxChecked:e}))}handleOK(){r.ipcRenderer.send(`xmp-message-box-resolve-${this.boxId}`,l.MessageBoxNS.Action.OK,this.options.checkboxChecked),window.close()}handleCancel(e){r.ipcRenderer.send(`xmp-message-box-resolve-${this.boxId}`,e),window.close()}handleKeyDown(e){13===e.keyCode&&this.handleOK()}mounted(){return o(this,void 0,void 0,function*(){document.addEventListener("keydown",this.handleKeyDown)})}destroyed(){document.removeEventListener("keydown",this.handleKeyDown)}};i([a.Prop()],p.prototype,"options",void 0),i([a.Prop()],p.prototype,"boxId",void 0),p=i([a.Component({props:{options:Object}})],p),t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(105),o=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=o.a},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),s=n(121),a=n(13),c=n(39),l=n(122),u=n(123),d=n(50);a.Vue.use(u.default),a.Vue.use(d.default);let f=class extends(s.mixins(l.DraggableMixin,l.PositionMixin)){handleInput(e,t){let n=c.ThunderUtil.deepCopy(this.formData);Array.isArray(e)?n[t]=e:n[t].value=e,this.$emit("update:formData",n)}handleOK(){r.ipcRenderer.send("xmp-message-box-resolve",this.formData),window.close()}handleCancel(){r.ipcRenderer.send("xmp-message-box-reject"),window.close()}get comfirmButtonActive(){if(void 0===this.formData)return!0;if(void 0===this.formData.maxDownloadSpeedEnabled)return!0;let e=this.formData.maxDownloadSpeedEnabled.value,t=this.formData.maxUploadSpeedEnabled.value;return e||t}mounted(){return o(this,void 0,void 0,function*(){this.resizeToFitContent()})}};i([a.Prop()],f.prototype,"options",void 0),i([a.Prop()],f.prototype,"formData",void 0),f=i([a.Component({components:{}})],f),t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(107),o=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,function(){return i[e]})}(r);t.default=o.a},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(13),s=n(5),a=n(0),c=n(163),l=n(162),u=n(20),d=n(123),f=n(122),h=n(121),p=n(95);r.Vue.use(d.default);const m=a.default.getLogger("dlna-select");let g=class extends(h.mixins(f.PositionMixin)){constructor(){super(...arguments),this.searchTips="正在搜寻设备...",this.searching=!0,this.deviceMap=[],this.firstFlag=!1,this.searchCount=0,this.timerCookie=null,this.itemSelected=!1,this.itemConnected=!1,this.ipcEventCookie=0,this.firstSelect=!1,this.searchSuccess=!1,this.selectDeviceId=""}mounted(){return o(this,void 0,void 0,function*(){this.searchCount=0,this.ipcEventCookie=s.client.attachServerEvent(p.XmpEvent.onDlnaEvent,this.onDlnaEvent.bind(this)),this.refreshDevice().catch()})}destroyed(){this.clearSearchTimer(),s.client.detachServerEvent(p.XmpEvent.onDlnaEvent,this.ipcEventCookie)}clearSearchTimer(){this.timerCookie&&(clearInterval(this.timerCookie),this.timerCookie=null)}onDlnaEvent(e,t,n){return o(this,void 0,void 0,function*(){m.information("DLNA 事件 hiword:",t),1===t?yield this.loadDeviceList():2===t&&this.disConnectDevice("DLNA").catch()})}onItemSelect(e){return o(this,void 0,void 0,function*(){for(const t in this.deviceMap)this.deviceMap.hasOwnProperty(t)&&this.deviceMap[t].id!==e.id&&(this.deviceMap[t].isActive=!1);e.isActive=!0,this.itemSelected=!0,(yield s.client.callServerFunction(u.XmpPluginFunction.getCurrentDevice,"DLNA"))===e.id?this.itemConnected=!0:this.itemConnected=!1})}isConnected(e){return o(this,void 0,void 0,function*(){let t=yield s.client.callServerFunction(u.XmpPluginFunction.getCurrentDevice,"DLNA");return!(!t||""===t||t!==e)})}disConnectDevice(e){return o(this,void 0,void 0,function*(){return s.client.callServerFunction(u.XmpPluginFunction.setCurrentDevice,e,"")})}connectDevice(e,t,n,i){return o(this,void 0,void 0,function*(){let o=!0;if(!1===(yield s.client.callServerFunction(u.XmpPluginFunction.isDeviceSupport,i,t))){let e;o=!1,(e=yield l.MessageBox.confirm({title:"投屏格式不支持",type:l.MessageBox.ConfirmType.Warning,content:"当前选中的设备可能不支持该视频格式，确定继续投屏操作吗？",okText:"继续投屏",titleClass:"xmp-dialog--title",cancelVisible:!0},{modal:!1})).action===c.MessageBoxNS.Action.OK&&(o=!0)}o&&(yield s.client.callServerFunction(u.XmpPluginFunction.setCurrentDevice,i,e,t,n))})}refreshDevice(){return o(this,void 0,void 0,function*(){yield s.client.callServerFunction(u.XmpPluginFunction.activeDevice,!0),this.clearSearchTimer(),this.searchCount=0,this.deviceMap=[],this.firstSelect=!0,this.searchSuccess=!1,this.timerCookie=setInterval(()=>o(this,void 0,void 0,function*(){this.searchCount++,s.client.callServerFunction(u.XmpPluginFunction.searchDevice).catch(),this.searchCount>=30&&this.resetSearch(),(yield this.loadDeviceList())&&(this.searchSuccess||s.client.callServerFunctionEx(u.XmpPluginFunction.trackEvent,"xmp_player","xmp_player_throwing_screen_search"),this.searchSuccess=!0)}),300)})}loadDeviceList(){return o(this,void 0,void 0,function*(){let e=yield s.client.callServerFunction(u.XmpPluginFunction.getDeviceList);if(m.information("deviceData:",e," firstSelect:",this.firstSelect),e.forEach(e=>{this.pushItem(e,this.firstSelect),this.firstSelect&&(this.selectDeviceId=e.id),this.firstSelect=!1}),this.deviceMap.length>0){this.itemSelected=!0,this.searching=!1;let e=yield s.client.callServerFunction(u.XmpPluginFunction.getCurrentDevice,"DLNA");return m.information("DLNA 当前选择device:",e," 列表项:",this.selectDeviceId),e===this.selectDeviceId?this.itemConnected=!0:this.itemConnected=!1,!0}return this.timerCookie||(this.searchTips="未搜索到相关设备!"),!1})}onClickConnect(){return o(this,void 0,void 0,function*(){for(const e in this.deviceMap)if(this.deviceMap.hasOwnProperty(e)&&this.deviceMap[e].isActive){(yield this.isConnected(this.deviceMap[e].id))?this.disConnectDevice(this.deviceMap[e].deviceType).then(()=>{this.itemConnected=!1}).catch():this.connectDevice(this.deviceMap[e].id,this.deviceMap[e].supportExts,this.deviceMap[e].name,this.deviceMap[e].deviceType).then(()=>{window.close()}).catch(()=>{window.close()});break}})}onClickRefresh(){return o(this,void 0,void 0,function*(){this.searching=!0,this.searchTips="正在搜寻设备...",yield s.client.callServerFunction(u.XmpPluginFunction.activeDevice,!1),yield this.refreshDevice()})}onCloseClick(){window.close()}onClickEmptyBlock(){m.information("onClickEmptyBlock"),this.itemSelected=!1;for(const e in this.deviceMap)this.deviceMap.hasOwnProperty(e)&&(this.deviceMap[e].isActive=!1)}onKeyDown(e){"Escape"===e.key&&window.close()}onItemDbClick(e){this.isConnected(e.id)||this.connectDevice(e.id,e.supportExts,e.name,e.deviceType).then(()=>{window.close()}).catch(()=>{window.close()})}resetSearch(){clearInterval(this.timerCookie),this.timerCookie=null,this.searchCount=0}isItemExist(e){let t=!1;for(let n=0;n<this.deviceMap.length;n++)if(this.deviceMap[n].id.trim()===e.trim()){t=!0;break}return t}pushItem(e,t){this.isItemExist(e.id)||this.deviceMap.push({id:e.id,name:e.name,isActive:t,supportExts:e.supportExts,deviceType:e.deviceType})}};g=i([r.Component],g),t.default=g},,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalDataNS=void 0;const i=n(2);let o=i.normalize(i.join(process.execPath,"../resources")),r=i.normalize(i.join(o,"app"));!function(e){e.getResourcesPath=function(){return o},e.getAppPath=function(){return r}}(t.GlobalDataNS||(t.GlobalDataNS={}))},function(e,t,n){e.exports=n(17)(1)},function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.PositionMixin=t.DraggableMixin=void 0;const r=n(13),s=n(39),a=n(182);let c=class extends r.Vue{constructor(){super(...arguments),this.removeDraggable=null}destroyed(){this.removeDraggable()}};c=i([r.Component],c),t.DraggableMixin=c;let l=class extends r.Vue{constructor(){super(...arguments),this.windowWidth=0,this.windowHeight=0,this.resizeToFitContent=a.ThunderWindowNS.resizeToFitContent,this.fitWindowPosInParent=a.ThunderWindowNS.fitWindowPosInParent}get relativeToParent(){return!s.ThunderUtil.isDef(this.options.relativeToParent)||this.options.relativeToParent}mounted(){return o(this,void 0,void 0,function*(){0===this.windowWidth&&(this.windowWidth=this.options.windowWidth||0),0===this.windowHeight&&(this.windowHeight=this.options.windowHeight||0),this.relativeToParent?this.resizeToFitContent(this.windowWidth,this.windowHeight,this.fitWindowPosInParent).catch():this.resizeToFitContent(this.windowWidth,this.windowHeight).catch()})}};i([r.Prop()],l.prototype,"options",void 0),l=i([r.Component],l),t.PositionMixin=l},function(e,t,n){"use strict";n.r(t),n.d(t,"Confirm",function(){return a});var i=n(57),o=n(50),r=n(31),s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"td-cover"},[n("div",{staticClass:"td-dialog",class:[{"td-dialog--fullscreen":e.fullscreen},e.customClass]},[n("div",{staticClass:"td-dialog__header"},[e._t("header"),e._v(" "),n("a",{staticClass:"td-dialog__close",attrs:{href:"javascript:;",title:"关闭"},on:{click:e.handleClose}},[n("td-icon",{attrs:{type:"close"}})],1)],2),e._v(" "),n("div",{staticClass:"td-dialog__body"},[e._t("default")],2),e._v(" "),e.footerEnabled?n("div",{staticClass:"td-dialog__footer"},[n("div",{staticClass:"td-dialog-footer"},[e._t("footer",[n("td-button",{on:{click:e.handleOk}},[e._v("确定")])])],2),e._v(" "),e.$slots.more?n("a",{staticClass:"td-more-arrow",class:{"td-more-arrow--down":e.moreVisible},attrs:{href:"javascript:;"},on:{click:e.handleMoreToggle}},[n("td-icon",{attrs:{type:"arrow-drop"}})],1):e._e()]):e._e(),e._v(" "),e.$slots.more&&e.moreVisible?n("div",{ref:"more",staticClass:"td-dialog__more"},[e._t("more")],2):e._e()])])},staticRenderFns:[],name:"td-dialog",components:{TdIcon:i.default,TdButton:o.default},props:{customClass:[Array,Object,String],visible:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},beforeClose:Function,footerEnabled:{type:Boolean,default:!0}},data:function(){return{moreVisible:!1,moreHeight:0}},mounted:function(){document.body.appendChild(this.$el)},destroyed:function(){Object(r.a)(this.$el.parentNode)&&this.$el.parentNode.removeChild(this.$el)},methods:{handleClose:function(){var e=this;Object(r.d)(!this.beforeClose).catch(function(){return e.beforeClose()}).then(function(){e.$emit("update:visible",!1),e.$emit("close"),e.fullscreen&&Object(r.b)()&&window.close()})},handleOk:function(){this.$emit("ok")},handleMoreToggle:function(){var e=this;this.moreVisible=!this.moreVisible,this.$emit("more-toggle",this.moreVisible),this.fullscreen&&Object(r.b)()&&this.$nextTick(function(){0===e.moreHeight&&(e.moreHeight=e.$refs.more.clientHeight+30),window.resizeBy(0,e.moreVisible?e.moreHeight:-e.moreHeight)})}}},a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td-dialog",e._g(e._b({},"td-dialog",e.$attrs,!1),e.$listeners),[n("div",{staticClass:"td-dialog-comfirm"},[n("span",{staticClass:"td-dialog-comfirm__icon"},[n("td-icon",{attrs:{type:e.icon[e.type]}})],1),e._v(" "),n("div",{staticClass:"td-dialog-comfirm__content"},[n("p",{staticClass:"td-dialog-comfirm__title"},[e._v(e._s(e.title))]),e._v(" "),n("p",{staticClass:"td-dialog-comfirm__text"},[e._t("default")],2)])]),e._v(" "),n("template",{slot:"footer"},[n("td-button",{on:{click:function(t){return e.$emit("ok")}}},[e._v(e._s(e.okText))]),e._v(" "),n("td-button",{attrs:{secondary:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(e._s(e.cancelText))])],1)],2)},staticRenderFns:[],name:"td-confirm",components:{TdButton:o.default,TdDialog:s},props:{title:String,type:{type:String,default:"info"},okText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"}},data:function(){return{icon:{info:"question",warning:"warning",error:"error"}}}};s.install=function(e){e.component(s.name,s),e.component(a.name,a)},t.default=s},function(e,t,n){n(85),n(72),n(90),n(135),n(143),n(144),e.exports=n(7).Promise},function(e,t,n){var i=n(43),o=n(44);e.exports=function(e){return function(t,n){var r,s,a=String(o(t)),c=i(n),l=a.length;return c<0||c>=l?e?"":void 0:(r=a.charCodeAt(c))<55296||r>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):r:e?a.slice(c,c+2):s-56320+(r-55296<<10)+65536}}},function(e,t,n){"use strict";var i=n(88),o=n(36),r=n(37),s={};n(11)(s,n(3)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(s,{next:o(1,n)}),r(e,t+" Iterator")}},function(e,t,n){var i=n(14),o=n(10),r=n(75);e.exports=n(16)?Object.defineProperties:function(e,t){o(e);for(var n,s=r(t),a=s.length,c=0;a>c;)i.f(e,n=s[c++],t[n]);return e}},function(e,t,n){var i=n(27);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){var i=n(26),o=n(52),r=n(130);e.exports=function(e){return function(t,n,s){var a,c=i(t),l=o(c.length),u=r(s,l);if(e&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var i=n(43),o=Math.max,r=Math.min;e.exports=function(e,t){return(e=i(e))<0?o(e+t,0):r(e,t)}},function(e,t,n){var i=n(21),o=n(77),r=n(47)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),i(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){"use strict";var i=n(133),o=n(134),r=n(24),s=n(26);e.exports=n(73)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var i,o,r,s,a=n(29),c=n(1),l=n(25),u=n(78),d=n(23),f=n(15),h=n(30),p=n(136),m=n(137),g=n(79),v=n(80).set,_=n(139)(),w=n(49),S=n(81),y=n(140),b=n(82),C=c.TypeError,O=c.process,T=O&&O.versions,E=T&&T.v8||"",M=c.Promise,P="process"==u(O),W=function(){},R=o=w.f,I=!!function(){try{var e=M.resolve(1),t=(e.constructor={})[n(3)("species")]=function(e){e(W,W)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(W)instanceof t&&0!==E.indexOf("6.6")&&-1===y.indexOf("Chrome/66")}catch(e){}}(),x=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;_(function(){for(var i=e._v,o=1==e._s,r=0,s=function(t){var n,r,s,a=o?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{a?(o||(2==e._h&&A(e),e._h=1),!0===a?n=i:(u&&u.enter(),n=a(i),u&&(u.exit(),s=!0)),n===t.promise?l(C("Promise-chain cycle")):(r=x(n))?r.call(n,c,l):c(n)):l(i)}catch(e){u&&!s&&u.exit(),l(e)}};n.length>r;)s(n[r++]);e._c=[],e._n=!1,t&&!e._h&&N(e)})}},N=function(e){v.call(c,function(){var t,n,i,o=e._v,r=L(e);if(r&&(t=S(function(){P?O.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",o)}),e._h=P||L(e)?2:1),e._a=void 0,r&&t.e)throw t.v})},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},A=function(e){v.call(c,function(){var t;P?O.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},k=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},B=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw C("Promise can't be resolved itself");(t=x(e))?_(function(){var i={_w:n,_d:!1};try{t.call(e,l(B,i,1),l(k,i,1))}catch(e){k.call(i,e)}}):(n._v=e,n._s=1,D(n,!1))}catch(e){k.call({_w:n,_d:!1},e)}}};I||(M=function(e){p(this,M,"Promise","_h"),h(e),i.call(this);try{e(l(B,this,1),l(k,this,1))}catch(e){k.call(this,e)}},(i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(141)(M.prototype,{then:function(e,t){var n=R(g(this,M));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=P?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i;this.promise=e,this.resolve=l(B,e,1),this.reject=l(k,e,1)},w.f=R=function(e){return e===M||e===s?new r(e):o(e)}),d(d.G+d.W+d.F*!I,{Promise:M}),n(37)(M,"Promise"),n(142)("Promise"),s=n(7).Promise,d(d.S+d.F*!I,"Promise",{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(a||!I),"Promise",{resolve:function(e){return b(a&&this===s?M:this,e)}}),d(d.S+d.F*!(I&&n(94)(function(e){M.all(e).catch(W)})),"Promise",{all:function(e){var t=this,n=R(t),i=n.resolve,o=n.reject,r=S(function(){var n=[],r=0,s=1;m(e,!1,function(e){var a=r++,c=!1;n.push(void 0),s++,t.resolve(e).then(function(e){c||(c=!0,n[a]=e,--s||i(n))},o)}),--s||i(n)});return r.e&&o(r.v),n.promise},race:function(e){var t=this,n=R(t),i=n.reject,o=S(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return o.e&&i(o.v),n.promise}})},function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var i=n(25),o=n(91),r=n(92),s=n(10),a=n(52),c=n(93),l={},u={};(t=e.exports=function(e,t,n,d,f){var h,p,m,g,v=f?function(){return e}:c(e),_=i(n,d,t?2:1),w=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(r(v)){for(h=a(e.length);h>w;w++)if((g=t?_(s(p=e[w])[0],p[1]):_(e[w]))===l||g===u)return g}else for(m=v.call(e);!(p=m.next()).done;)if((g=o(m,_,p.value,t))===l||g===u)return g}).BREAK=l,t.RETURN=u},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var i=n(1),o=n(80).set,r=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,c="process"==n(27)(s);e.exports=function(){var e,t,n,l=function(){var i,o;for(c&&(i=s.domain)&&i.exit();e;){o=e.fn,e=e.next;try{o()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(c)n=function(){s.nextTick(l)};else if(!r||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);n=function(){u.then(l)}}else n=function(){o.call(i,l)};else{var d=!0,f=document.createTextNode("");new r(l).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(i){var o={fn:i,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){var i=n(1).navigator;e.exports=i&&i.userAgent||""},function(e,t,n){var i=n(11);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:i(e,o,t[o]);return e}},function(e,t,n){"use strict";var i=n(1),o=n(7),r=n(14),s=n(16),a=n(3)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:i[e];s&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var i=n(23),o=n(7),r=n(1),s=n(79),a=n(82);i(i.P+i.R,"Promise",{finally:function(e){var t=s(this,o.Promise||r.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var i=n(23),o=n(49),r=n(81);i(i.S,"Promise",{try:function(e){var t=o.f(this),n=r(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";var i=n(239);n.n(i).a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ThunderToolsNS=void 0;const o=n(40),r=n(5),s=n(2),a=n(12),c=n(20),l=n(42),u=a.default(s.join(__rootDir,"../bin/ThunderHelper.node"));!function(e){function t(e,t){return i(this,void 0,void 0,function*(){if(null!==e){let n=e.webContents;(yield n.isDevToolsOpened())?yield n.closeDevTools():yield n.openDevTools(t)}})}e.openDevTool=t,e.enableDevTools=function(e){return i(this,void 0,void 0,function*(){(yield o.FileSystemAWNS.existsAW(s.resolve(__rootDir,"../../enableDevTools")))&&window.addEventListener("keyup",n=>i(this,void 0,void 0,function*(){"F12"===n.key&&n.ctrlKey&&t(yield l.rpc.getCurrentWindow(),e).catch()}),!0)})},e.enableDragOpenFile=function(e){void 0===e&&(e=!1),document.addEventListener("dragover",e=>{e.preventDefault()},!1),document.addEventListener("drop",e=>i(this,void 0,void 0,function*(){e.preventDefault();let t=e.dataTransfer,n=t.files,i=t.items;if(void 0!==i&&null!==i&&i.length>0)for(let e=0;e<i.length;e++){let t=i[e];"string"===t.kind&&"text/uri-list"===t.type?t.getAsString(e=>{r.client.callServerFunctionEx(c.XmpPluginFunction.dropOpenUrl,e).catch()}):t.kind}if(void 0!==n&&null!==n&&n.length>0){let e=[];for(let t=0;t<n.length;t++){let i=n[t].path;void 0!==i&&null!==i&&""!==i&&e.push(i)}e.length>0&&r.client.callServerFunctionEx(c.XmpPluginFunction.dropOpenFiles,e).catch()}}),!1)},e.setBugreportUrlInfo=function(){return i(this,void 0,void 0,function*(){let e=yield l.rpc.getCurrentWindow();if(e&&!(yield e.isDestroyed())){let t=yield e.webContents.getURL();u.setBugreportCustomInfo(t)}})},e.setBugreportCustomInfo=function(e){u.setBugreportCustomInfo(e||"xmp-xdas-renderer")},e.setBugreportSilentMode=function(){u.setBugreportShowMode(1)}}(t.ThunderToolsNS||(t.ThunderToolsNS={}))},,,,function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"confirm"===e.popType?n("confirm",{attrs:{options:e.options,"box-id":e.boxId},on:{"update:options":function(t){e.options=t}},nativeOn:{dragstart:function(e){e.preventDefault()}}}):"message-box"===e.popType?n("message-box",{attrs:{options:e.options,formData:e.options.formData,"box-id":e.boxId},on:{"update:formData":function(t){return e.$set(e.options,"formData",t)},"update:form-data":function(t){return e.$set(e.options,"formData",t)}},nativeOn:{dragstart:function(e){e.preventDefault()}}}):n(e.popType,{tag:"component",attrs:{options:e.options,"box-id":e.boxId},nativeOn:{dragstart:function(e){e.preventDefault()}}})},o=[];i._withStripped=!0},,,function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td-dialog",e._g(e._b({class:{"is-logo":e.options.showIcon},attrs:{visible:""},on:{close:function(t){return e.handleCancel(e.action.Close)}}},"td-dialog",e.$attrs,!1),e.$listeners),[n("div",{staticClass:"td-dialog-comfirm"},[e.options.type?n("span",{staticClass:"td-dialog-comfirm__icon"},[n("td-icon",{attrs:{type:e.icon[e.options.type]}})],1):e._e(),e._v(" "),n("div",{staticClass:"td-dialog-comfirm__content"},[n("p",{staticClass:"td-dialog-comfirm__title",class:e.options.titleClass},[e._v(e._s(e.options.title))]),e._v(" "),n("div",{staticClass:"td-dialog-comfirm__text"},[e.options.checkboxEnabled?n("td-checkbox",{attrs:{value:e.options.checkboxChecked},on:{input:e.handleInput}},[e._v(e._s(e.options.checkboxLabel))]):e.options.content?n("span",{domProps:{innerHTML:e._s(e.options.content)}}):e.options.fileName?n("div",{staticClass:"xlx-dialog-comfirm__film-name",attrs:{title:e.options.fileName}},[e._v(e._s(e.options.fileName))]):e._e()],1)])]),e._v(" "),n("template",{slot:"footer"},["okVisible"in e.options&&!e.options.okVisible?e._e():n("td-button",{class:e.options.okClass,on:{click:e.handleOK}},[e._v(e._s(e.options.okText||"确定"))]),e._v(" "),"cancelVisible"in e.options&&!e.options.cancelVisible?e._e():n("td-button",{class:e.options.cancelClass,attrs:{secondary:""},on:{click:function(t){return e.handleCancel(e.action.Cancel)}}},[e._v(e._s(e.options.cancelText||"取消"))])],1)],2)},o=[];i._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td-dialog",{attrs:{"custom-class":["xlx-dialog--"+e.options.size,"xlx-dialog-setting"],visible:""},on:{close:e.handleCancel}},[n("h2",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.options.title))]),e._v(" "),e.options.schemas?n("div",{staticClass:"xlx-dialog-setting__content"},[n("div",{staticClass:"xlx-dialog-setting__speed"})]):e.options.message?[e._v(e._s(e.options.message))]:e._e(),e._v(" "),n("template",{slot:"footer"},["okVisible"in e.options&&!e.options.okVisible?e._e():n("td-button",{attrs:{disabled:!e.comfirmButtonActive},on:{click:e.handleOK}},[e._v(e._s(e.options.okText||"确定"))]),e._v(" "),"cancelVisible"in e.options&&!e.options.cancelVisible?e._e():n("td-button",{attrs:{secondary:""},on:{click:e.handleCancel}},[e._v(e._s(e.options.cancelText||"取消"))])],1)],2)},o=[];i._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td-dialog",{attrs:{"custom-class":"xmpc-dialog-screen",visible:""},on:{close:e.onCloseClick},nativeOn:{keydown:function(t){return e.onKeyDown(t)}}},[n("h2",{attrs:{slot:"header"},slot:"header"},[e._v("DLNA/WiDi播放设备选择")]),e._v(" "),n("div",{staticClass:"xmpc-dialog-screen__body"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.searching,expression:"searching"}],staticClass:"screen-loading is-empty"},[e._v(e._s(e.searchTips))]),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:!e.searching,expression:"!searching"}],staticClass:"xmpc-dialog-screen__list",on:{click:e.onClickEmptyBlock}},e._l(e.deviceMap,function(t,i){return n("li",{key:i,staticClass:"xmpc-dialog-screen__item",class:{"is-checked":t.isActive},on:{click:function(n){return n.stopPropagation(),e.onItemSelect(t)},dblclick:function(n){return e.onItemDbClick(t)}}},[n("span",{staticClass:"device-name"},[e._v(e._s(t.deviceType+": "+t.name))])])}),0)]),e._v(" "),n("div",{staticClass:"xmpc-dialog__footer",attrs:{slot:"footer"},slot:"footer"},[n("div",{staticClass:"xmpc-dialog__button"},[e.searching?e._e():n("button",{class:"td-button "+(e.itemSelected?"":"td-button--secondary"),on:{click:e.onClickConnect}},[e._v(e._s(e.itemConnected?"断开":"连接"))]),e._v(" "),n("button",{staticClass:"td-button",on:{click:e.onClickRefresh}},[e._v("刷新")])])])])},o=[];i._withStripped=!0},,,,,function(e,t){e.exports=require("url")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceMonitorUtilNS=void 0;const i=n(2),o=n(12),r=n(120);let s=o.default(i.join(r.GlobalDataNS.getResourcesPath(),"bin/ThunderHelper.node")),a=o.default(i.join(r.GlobalDataNS.getResourcesPath(),"bin/XDASEnhancerAddon.node"));const c="xmp_xdas_profile_stat";let l=void 0;!function(e){function t(e){return null===e||void 0===e}function n(e=""){let n;if("string"==typeof e)n=e;else if(!t(e)&&"object"==typeof e){let i=[];for(let n in e)t(e[n])||i.push(n+"="+encodeURIComponent(e[n]));n=i.join(",")}return n}function o(e,t="",i="",o=0,r=0,a=0,c=0,l="",u=0){let d=0;do{if(void 0===e){d=1;break}let f=n(l);global.b={key:e,attr1:t,attr2:t,cost1:o,cost2:r,cost3:a,cost4:c,extDataStr:f,cookie:u},d=s.trackEvent(e,t,i,o,r,a,c,f,u)}while(0);return d}e.formatBussinessName=function(e){let n="";if((t(e)||0===e.length)&&"renderer"===process.type){let e=i.normalize(decodeURIComponent(window.location.href)),t=e.indexOf(r.GlobalDataNS.getResourcesPath());t=t>-1?t+r.GlobalDataNS.getResourcesPath().length+1:t;let o=e.length-1,s=e.indexOf("?"),a=e.indexOf("#");o=s>-1?Math.min(s-1,o):o,o=a>-1?Math.min(a-1,o):o,t>-1&&o>=t&&(n=e.substr(t,o-t+1))}return 0===n.length&&t(n=t(e)||0===e.length?process.type:e)&&(n=""),n=n.replace(/\||,|;/g,"_")},e.isNullOrUndefined=t,e.trackEvent=o,e.trackXdasProfileStatEvent=function(e="",t="",n=0,i=0,r=0,s=0,a="",l=0){return o(c,e,t,n,i,r,s,a,l)},e.getOSVersionString=function(){if(void 0===l){let e=a.os.getOSVersion();e&&e.versionNumber&&(l=`${e.versionNumber.major||"0"}.${e.versionNumber.minor||"0"}.${e.versionNumber.build||"0"}.${e.versionNumber.patch||"0"}`)}return l}}(t.PerformanceMonitorUtilNS||(t.PerformanceMonitorUtilNS={}))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBox=void 0;const o=n(4),r=n(28);!function(e){let t;!function(e){e.Info="info",e.Warning="warning",e.Error="error",e.Success="success"}(t=e.ConfirmType||(e.ConfirmType={})),e.confirm=function(e,t={}){return i(this,void 0,void 0,function*(){return e.boxId=String(Math.random()).replace(/\D/,""),o.ipcRenderer.send("xmp-message-box-confirm-create",{dialogConf:t,options:e}),(yield r.electron.ipcMain.__resolve()).once(`xmp-message-box-init-${e.boxId}`,t=>{t.sender.send("xmp-message-box-init-reply",{popType:"confirm",options:e})}),new Promise(t=>i(this,void 0,void 0,function*(){(yield r.electron.ipcMain.__resolve()).once(`xmp-message-box-resolve-${e.boxId}`,(e,n,i)=>{t({action:n,checkboxChecked:i})})}))})},e.pop=function(e,t={}){return i(this,void 0,void 0,function*(){let n=String(Math.random()).replace(/\D/,"");return o.ipcRenderer.send("xmp-message-box-pop-create",{dialogConf:t,boxId:n}),(yield r.electron.ipcMain.__resolve()).once(`xmp-message-box-init-${n}`,t=>{t.sender.send("xmp-message-box-init-reply",{popType:"message-box",options:e})}),new Promise(e=>i(this,void 0,void 0,function*(){(yield r.electron.ipcMain.__resolve()).once(`xmp-message-box-resolve-${n}`,(t,n,i)=>{e({action:n,formData:i})})}))})},e.custom=function(e,t={},n={}){return i(this,void 0,void 0,function*(){let s=String(Math.random()).replace(/\D/,"");return t.boxId=s,o.ipcRenderer.send("xmp-message-box-custom-create",{popType:e,dialogConf:n,boxId:s,options:t}),(yield r.electron.ipcMain.__resolve()).once(`xmp-message-box-init-${s}`,i=>{i.sender.send("xmp-message-box-init-reply",{popType:e,options:t,dialogConf:n})}),new Promise(e=>i(this,void 0,void 0,function*(){(yield r.electron.ipcMain.__resolve()).once(`xmp-message-box-resolve-${s}`,(t,n,i)=>{e({action:n,args:i})})}))})}}(t.MessageBox||(t.MessageBox={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBoxNS=void 0,function(e){let t;!function(e){e[e.OK=0]="OK",e[e.Cancel=1]="Cancel",e[e.Close=2]="Close"}(t=e.Action||(e.Action={}))}(t.MessageBoxNS||(t.MessageBoxNS={}))},,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0;var i,o=n(186),r=(i=o)&&i.__esModule?i:{default:i};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,r.default)(e)}},,function(e,t,n){n(58),e.exports=n(176)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=`messageBoxRendererContext${n(160).parse(location.href,!0).query.boxId}`;n(5).client.start({name:i});const o=n(177),r=n(71),s=n(180);n(245);const a=n(146),c=n(196);o.BrowserRendererPerformanceMonitorStatLoaderNS.init("message-box-renderer"),a.ThunderToolsNS.setBugreportCustomInfo("message-box-renderer"),new r.default({components:{App:s.default},render:e=>e("app")}).$mount("#app"),a.ThunderToolsNS.enableDevTools().catch(),a.ThunderToolsNS.enableDragOpenFile(),a.ThunderToolsNS.setBugreportSilentMode(),a.ThunderToolsNS.setBugreportUrlInfo().catch(),c.crossProcMenu.init(i)},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRendererPerformanceMonitorStatLoaderNS=void 0;n(51);const o=n(2),r=n(4),s=n(0),a=n(12),c=n(38),l=n(120),u=n(178),d=n(161);n(28);let f=new(a.default(o.join(l.GlobalDataNS.getResourcesPath(),"bin/XDASEnhancerAddon.node")).os.ColdStartupHelper)("XMP");class h{constructor(){this.browserStartType=void 0,this.getBrowserStartTypeInRendererFuncPromise=null}init(){return i(this,void 0,void 0,function*(){this.initStartTypeBrowserEnv(),this.initPageLoadTimeStat(),this.initCriticalErrorLogStat()})}initPageLoadTimeStat(){if("renderer"===process.type){let e=1e3,t=window.setInterval(()=>i(this,void 0,void 0,function*(){do{if(--e<0){window.clearInterval(t);break}if(null===window.performance||void 0===window.performance)break;let n=window.performance.timing;n&&n.loadEventEnd>0&&(window.clearInterval(t),yield this.pageLoadTimeStat())}while(0)}),300)}}pageLoadTimeStat(){return i(this,void 0,void 0,function*(){do{if("renderer"!==process.type)break;if(null===window.performance.timing||void 0===window.performance.timing)break;let e=f.isColdStartup()?1:0,t=d.PerformanceMonitorUtilNS.getOSVersionString(),n=window.performance.timing,i=n.loadEventEnd-n.navigationStart,o=n.fetchStart-n.navigationStart,r=n.domainLookupEnd-n.domainLookupStart,s=n.connectEnd-n.connectStart,a=n.responseStart-n.requestStart,c=n.responseEnd-n.responseStart,l=n.domComplete-n.domLoading,h=yield this.getBrowserStartType();d.PerformanceMonitorUtilNS.trackXdasProfileStatEvent("page_load_time","",0,0,0,0,`start_type=${h},cold_start_up=${e},os_version=${t},load_time=${i},before_fetch_time=${o},domin_lookup_time=${r},connect_time=${s},first_response_time=${a},responseTime=${c},domTime=${l},process=${yield u.BasePerformanceMonitorStatNS.getBusinessName()}`)}while(0)})}initStartTypeBrowserEnv(){"browser"===process.type&&r.ipcMain.on(c.ThunderChannelList.channelRMGetBrowserStartType,e=>i(this,void 0,void 0,function*(){let t=yield this.getBrowserStartType();e.sender.send(c.ThunderChannelList.channelMRGetBrowserStartTypeResult,t)}))}initCriticalErrorLogStat(){s.default.hook("beforeLog",(e,t,...n)=>{e===s.LogLevel.Critical&&d.PerformanceMonitorUtilNS.trackXdasProfileStatEvent("critical_error","",0,0,0,0,`module_name=${t},messages=${n}`)})}getBrowserStartTypeInMain(){if(void 0===this.browserStartType){let e=process.argv.length,t=process.argv;for(let n=0;n<e;n++){let e=t[n];if(e.startsWith("-StartType:")){this.browserStartType=e.substring("-StartType:".length);break}}void 0===this.browserStartType&&(this.browserStartType="")}return this.browserStartType}getBrowserStartTypeInRenderer(){return i(this,void 0,void 0,function*(){return null===this.getBrowserStartTypeInRendererFuncPromise&&(this.getBrowserStartTypeInRendererFuncPromise=new Promise(e=>{r.ipcRenderer.send(c.ThunderChannelList.channelRMGetBrowserStartType),r.ipcRenderer.once(c.ThunderChannelList.channelMRGetBrowserStartTypeResult,(t,n)=>{this.browserStartType=n,e(n),this.getBrowserStartTypeInRendererFuncPromise=null})})),this.getBrowserStartTypeInRendererFuncPromise})}getBrowserStartType(){return i(this,void 0,void 0,function*(){return new Promise(e=>i(this,void 0,void 0,function*(){let t="";t=void 0===this.browserStartType?"browser"===process.type?this.getBrowserStartTypeInMain():yield this.getBrowserStartTypeInRenderer():this.browserStartType,e(t)}))})}showExceptionHint(e,t,n,o){return i(this,void 0,void 0,function*(){0})}}!function(e){e.init=function(e){u.BasePerformanceMonitorStatNS.init(e,new h)}}(t.BrowserRendererPerformanceMonitorStatLoaderNS||(t.BrowserRendererPerformanceMonitorStatLoaderNS={}))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.BasePerformanceMonitorStatNS=void 0;const o=n(2),r=n(18);let s=null;const a=n(12),c=n(120),l=n(161);let u=a.default(o.join(c.GlobalDataNS.getResourcesPath(),"bin/XDASEnhancerAddon.node")),d=new u.os.ColdStartupHelper("XMP"),f=null;var h;!function(e){let t=void 0,o=new Set,a=null;function u(){return i(this,void 0,void 0,function*(){return new Promise(e=>i(this,void 0,void 0,function*(){void 0===t&&(null===a&&(a=new Promise(e=>{e(t=l.PerformanceMonitorUtilNS.formatBussinessName(""))})),t=yield a),e(t)}))})}function d(e){let t="";do{if(null===e||void 0===e)break;switch(typeof e){case"string":t=e;break;case"object":t=r.inspect(e)||"";break;case"number":case"boolean":t=e.toString()||""}}while(0);return t}function h(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function p(e){return i(this,void 0,void 0,function*(){return new Promise(t=>i(this,void 0,void 0,function*(){let i=void 0;null===s&&(s=yield Promise.resolve().then(()=>n(179)));let o=s.createHash("md5");null!==o&&(i=o.update(e).digest("hex")),t(i)}))})}function m(e,t,n,r){return i(this,void 0,void 0,function*(){let i=d(t),s=d(n),a=yield p(s),m=function(e){let t=new RegExp(h("file:///"),"g"),n=new RegExp(h(c.GlobalDataNS.getResourcesPath()+"\\"),"g"),i=new RegExp(h(encodeURI(c.GlobalDataNS.getResourcesPath().replace(/\\/g,"/")+"/")),"g");return e.replace(t,"").replace(n,"").replace(i,"")}(d(r)),g=yield p(m),v=`${e}:${a}:${g}`;o.has(v)||(o.add(v),l.PerformanceMonitorUtilNS.trackXdasProfileStatEvent("uncaught_exception","",0,0,0,0,`type=${e},business_name=${yield u()},code=${i},message_hash=${a},message=${encodeURI(s)},stack_hash=${g},stack=${encodeURI(m)}`)),f&&(yield f.showExceptionHint(e,i,s,m))})}function g(e){return i(this,void 0,void 0,function*(){console.error(e);let t=e||{};yield m("unhandledRejection",t.code,t instanceof Error?t.message:t,t.stack)})}e.init=function(e){t=e,function(){process.on("uncaughtException",e=>i(this,void 0,void 0,function*(){console.error(e);let t=e||{};yield m("uncaughtException",t.code,t.message,t.stack)})),"renderer"!==process.type?process.on("unhandledRejection",(e,t)=>i(this,void 0,void 0,function*(){yield g(e)})):window.addEventListener("unhandledrejection",e=>i(this,void 0,void 0,function*(){yield g(e&&e.reason||{})}))}()},e.getBusinessName=u}(h||(h={})),function(e){e.init=function(e,t){h.init(e),(f=t)&&f.init().catch(e=>{console.log(e)})},e.getBusinessName=function(){return i(this,void 0,void 0,function*(){return h.getBusinessName()})},e.trackColdStartUpEvent=function(e){return i(this,void 0,void 0,function*(){let t=d.isColdStartup()?1:0,n=l.PerformanceMonitorUtilNS.getOSVersionString(),i=u.os.performanceMonitorReporter.getProcessUptime(),o="";f&&(o=yield f.getBrowserStartType());let r=`key=${e},start_type=${o},cold_start_up=${t},os_version=${n},cost_time=${i}`;l.PerformanceMonitorUtilNS.trackXdasProfileStatEvent("cold_start_up","",0,0,0,0,r)})}}(t.BasePerformanceMonitorStatNS||(t.BasePerformanceMonitorStatNS={}))},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";n.r(t);var i=n(150),o=n(100);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,function(){return o[e]})}(r);n(193),n(194),n(145),n(195);var s=n(6),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="src/message-box-renderer/app.vue",t.default=a.exports},function(e,t,n){"use strict";n.r(t);var i=n(153),o=n(102);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,function(){return o[e]})}(r);n(190);var s=n(6),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="src/message-box-renderer/views/confirm.vue",t.default=a.exports},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ThunderWindowNS=void 0;const o=n(4),r=n(38),s=n(183),a=n(184),c=n(42),l=n(35);!function(e){e.resizeToFitContent=function(e=0,t=0,n){return i(this,void 0,void 0,function*(){let i=yield c.rpc.getCurrentWindow();if(e>0&&t>0)yield i.setSize(e,t);else{let e=document.querySelector(".td-dialog");o.dialog&&(yield i.setSize(e.offsetWidth,e.offsetHeight))}n&&"function"==typeof n&&(yield n()),i.show()})},e.autoAdaptScrollIntoView=function(e,t,n){let i=t.scrollTop,o=t.getBoundingClientRect(),r=e.getBoundingClientRect(),s=o.bottom;void 0!==n&&"number"==typeof n&&n>0&&(s=o.top+n),r.top<o.top?t.scrollTop=i-(o.top-r.top):r.bottom>s&&(t.scrollTop=i+(r.bottom-s))},e.fitWindowPosInParent=function(e,t){return i(this,void 0,void 0,function*(){if(e||(e=yield c.rpc.getCurrentWindow()),t||(t=yield e.getParentWindow()),!e||!t)return;let n=yield e.getNativeWindowHandle(),i=yield t.getNativeWindowHandle();o.ipcRenderer.send(r.ThunderChannelList.channelRMSetPosition,n.readUIntLE(0,4),i.readUIntLE(0,4))})},e.getWindowsInParentCenterPos=function(e,t,n){return i(this,void 0,void 0,function*(){n||(n=yield c.rpc.getCurrentWindow());let i=yield n.getPosition(),o=yield n.getSize(),r=yield s.default.getCursorScreenPoint(),a=yield s.default.getDisplayNearestPoint(r),l=a.size.width,u=a.size.height,d=o[0],f=o[1];i[0]+d>l&&(d=l-i[0]),i[1]+f>u&&(f=u-i[1]);let h=i[0]+(d-e)/2,p=i[1]+(f-t)/2;return h<0?h=0:h>l-e&&(h=l-e),p<0?p=0:p>u-t&&(p=u-t),[Math.round(h),Math.round(p)]})},e.centerWnd=function(e,t,n){return i(this,void 0,void 0,function*(){do{if(!e||!t)break;let n=e.getNativeWindowHandle().readUIntLE(0,4);if(!n)break;let i=t.getPosition(),o=t.getSize(),r=e.getSize(),a=yield s.default.getCursorScreenPoint(),c=yield s.default.getDisplayNearestPoint(a),u=c.scaleFactor,d=c.size.width,f=c.size.height,h=o[0],p=o[1];i[0]+h>d&&(h=d-i[0]),i[1]+p>f&&(p=f-i[1]);let m=i[0]+(h-r[0])/2,g=i[1]+(p-r[1])/2;m<0?m=0:m>d-r[0]&&(m=d-r[0]),g<0?g=0:g>f-r[1]&&(g=f-r[1]),l.ThunderHelper.setWindowPosEx(n,0,m*u,g*u,0,0,5)}while(0)})},e.bringWindowToTop=function(e){return i(this,void 0,void 0,function*(){e||(e=yield a.default.getWindowHandle()),o.ipcRenderer.send(r.ThunderChannelList.channelMRBringWindowToTop,e)})}}(t.ThunderWindowNS||(t.ThunderWindowNS={}))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(28);const r=new class{constructor(){this.screen=null}init(){return i(this,void 0,void 0,function*(){this.screen=yield o.electron.screen.__resolve()})}getAllDisplays(){return i(this,void 0,void 0,function*(){return this.screen||(yield this.init()),this.screen.getAllDisplays()})}getCursorScreenPoint(){return i(this,void 0,void 0,function*(){return this.screen||(yield this.init()),this.screen.getCursorScreenPoint()})}getDisplayMatching(e){return i(this,void 0,void 0,function*(){return this.screen||(yield this.init()),this.screen.getDisplayMatching(e)})}getDisplayNearestPoint(e){return i(this,void 0,void 0,function*(){return this.screen||(yield this.init()),this.screen.getDisplayNearestPoint(e)})}getMenuBarHeight(){return i(this,void 0,void 0,function*(){return this.screen||(yield this.init()),this.screen.getMenuBarHeight()})}getPrimaryDisplay(){return i(this,void 0,void 0,function*(){return this.screen||(yield this.init()),this.screen.getPrimaryDisplay()})}};t.default=r},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(28),r=n(8),s=n(0).default.getLogger("mian-window");const a=new class{constructor(){this.mainWindow=null,this.handle=0,this.closed=!1,this.inited=!1,this.isIniting=!1,this.emitter=new r.EventEmitter,this.emitter.setMaxListeners(0)}init(){return i(this,void 0,void 0,function*(){this.mainWindow||this.closed||(this.isIniting?yield new Promise(e=>i(this,void 0,void 0,function*(){this.emitter.on("OnInit",()=>{e()})})):(this.isIniting=!0,this.mainWindow=yield o.global.mainRendererWindow.__resolve(),this.isIniting=!1,this.emitter.emit("OnInit"),this.emitter.removeAllListeners())),this.inited||(this.inited=!0,this.mainWindow.on("closed",()=>{this.closed=!0}))})}getWindow(){return i(this,void 0,void 0,function*(){return(yield this.isMainWindowValid())?this.mainWindow:null})}getId(){return i(this,void 0,void 0,function*(){return(yield this.isMainWindowValid())?this.mainWindow.id:0})}getChildWindows(){return i(this,void 0,void 0,function*(){return(yield this.isMainWindowValid())?this.mainWindow.getChildWindows():[]})}close(){return i(this,void 0,void 0,function*(){(yield this.isMainWindowValid())&&this.mainWindow.close()})}showInactive(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.showInactive()})}getBounds(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.getBounds()})}setBounds(e){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.setBounds(e)})}getWindowHandle(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid()){if(!this.handle){let e=yield this.mainWindow.getNativeWindowHandle();this.handle=e.readUInt32LE(0)}return this.handle}})}getWebContents(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.webContents})}isFullScreen(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.isFullScreen()})}setFullScreen(e){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.setFullScreen(e)})}setResizeable(e){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.setResizable(e)})}getMaximumSize(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.getMaximumSize()})}isResizable(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.isResizable()})}focus(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.focus()})}getMinimumSize(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.getMinimumSize()})}setMinimumSize(e,t){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.setMinimumSize(e,t)})}setMaximumSize(e,t){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.setMaximumSize(e,t)})}isMinimized(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.isMinimized()})}minimize(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.minimize()})}isMaximized(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.isMaximized()})}maximize(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.maximize()})}unmaximize(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.unmaximize()})}hide(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.hide()})}show(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return s.warning("cqm mainwindow show"),this.mainWindow.show()})}restore(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.restore()})}isVisible(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.isVisible()})}isDestroyed(){return i(this,void 0,void 0,function*(){return!(this.mainWindow&&!this.closed)||this.mainWindow.isDestroyed()})}on(e,t){return i(this,void 0,void 0,function*(){(yield this.isMainWindowValid())&&(yield this.mainWindow.on(e,t))})}removeListener(e,t){return i(this,void 0,void 0,function*(){(yield this.isMainWindowValid())&&this.mainWindow.removeListener(e,t)})}removeAllListener(){return i(this,void 0,void 0,function*(){(yield this.isMainWindowValid())&&this.mainWindow.removeAllListeners()})}once(e,t){return i(this,void 0,void 0,function*(){(yield this.isMainWindowValid())&&(yield this.mainWindow.once(e,t))})}send(e,...t){return i(this,void 0,void 0,function*(){(yield this.isMainWindowValid())&&(yield this.mainWindow.send(e,...t))})}hookWindowMessage(e,t){return i(this,void 0,void 0,function*(){(yield this.isMainWindowValid())&&this.mainWindow.hookWindowMessage(e,(e,n)=>{t(e,n)})})}unhookWindowMessage(e){return i(this,void 0,void 0,function*(){(yield this.isMainWindowValid())&&this.mainWindow.unhookWindowMessage(e)})}center(){return i(this,void 0,void 0,function*(){if(yield this.isMainWindowValid())return this.mainWindow.center()})}isMainWindowValid(){return i(this,void 0,void 0,function*(){if(!this.mainWindow){if(this.closed)return!1;yield this.init()}return this.mainWindow&&!this.closed})}};t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(173),o=n.n(i),r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"td-checkbox",class:{"is-checked":e.checked,"is-disabled":e.disabled,"is-indeterminate":e.indeterminate}},[n("input",{staticClass:"td-checkbox__inner",attrs:{type:"checkbox",disabled:e.disabled},domProps:{checked:e.checked},on:{change:e.handleChange}}),e._v(" "),n("span",{staticClass:"td-checkbox__label"},[e._t("default")],2)])},staticRenderFns:[],name:"td-checkbox",props:{label:String,value:[Boolean,Array],disabled:{type:Boolean,default:!1},indeterminate:Boolean},computed:{checked:function(){return"boolean"==typeof this.value?this.value:this.value.includes(this.label)}},methods:{handleChange:function(){var e=this;"boolean"==typeof this.value?this.$emit("input",!this.value):this.checked?this.$emit("input",this.value.filter(function(t){return t!==e.label})):this.$emit("input",[].concat(o()(this.value),[this.label]))}},install:function(e){e.component(r.name,r)}};t.default=r},function(e,t,n){e.exports={default:n(187),__esModule:!0}},function(e,t,n){n(72),n(188),e.exports=n(7).Array.from},function(e,t,n){"use strict";var i=n(25),o=n(23),r=n(77),s=n(91),a=n(92),c=n(52),l=n(189),u=n(93);o(o.S+o.F*!n(94)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,d,f=r(e),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,_=u(f);if(g&&(m=i(m,p>2?arguments[2]:void 0,2)),void 0==_||h==Array&&a(_))for(n=new h(t=c(f.length));t>v;v++)l(n,v,g?m(f[v],v):f[v]);else for(d=_.call(f),n=new h;!(o=d.next()).done;v++)l(n,v,g?s(d,m,[o.value,v],!0):o.value);return n.length=v,n}})},function(e,t,n){"use strict";var i=n(14),o=n(36);e.exports=function(e,t,n){t in e?i.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){"use strict";var i=n(230);n.n(i).a},function(e,t,n){"use strict";n.r(t);var i=n(154),o=n(104);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,function(){return o[e]})}(r);var s=n(6),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="src/message-box-renderer/views/message-box.vue",t.default=a.exports},function(e,t,n){"use strict";n.r(t);var i=n(155),o=n(106);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,function(){return o[e]})}(r);var s=n(6),a=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);a.options.__file="src/message-box-renderer/views/dlna-select.vue",t.default=a.exports},function(e,t,n){"use strict";var i=n(235);n.n(i).a},function(e,t,n){"use strict";var i=n(237);n.n(i).a},function(e,t,n){"use strict";var i=n(243);n.n(i).a},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.crossProcMenu=void 0;const o=n(39),r=n(5),s=n(0),a=n(20),c=s.default.getLogger("[crossmenu]-cross-process-menu"),l="main-process";t.crossProcMenu=new class{constructor(){this.menuClickFuncMap=new Map,this.clientFuncId=process.pid+"_handleProcessMenuItemClick",this.clientFuncCloseId=process.pid+"_onMainProcMenuClose",this.remoteId=""}init(e){this.remoteId=e,r.client.registerFunctions({[this.clientFuncId]:this.handleProcessMenuItemClick.bind(this)}),r.client.registerFunctions({[this.clientFuncCloseId]:this.onMainProcMenuClose.bind(this)}),c.information("注册菜单回调函数,remoteId=",this.remoteId,"clientFuncId=",this.clientFuncId," clientFuncCloseId=",this.clientFuncCloseId)}initMenu(e){return i(this,void 0,void 0,function*(){for(let t=0;t<e.length;t++){if(e[t].submenu&&(yield this.initMenu(e[t].submenu)),"function"==typeof e[t].click){let n=o.ThunderUtil.createGUID();this.menuClickFuncMap.set(n,{click:e[t].click,userData:e[t].userData}),e[t].clickGUID=n,e[t].click=void 0}"function"==typeof e[t].getChecked&&(e[t].checked=yield e[t].getChecked(e[t]),e[t].getChecked=void 0),"function"==typeof e[t].getEnabled&&(e[t].enabled=yield e[t].getEnabled(e[t]),e[t].getEnabled=void 0),"function"==typeof e[t].getVisible&&(e[t].visible=yield e[t].getVisible(e[t]),e[t].getVisible=void 0),e[t].userData=void 0}})}popUpMenuInMainProc(e,t){c.information("popUpMenuInMainProc enter"),r.client.callRemoteClientFunction(l,"handleRenderMenuPopup",this.remoteId,this.clientFuncId,this.clientFuncCloseId,e,t).catch(),r.client.callServerFunction(a.XmpPluginFunction.setMenuPopUp,!0).catch()}onMainProcMenuClose(){c.information("菜单关闭了"),this.menuClickFuncMap.clear(),r.client.callServerFunction(a.XmpPluginFunction.setMenuPopUp,!1).catch()}handleProcessMenuItemClick(e,t){if(c.information("handleProcessMenuItemClick enter remoteId=",e," item=",t),!t.clickGUID)return void c.warning("非GUID映射菜单调用");let n=this.menuClickFuncMap.get(t.clickGUID);n?(c.information("回调函数: func=",n," type:",typeof n),t.userData=n.userData,n.click(t),this.menuClickFuncMap.delete(t.clickGUID),c.information("handleProcessMenuItemClick leave")):c.error("回调函数对象不存在, clickGUID=",t.clickGUID)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,function(e,t){},,function(e,t){},,function(e,t){},,,,function(e,t){},,function(e,t){}]);